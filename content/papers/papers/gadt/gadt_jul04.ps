%!PS-Adobe-2.0
%%Creator: dvips(k) 5.90a Copyright 2002 Radical Eye Software
%%Title: gadt.dvi
%%CreationDate: Mon Jul 19 12:58:50 2004
%%Pages: 15
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica-Bold Helvetica Times-Bold Times-Roman
%%+ Times-Italic CMSY10 Symbol Courier EURM10 EUEX10 EUFM10 EUSM10 EURM7
%%+ CMEX10 ZapfChancery-MediumItalic MSAM10 EUFM7
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: c:\software\texmf\miktex\bin\dvips.exe -t a4 gadt.dvi
%+ -o gadt.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2004.07.19:1258
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: pstricks.pro
%!
% PostScript prologue for pstricks.tex.
% Version 97 patch 4, 04/05/10
% For distribution, see pstricks.tex.
%
/tx@Dict 200 dict def tx@Dict begin
/ADict 25 dict def
/CM { matrix currentmatrix } bind def
/SLW /setlinewidth load def
/CLW /currentlinewidth load def
/CP /currentpoint load def
/ED { exch def } bind def
/L /lineto load def
/T /translate load def
/TMatrix { } def
/RAngle { 0 } def
/Atan { /atan load stopped { pop pop 0 } if } def
/Div { dup 0 eq { pop } { div } ifelse } def
/NET { neg exch neg exch T } def
/Pyth { dup mul exch dup mul add sqrt } def
/PtoC { 2 copy cos mul 3 1 roll sin mul } def
/PathLength@ { /z z y y1 sub x x1 sub Pyth add def /y1 y def /x1 x def }
def
/PathLength { flattenpath /z 0 def { /y1 ED /x1 ED /y2 y1 def /x2 x1 def
} { /y ED /x ED PathLength@ } {} { /y y2 def /x x2 def PathLength@ }
/pathforall load stopped { pop pop pop pop } if z } def
/STP { .996264 dup scale } def
/STV { SDict begin normalscale end STP  } def
%
%%-------------- DG begin patch 15 ---------------%%
%/DashLine { dup 0 gt { /a .5 def PathLength exch div } { pop /a 1 def
%PathLength } ifelse /b ED /x ED /y ED /z y x add def b a .5 sub 2 mul y
%mul sub z Div round z mul a .5 sub 2 mul y mul add b exch Div dup y mul
%/y ED x mul /x ED x 0 gt y 0 gt and { [ y x ] 1 a sub y mul } { [ 1 0 ]
%0 } ifelse setdash stroke } def
/DashLine {
  dup 0 gt { /a .5 def PathLength exch div } { pop /a 1 def PathLength } ifelse
  /b ED /x1 ED /y1 ED /x ED /y ED 
  /z y x add y1 add x1 add def
  /Coef b a .5 sub 2 mul y mul sub z Div round 
  z mul a .5 sub 2 mul y mul add b exch Div def 
  /y y Coef mul def /x x Coef mul def /y1 y1 Coef mul def /x1 x1 Coef mul def
  x1 0 gt y1 0 gt x 0 gt y 0 gt and { [ y x y1 x1 ] 1 a sub y mul}
  { [ 1 0] 0 } ifelse setdash stroke
} def
%%-------------- DG end patch 15 ---------------%%
/DotLine { /b PathLength def /a ED /z ED /y CLW def /z y z add def a 0 gt
{ /b b a div def } { a 0 eq { /b b y sub def } { a -3 eq { /b b y add
def } if } ifelse } ifelse [ 0 b b z Div round Div dup 0 le { pop 1 } if
] a 0 gt { 0 } { y 2 div a -2 gt { neg } if } ifelse setdash 1
setlinecap stroke } def
/LineFill { gsave abs CLW add /a ED a 0 dtransform round exch round exch
2 copy idtransform exch Atan rotate idtransform pop /a ED .25 .25
% DG/SR modification begin - Dec. 12, 1997 - Patch 2
%itransform translate pathbbox /y2 ED a Div ceiling cvi /x2 ED /y1 ED a
itransform pathbbox /y2 ED a Div ceiling cvi /x2 ED /y1 ED a
% DG/SR modification end
Div cvi /x1 ED /y2 y2 y1 sub def clip newpath 2 setlinecap systemdict
/setstrokeadjust known { true setstrokeadjust } if x2 x1 sub 1 add { x1
% DG/SR modification begin - Jun.  1, 1998 - Patch 3 (from Michael Vulis)
% a mul y1 moveto 0 y2 rlineto stroke /x1 x1 1 add def } repeat grestore }
% def
a mul y1 moveto 0 y2 rlineto stroke /x1 x1 1 add def } repeat grestore
pop pop } def
% DG/SR modification end
/BeginArrow { ADict begin /@mtrx CM def gsave 2 copy T 2 index sub neg
exch 3 index sub exch Atan rotate newpath } def
/EndArrow { @mtrx setmatrix CP grestore end } def
/Arrow { CLW mul add dup 2 div /w ED mul dup /h ED mul /a ED { 0 h T 1 -1
scale } if w neg h moveto 0 0 L w h L w neg a neg rlineto gsave fill
grestore } def
/Tbar { CLW mul add /z ED z -2 div CLW 2 div moveto z 0 rlineto stroke 0
CLW moveto } def
/Bracket { CLW mul add dup CLW sub 2 div /x ED mul CLW add /y ED /z CLW 2
div def x neg y moveto x neg CLW 2 div L x CLW 2 div L x y L stroke 0
CLW moveto } def
/RoundBracket { CLW mul add dup 2 div /x ED mul /y ED /mtrx CM def 0 CLW
2 div T x y mul 0 ne { x y scale } if 1 1 moveto .85 .5 .35 0 0 0
curveto -.35 0 -.85 .5 -1 1 curveto mtrx setmatrix stroke 0 CLW moveto }
def
/SD { 0 360 arc fill } def
/EndDot { { /z DS def } { /z 0 def } ifelse /b ED 0 z DS SD b { 0 z DS
CLW sub SD } if 0 DS z add CLW 4 div sub moveto } def
/Shadow { [ { /moveto load } { /lineto load } { /curveto load } {
/closepath load } /pathforall load stopped { pop pop pop pop CP /moveto
load } if ] cvx newpath 3 1 roll T exec } def
/NArray { aload length 2 div dup dup cvi eq not { exch pop } if /n exch
cvi def } def
/NArray { /f ED counttomark 2 div dup cvi /n ED n eq not { exch pop } if
f { ] aload /Points ED } { n 2 mul 1 add -1 roll pop } ifelse } def
/Line { NArray n 0 eq not { n 1 eq { 0 0 /n 2 def } if ArrowA /n n 2 sub
def n { Lineto } repeat CP 4 2 roll ArrowB L pop pop } if } def
/Arcto { /a [ 6 -2 roll ] cvx def a r /arcto load stopped { 5 } { 4 }
ifelse { pop } repeat a } def
/CheckClosed { dup n 2 mul 1 sub index eq 2 index n 2 mul 1 add index eq
and { pop pop /n n 1 sub def } if } def
/Polygon { NArray n 2 eq { 0 0 /n 3 def } if n 3 lt { n { pop pop }
repeat } { n 3 gt { CheckClosed } if n 2 mul -2 roll /y0 ED /x0 ED /y1
ED /x1 ED x1 y1 /x1 x0 x1 add 2 div def /y1 y0 y1 add 2 div def x1 y1
moveto /n n 2 sub def n { Lineto } repeat x1 y1 x0 y0 6 4 roll Lineto
Lineto pop pop closepath } ifelse } def
/Diamond { /mtrx CM def T rotate /h ED /w ED dup 0 eq { pop } { CLW mul
neg /d ED /a w h Atan def /h d a sin Div h add def /w d a cos Div w add
def } ifelse mark w 2 div h 2 div w 0 0 h neg w neg 0 0 h w 2 div h 2
div /ArrowA { moveto } def /ArrowB { } def false Line closepath mtrx
setmatrix } def
% DG modification begin - Jan. 15, 1997
%/Triangle { /mtrx CM def translate rotate /h ED 2 div /w ED dup 0 eq {
%pop } { CLW mul /d ED /h h d w h Atan sin Div sub def /w w d h w Atan 2
%div dup cos exch sin Div mul sub def } ifelse mark 0 d w neg d 0 h w d 0
%d /ArrowA { moveto } def /ArrowB { } def false Line closepath mtrx
%setmatrix } def
/Triangle { /mtrx CM def translate rotate /h ED 2 div /w ED dup
CLW mul /d ED /h h d w h Atan sin Div sub def /w w d h w Atan 2
div dup cos exch sin Div mul sub def mark 0 d w neg d 0 h w d 0
d /ArrowA { moveto } def /ArrowB { } def false Line closepath mtrx
% DG/SR modification begin - Jun.  1, 1998 - Patch 3 (from Michael Vulis)
% setmatrix } def
setmatrix pop } def
% DG/SR modification end
/CCA { /y ED /x ED 2 copy y sub /dy1 ED x sub /dx1 ED /l1 dx1 dy1 Pyth
def } def
/CCA { /y ED /x ED 2 copy y sub /dy1 ED x sub /dx1 ED /l1 dx1 dy1 Pyth
def } def
/CC { /l0 l1 def /x1 x dx sub def /y1 y dy sub def /dx0 dx1 def /dy0 dy1
def CCA /dx dx0 l1 c exp mul dx1 l0 c exp mul add def /dy dy0 l1 c exp
mul dy1 l0 c exp mul add def /m dx0 dy0 Atan dx1 dy1 Atan sub 2 div cos
abs b exp a mul dx dy Pyth Div 2 div def /x2 x l0 dx mul m mul sub def
/y2 y l0 dy mul m mul sub def /dx l1 dx mul m mul neg def /dy l1 dy mul
m mul neg def } def
/IC { /c c 1 add def c 0 lt { /c 0 def } { c 3 gt { /c 3 def } if }
ifelse /a a 2 mul 3 div 45 cos b exp div def CCA /dx 0 def /dy 0 def }
def
/BOC { IC CC x2 y2 x1 y1 ArrowA CP 4 2 roll x y curveto } def
/NC { CC x1 y1 x2 y2 x y curveto } def
/EOC { x dx sub y dy sub 4 2 roll ArrowB 2 copy curveto } def
/BAC { IC CC x y moveto CC x1 y1 CP ArrowA } def
/NAC { x2 y2 x y curveto CC x1 y1 } def
/EAC { x2 y2 x y ArrowB curveto pop pop } def
/OpenCurve { NArray n 3 lt { n { pop pop } repeat } { BOC /n n 3 sub def
    n { NC } repeat EOC } ifelse } def
/AltCurve { { false NArray n 2 mul 2 roll [ n 2 mul 3 sub 1 roll ] aload
/Points ED n 2 mul -2 roll } { false NArray } ifelse n 4 lt { n { pop
pop } repeat } { BAC /n n 4 sub def n { NAC } repeat EAC } ifelse } def
/ClosedCurve { NArray n 3 lt { n { pop pop } repeat } { n 3 gt {
CheckClosed } if 6 copy n 2 mul 6 add 6 roll IC CC x y moveto n { NC }
repeat closepath pop pop } ifelse } def
/SQ { /r ED r r moveto r r neg L r neg r neg L r neg r L fill } def
/ST { /y ED /x ED x y moveto x neg y L 0 x L fill } def
/SP { /r ED gsave 0 r moveto 4 { 72 rotate 0 r L } repeat fill grestore }
def
/FontDot { DS 2 mul dup matrix scale matrix concatmatrix exch matrix
rotate matrix concatmatrix exch findfont exch makefont setfont } def
/Rect { x1 y1 y2 add 2 div moveto x1 y2 lineto x2 y2 lineto x2 y1 lineto
x1 y1 lineto closepath } def
/OvalFrame { x1 x2 eq y1 y2 eq or { pop pop x1 y1 moveto x2 y2 L } { y1
y2 sub abs x1 x2 sub abs 2 copy gt { exch pop } { pop } ifelse 2 div
exch { dup 3 1 roll mul exch } if 2 copy lt { pop } { exch pop } ifelse
/b ED x1 y1 y2 add 2 div moveto x1 y2 x2 y2 b arcto x2 y2 x2 y1 b arcto
x2 y1 x1 y1 b arcto x1 y1 x1 y2 b arcto 16 { pop } repeat closepath }
ifelse } def
/Frame { CLW mul /a ED 3 -1 roll 2 copy gt { exch } if a sub /y2 ED a add
/y1 ED 2 copy gt { exch } if a sub /x2 ED a add /x1 ED 1 index 0 eq {
pop pop Rect } { OvalFrame } ifelse } def
/BezierNArray { /f ED counttomark 2 div dup cvi /n ED n eq not { exch pop
} if n 1 sub neg 3 mod 3 add 3 mod { 0 0 /n n 1 add def } repeat f { ]
aload /Points ED } { n 2 mul 1 add -1 roll pop } ifelse } def
/OpenBezier { BezierNArray n 1 eq { pop pop } { ArrowA n 4 sub 3 idiv { 6
2 roll 4 2 roll curveto } repeat 6 2 roll 4 2 roll ArrowB curveto }
ifelse } def
/ClosedBezier { BezierNArray n 1 eq { pop pop } { moveto n 1 sub 3 idiv {
6 2 roll 4 2 roll curveto } repeat closepath } ifelse } def
/BezierShowPoints { gsave Points aload length 2 div cvi /n ED moveto n 1
sub { lineto } repeat CLW 2 div SLW [ 4 4 ] 0 setdash stroke grestore }
def
/Parab { /y0 exch def /x0 exch def /y1 exch def /x1 exch def /dx x0 x1
sub 3 div def /dy y0 y1 sub 3 div def x0 dx sub y0 dy add x1 y1 ArrowA
x0 dx add y0 dy add x0 2 mul x1 sub y1 ArrowB curveto /Points [ x1 y1 x0
y0 x0 2 mul x1 sub y1 ] def } def
/Grid { newpath /a 4 string def /b ED /c ED /n ED cvi dup 1 lt { pop 1 }
if /s ED s div dup 0 eq { pop 1 } if /dy ED s div dup 0 eq { pop 1 } if
/dx ED dy div round dy mul /y0 ED dx div round dx mul /x0 ED dy div
round cvi /y2 ED dx div round cvi /x2 ED dy div round cvi /y1 ED dx div
round cvi /x1 ED /h y2 y1 sub 0 gt { 1 } { -1 } ifelse def /w x2 x1 sub
0 gt { 1 } { -1 } ifelse def b 0 gt { /z1 b 4 div CLW 2 div add def
/Helvetica findfont b scalefont setfont /b b .95 mul CLW 2 div add def }
if systemdict /setstrokeadjust known { true setstrokeadjust /t { } def }
{ /t { transform 0.25 sub round 0.25 add exch 0.25 sub round 0.25 add
exch itransform } bind def } ifelse gsave n 0 gt { 1 setlinecap [ 0 dy n
div ] dy n div 2 div setdash } { 2 setlinecap } ifelse /i x1 def /f y1
dy mul n 0 gt { dy n div 2 div h mul sub } if def /g y2 dy mul n 0 gt {
dy n div 2 div h mul add } if def x2 x1 sub w mul 1 add dup 1000 gt {
pop 1000 } if { i dx mul dup y0 moveto b 0 gt { gsave c i a cvs dup
stringwidth pop /z2 ED w 0 gt {z1} {z1 z2 add neg} ifelse h 0 gt {b neg}
{z1} ifelse rmoveto show grestore } if dup t f moveto g t L stroke /i i
w add def } repeat grestore gsave n 0 gt
% DG/SR modification begin - Nov. 7, 1997 - Patch 1
%{ 1 setlinecap [ 0 dx n div ] dy n div 2 div setdash }
{ 1 setlinecap [ 0 dx n div ] dx n div 2 div setdash }
% DG/SR modification end
{ 2 setlinecap } ifelse /i y1 def /f x1 dx mul
n 0 gt { dx n div 2 div w mul sub } if def /g x2 dx mul n 0 gt { dx n
div 2 div w mul add } if def y2 y1 sub h mul 1 add dup 1000 gt { pop
1000 } if { newpath i dy mul dup x0 exch moveto b 0 gt { gsave c i a cvs
dup stringwidth pop /z2 ED w 0 gt {z1 z2 add neg} {z1} ifelse h 0 gt
{z1} {b neg} ifelse rmoveto show grestore } if dup f exch t moveto g
exch t L stroke /i i h add def } repeat grestore } def
/ArcArrow { /d ED /b ED /a ED gsave newpath 0 -1000 moveto clip newpath 0
1 0 0 b grestore c mul /e ED pop pop pop r a e d PtoC y add exch x add
exch r a PtoC y add exch x add exch b pop pop pop pop a e d CLW 8 div c
mul neg d } def
/Ellipse { /mtrx CM def T scale 0 0 1 5 3 roll arc mtrx setmatrix } def
/Rot { CP CP translate 3 -1 roll neg rotate NET  } def
/RotBegin { tx@Dict /TMatrix known not { /TMatrix { } def /RAngle { 0 }
def } if /TMatrix [ TMatrix CM ] cvx def /a ED a Rot /RAngle [ RAngle
dup a add ] cvx def } def
/RotEnd { /TMatrix [ TMatrix setmatrix ] cvx def /RAngle [ RAngle pop ]
cvx def } def
/PutCoor { gsave CP T CM STV exch exec moveto setmatrix CP grestore } def
/PutBegin { /TMatrix [ TMatrix CM ] cvx def CP 4 2 roll T moveto } def
/PutEnd { CP /TMatrix [ TMatrix setmatrix ] cvx def moveto } def
/Uput { /a ED add 2 div /h ED 2 div /w ED /s a sin def /c a cos def /b s
abs c abs 2 copy gt dup /q ED { pop } { exch pop } ifelse def /w1 c b
div w mul def /h1 s b div h mul def q { w1 abs w sub dup c mul abs } {
h1 abs h sub dup s mul abs } ifelse } def
/UUput { /z ED abs /y ED /x ED q { x s div c mul abs y gt } { x c div s
mul abs y gt } ifelse { x x mul y y mul sub z z mul add sqrt z add } { q
{ x s div } { x c div } ifelse abs } ifelse a PtoC h1 add exch w1 add
exch } def
/BeginOL { dup (all) eq exch TheOL eq or { IfVisible not { Visible
/IfVisible true def } if } { IfVisible { Invisible /IfVisible false def
} if } ifelse } def
/InitOL { /OLUnit [ 3000 3000 matrix defaultmatrix dtransform ] cvx def
/Visible { CP OLUnit idtransform T moveto } def /Invisible { CP OLUnit
neg exch neg exch idtransform T moveto } def /BOL { BeginOL } def
/IfVisible true def } def
end
% END pstricks.pro

%%EndProcSet
%%BeginProcSet: pst-dots.pro
%!PS-Adobe-2.0
%%Title: Dot Font for PSTricks
%%Creator: Timothy Van Zandt <tvz@Princeton.EDU>
%%Creation Date: May 7, 1993
%% Version 97 patch 1, 99/12/16
%% Modified by Etienne Riga <etienne.riga@skynet.be> - Dec. 16, 1999
%% to add /Diamond, /SolidDiamond and /BoldDiamond
10 dict dup begin
  /FontType 3 def
  /FontMatrix [ .001 0 0 .001 0 0 ] def
  /FontBBox [ 0 0 0 0 ] def
  /Encoding 256 array def
  0 1 255 { Encoding exch /.notdef put } for
  Encoding
    dup (b) 0 get /Bullet put
    dup (c) 0 get /Circle put
    dup (C) 0 get /BoldCircle put
    dup (u) 0 get /SolidTriangle put
    dup (t) 0 get /Triangle put
    dup (T) 0 get /BoldTriangle put
    dup (r) 0 get /SolidSquare put
    dup (s) 0 get /Square put
    dup (S) 0 get /BoldSquare put
    dup (q) 0 get /SolidPentagon put
    dup (p) 0 get /Pentagon put
    dup (P) 0 get /BoldPentagon put
% DG/SR modification begin - Dec. 16, 1999 - From Etienne Riga
    dup (l) 0 get /SolidDiamond put
    dup (d) 0 get /Diamond put
        (D) 0 get /BoldDiamond put
% DG/SR modification end
  /Metrics 13 dict def
  Metrics begin
    /Bullet        1000   def
    /Circle        1000   def
    /BoldCircle    1000   def
    /SolidTriangle 1344   def
    /Triangle      1344   def
    /BoldTriangle  1344   def
    /SolidSquare    886   def
    /Square         886   def
    /BoldSquare     886   def
    /SolidPentagon 1093.2 def
    /Pentagon      1093.2 def
    /BoldPentagon  1093.2 def
% DG/SR modification begin - Dec. 16, 1999 - From Etienne Riga
    /SolidDiamond  1008   def
    /Diamond       1008   def
    /BoldDiamond   1008   def
% DG/SR modification end
    /.notdef 0 def
  end
  /BBoxes 13 dict def
  BBoxes begin
    /Circle        { -550 -550 550 550 } def
    /BoldCircle    /Circle load def
    /Bullet        /Circle load def
    /Triangle      { -571.5 -330 571.5 660 } def
    /BoldTriangle  /Triangle load def
    /SolidTriangle /Triangle load def
    /Square        { -450 -450 450 450 } def
    /BoldSquare    /Square load def
    /SolidSquare   /Square load def
    /Pentagon      { -546.6 -465 546.6 574.7 } def
    /BoldPentagon  /Pentagon load def
    /SolidPentagon /Pentagon load def
% DG/SR modification begin - Dec. 16, 1999 - From Etienne Riga
    /Diamond       { -428.5 -742.5 428.5 742.5 } def
    /BoldDiamond   /Diamond load def
    /SolidDiamond  /Diamond load def
% DG/SR modification end
    /.notdef { 0 0 0 0 } def
  end
  /CharProcs 20 dict def
  CharProcs begin
    /Adjust {
      2 copy dtransform floor .5 add exch floor .5 add exch idtransform
      3 -1 roll div 3 1 roll exch div exch scale
    } def
    /CirclePath    { 0 0 500 0 360 arc closepath } def
    /Bullet        { 500 500 Adjust CirclePath fill } def
    /Circle        { 500 500 Adjust CirclePath .9 .9 scale CirclePath
                     eofill } def
    /BoldCircle    { 500 500 Adjust CirclePath .8 .8 scale CirclePath
                     eofill } def
    /BoldCircle    { CirclePath .8 .8 scale CirclePath eofill } def
    /TrianglePath  { 0  660 moveto -571.5 -330 lineto 571.5 -330 lineto
                     closepath } def
    /SolidTriangle { TrianglePath fill } def
    /Triangle      { TrianglePath .85 .85 scale TrianglePath eofill } def
    /BoldTriangle  { TrianglePath .7 .7 scale TrianglePath eofill } def
    /SquarePath    { -450 450 moveto 450 450 lineto 450 -450 lineto
                     -450 -450 lineto closepath } def
    /SolidSquare   { SquarePath fill } def
    /Square        { SquarePath .89 .89 scale SquarePath eofill } def
    /BoldSquare    { SquarePath .78 .78 scale SquarePath eofill } def
    /PentagonPath  {
      -337.8 -465   moveto
       337.8 -465   lineto
       546.6  177.6 lineto
         0    574.7 lineto
      -546.6  177.6 lineto
      closepath
    } def
    /SolidPentagon { PentagonPath fill } def
    /Pentagon      { PentagonPath .89 .89 scale PentagonPath eofill } def
    /BoldPentagon  { PentagonPath .78 .78 scale PentagonPath eofill } def
% DG/SR modification begin - Dec. 16, 1999 - From Etienne Riga
    /DiamondPath   { 0 742.5 moveto -428.5 0 lineto 0 -742.5 lineto
                     428.5 0 lineto closepath } def
    /SolidDiamond  { DiamondPath fill } def
    /Diamond       { DiamondPath .85 .85 scale DiamondPath eofill } def
    /BoldDiamond   { DiamondPath .7 .7 scale DiamondPath eofill } def
% DG/SR modification end
    /.notdef { } def
  end
  /BuildGlyph {
    exch
    begin
      Metrics 1 index get exec 0
      BBoxes 3 index get exec
      setcachedevice
      CharProcs begin load exec end
    end
  } def
  /BuildChar {
    1 index /Encoding get exch get
    1 index /BuildGlyph get exec
  } bind def
end
/PSTricksDotFont exch definefont pop
%END pst-dots.pro

%%EndProcSet
%%BeginProcSet: 8r.enc
% File 8r.enc  TeX Base 1 Encoding  Revision 2.0pre  2002-10-30
%
% @@psencodingfile@{
%   author    = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry,
%                W. Schmidt, P. Lehman",
%   version   = "2.0pre",
%   date      = "30 October 2002",
%   filename  = "8r.enc",
%   email     = "tex-fonts@@tug.org",
%   docstring = "This is the encoding vector for Type1 and TrueType
%                fonts to be used with TeX.  This file is part of the
%                PSNFSS bundle, version 9"
% @}
% 
% The idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard encoding, ISO Latin 1, Windows ANSI including the euro symbol,
% MacRoman, and some extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% These are /dotlessj /ff /ffi /ffl.
% 
% (4) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (5) /Euro was assigned to 128, as in Windows ANSI
%
% (6) Missing characters from MacRoman encoding incorporated as follows:
%
%     PostScript      MacRoman        TeXBase1
%     --------------  --------------  --------------
%     /notequal       173             0x16
%     /infinity       176             0x17
%     /lessequal      178             0x18
%     /greaterequal   179             0x19
%     /partialdiff    182             0x1A
%     /summation      183             0x1B
%     /product        184             0x1C
%     /pi             185             0x1D
%     /integral       186             0x81
%     /Omega          189             0x8D
%     /radical        195             0x8E
%     /approxequal    197             0x8F
%     /Delta          198             0x9D
%     /lozenge        215             0x9E
%
/TeXBase1Encoding [
% 0x00
 /.notdef /dotaccent /fi /fl
 /fraction /hungarumlaut /Lslash /lslash
 /ogonek /ring /.notdef /breve
 /minus /.notdef /Zcaron /zcaron
% 0x10
 /caron /dotlessi /dotlessj /ff
 /ffi /ffl /notequal /infinity
 /lessequal /greaterequal /partialdiff /summation
 /product /pi /grave /quotesingle
% 0x20
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus
 /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three
 /four /five /six /seven
 /eight /nine /colon /semicolon
 /less /equal /greater /question
% 0x40
 /at /A /B /C
 /D /E /F /G
 /H /I /J /K
 /L /M /N /O
% 0x50
 /P /Q /R /S
 /T /U /V /W
 /X /Y /Z /bracketleft
 /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c
 /d /e /f /g
 /h /i /j /k
 /l /m /n /o
% 0x70
 /p /q /r /s
 /t /u /v /w
 /x /y /z /braceleft
 /bar /braceright /asciitilde /.notdef
% 0x80
 /Euro /integral /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /Omega /radical /approxequal
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /Delta /lozenge /Ydieresis
% 0xA0
 /.notdef /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot /hyphen /registered /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde
 /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def


%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
%%BeginFont: EUSM10
%!PS-AdobeFont-1.1: EUSM10 2.1
%%CreationDate: 1992 Nov 20 17:36:44
% Euler fonts were designed by Hermann Zapf.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EUSM10) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EUSM10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 24 /similar put
dup 102 /braceleft put
dup 103 /braceright put
dup 106 /bar put
readonly def
/FontBBox{-8 -194 963 738}readonly def
/UniqueID 5031988 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF4E9D2405B169DE483FC3C5DBA587E58D683
9E11948C1A3E8B5360ADE57410E9F910E561F679EBFBEB0730125606CD072EB1
0A975FC5186A70BA3CAA77642D606B57469AD72289DA911758623D8C66DCB000
A804D330FA2310AB619846B77495D97E7065EFF7E9863C2B64CF640C06301DE3
EB4EE29B52BEA3204AF4CCEA9C444F88AD777F296CE544EE4A1E88E093DB16EE
35D8C6473B422A716796536C1347DEF0115B8E31BBDD72D574FF3800E34CFA96
9322738BF68A0EC2D78FB0CAB62512B656837C6184CA2E03BB30EC2396428702
0EFE3DD99016DFF0BB433068C23FF079C1EA255E1510957CA6FA2B6307274252
0E255FEBD892EC4434A09579FBE9BF52000882448823D29A95205EBAC8E4CDAB
252C9C21441B4E3616AE348DE997113556FD7D4A14256BE54BA2EFF1F19A01A6
4824F691EBBFA99BF593940B4A376C6FF81E89B0E672EEF95D12E8E962873673
A80D036D1687EA75A40ECCD264BB3228450B425867FE2CE54BDA69C86A2210D8
3B62AF190E473AE7F045B7DCC33B892F8009272D22B951B29B74690CC2FB8740
0C1A7B0327C30AD0CF027A06E8CBE8CBE7C2224BA8E0FE349B5BF30033D027C2
6EF80F00AC06A2AC1CE7C237ECB5F3616EE0C1CDD06A47F952F8F455172C4191
59CC7C7D9378CB4CF4F7FA17D9FDBC94024D0323F115206DDBDEE9C97DB4A29F
174BBD203ED0FDA1BFF0AFF74781F045E3D3F23AC926F472734F1E3C858FA60C
1C5CC4DECF246DFCBBD6E7FDA25AA240952DA6118ECF0EA4D3F589A81E541018
43E874DBE23F815D1728DE8699A74BE80B2F63553EA85A982FFAA0679AC682ED
A87E0015ABA520C142F0F5BD4686039C0256C1E874DED6D88E9229647955162C
575A35D75997887793FD6BFF0E62016C22575B6FF9CA06AA6006D895151D5219
ABB437F02CF077C09BDECC5E4E2050BDC29B37EA4F34144423F9BE96E565E68D
F9F2E9DACFB62E60AC0112B3F6465C24A34BE76E98B126D7088996DD4FD1B497
EA662957AE523364B10CABC2B0FC8D2DD3450A565400E3267D0BCFA84C0A3EFF
CFB5ADA17EA94A7DB3C882F3B317A3691255E0884F5ACB1BBF620890AD017B64
5CF8ABDF6EF7573655D48A2208ED2237F9E4369C20CB6A64A0AEB3B44C4C84FF
CDD3882EAC06B0319AD64F24F4D5FCAF8F8A871F6282DE6054119F185208C9DD
9B865C902454D73BB18A65F4A44D5EAC22A26A4DBFA3BDBC11F5950B19ABD577
DF817779C9C6057524AAD1EDDC75B3A524966EC72E20B2733BE58879EFDCD2F3
AFC36A1F8D0BA8D9B841458D312231346DAEFB59FD1B72847592755E9BA2D6C6
694CDEFEC1A2736E1B16260E6B24420C60D5C5588CC4576BABFC4F9037427057
6F8B3A72AA66B6F53BFF5E087D02027B159AC0FA08E05F9D4D64197B1BC44CFE
1DC27BFD9D4C25C8CBE0B4682F6B513B9023E51DD27A91BEAC75FB836BA3526C
208018442286A7D457D54F5F15E091902CF138DACF4E22B31347BC5FA36954B7
AB0D477F16DA8061E9246BAFED25B7FB543FE484749C66E9B746CC3F324E113D
6DD7E62511339C8B2E6CFFDE01B4D6348FB82460134F088925DC57143DEAD4B7
1B7E8AF52687F14ED3AD5897A711D34614960FB64E787A81C657CA7C2B947E2C
CDE8D12C3EF418F99953377E0471AEA82DCF5223AE85FA674422825EE9AC08B6
2CF46FC87BB799101289ADD94E83E7C56E91111303A4169B9D33EDBC58448109
8D759054BEC150977502930F619159585668BCF05E09B3F2866C5A14E7C75F36
3519767EA77E11AEF81166195C7DC5F5D81D1A707EB833E90CAEEA333916C058
8A792856B44332E5C4F0BF48EE90795705ABEFD8AF57EAA8B5F499415B7F5BB4
0D8E04F168751BAB9C4013531868495739D47038B08287D96BBD59184AA50D7C
E5BFD723C800C6645EE327617EF344BD5C4B68B67931533D0F0AE09933EA896C
12E20A5B48DFB40EEE1AF0AB2652DD152E055A1832A73748E2C22544D86DE66D
666AABC57A102BA82778CA11CC98F50A444CE56F63134311113572E83601ADA3
2EB409CE58FF89843D307CE0AFA6
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: EUFM7
%!PS-AdobeFont-1.1: EUFM7 2.1
%%CreationDate: 1992 Nov 20 17:36:25
% Euler fonts were designed by Hermann Zapf.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EUFM7) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EUFM7 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 40 /parenleft put
dup 41 /parenright put
readonly def
/FontBBox{0 -250 1193 750}readonly def
/UniqueID 5031992 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163B3DA4F9700DE5807F164169FBB
1458C43CD471029C362871D2FB69E0E5E617BC06F3B8621E3528E4B47E731AE1
0B406A3260424830B3C86A135457A566A1A716189B86883C171DA05829CE2E37
C020AAA2B4E1C2AB63462E7BB571434ED0811B99430919096D08C5F1C659B068
E87DB9366062D68FFD44AAD8A16740DCC214C32CDDDA354637C06EF93BC99352
DF04393C661FFFBF4BA20723ABD9B3E9CA9ABAFEED3C46C638D1A1C726DD7186
51137D23DD526D78AC5284266997E041592776D78B5DD8436571897EFD57A051
F9571E2957B23DF4ADB88D06EAAE9D73ABEC88C934E94205BFDF7115D9E667D6
CD2AFA8DCDA2D49EFC088135417D5D26117B20F923E8F0F5E92E0D8589BE5D93
7D4C3FEEF84B412F8177DE3E3C1711AA06686842AC5A3B3398B098FD06F255F0
2B237EF143FEE4CCC3540EA39B05197D2D9C149A2A71569B8608BA62D982CC7A
4FC2F4170B7A92531E4734A4D1D86FDA1B21AA3683CFC9EA65FB8A91990CEB69
AA62C0F22FDE470FA095FCBE4FB5BD40826BD6FECAA7F8B187412EFDC97E3DAB
E2A836F16ED6FFA7F5B5B2714EC5C4A43E4E36D45D9F702CE875B0DFE6E08559
B60BF589C3941BFDAD1392B4D7BCE363E47162D6322FCA12758538A9DB5E4404
56BD008A9DB0E1A2D684F32BDE744F9457C839411F623C0AD633582CAC6FDD79
881E0A4F43DD393738E3CEB1DCAC0CCBAD384E5160BABAA5EF1F46632D05BB7C
FC9396D17263BADE1AB2A229367D38F00D7B87124713CD716D9164E64FD1D52C
FD6E2226BB350465D3614E241A269ED51FF3283446643AF9F18DCE671611DB2F
5D3EA77EE734D2BED623F973E6840B8DAD1E2C3C2666DD4DD1C1C9C622FAEAB9
D3E54476B49A2A026565F10A9695AA86AFBEEFBBECD1DE7706DFDBC7ECB473B7
53FE39993D3A7A938707BFD651D79F4A2656C1F77ED8A0E0F17EAE8D3F6AE6F3
6E26B3F57B4DB543E0078368F56EFF97E47D2A113E3F6DE648E7A49E62DBD5D4
497B7B1CD4EF4387FB209EAE50FE1EAA4D6FCE298DB790A6BC8D8307F34F296F
7A8E5BB103EEF87C49556A0BE890A63C7F71C543CF837C7877F74F3108BB81F6
2B63515F9778CEE8CE63320F6399298E98AB6241E7CC0F431C07765ECBF2C51D
1E79E6F2E6E8550E21B7FB8E6DD02A387F049324ED338CDAD2D475021A016B8C
F76C943DD18A2AD305C8139D209AE104D74824C06ED0C6FCE3D5953E7D9962C1
D74E101D2C1A605D262A63D2089FFA78EA277966B66E853649AF74AC104F5BDC
EE3CDF8F1AD125751EA757744CBA7FAB1977A157D6965AB437C6662E1AA35456
0E8DDDB416B39E76D3EC40F571F8F301AB9D2F15B71DD1165F01CACFAA9373FE
47C87AC772095F0CF9C84761A38B35603B7510F96DB9F03E2829AEA3AC79B73A
BC8356E7FE2E1AE22D2566AF417F5CBA890FFB8D4DB592780052242AA6B1FACB
65CA3085540EE771151966AD85D3123A2ED7723F
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: MSAM10
%!PS-AdobeFont-1.1: MSAM10 2.1
%%CreationDate: 1993 Sep 17 09:05:00
% Math Symbol fonts were designed by the American Mathematical Society.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (MSAM10) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /MSAM10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 32 /squiggleright put
readonly def
/FontBBox{8 -463 1331 1003}readonly def
/UniqueID 5031981 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1C87678CE98C24B934A76220
4DD9B2FF3A49786028E35DDE10AD2C926BD30AD47015FFE9469DE1F793D1C53A
C8812CBCD402444EAEA7A50EC5FD93D6A04C2783B50EA48059E3E7407537CB8D
4C206846EF0764C05289733920E2399E58AD8F137C229F3CE3E34D2D1EAB2D53
20D44EFAC8EFA4D14A2EFE389D952527F98D0E49BD5BD2C8D58FF9CB9C78D974
75C2AB5467D73D2B5E277A3FDC35909938A9DF0EB91BD9159D3437BE22EE4544
3429AC8E2BFBE34AE54D3BA3AD04BDF3F4F43A2B43992DF88678681B3AB32CFD
A23E2C98D1AF00AB206AC95B78BBE6316F7A0AB6BD3236C28C76288B3C25D1EB
E9ABB3576C5EC15A71D26177F5883E9B48293D59015615E2EEAF2E9BA04151ED
5497B9A1C41CBA44BAFF13EA218F5EAC11952EE336AD1DBE6CE92F002EAA3B3D
3BE4C3792F3405763C4BD93EFC3B4FC34193439561841BA989DD8D9F9AEE7A7B
24AEB4654B35023C9720B8F31AA9452E29753FB7915CB29977E725611E37C0B7
784BCC26FACF8A7A0EB1E54290D27FFE52B2D87FAD080AD15EE1984C37E0EB30
122C3012D3A16B09C28903D138352AB5462674B6CFB63F1371768D094DDF288C
36FB9B58443F872D61F2CD8CED42FE0EFF3D7E9952A172BB1AFECB60BF79F2B6
04265FDE4F78BC9FD619AA733CD0412F1D9A7C13B271BF827DCBDC8ABAE24FF0
74D3C220621D7FF0EFE62D835A221D0A7C139E2E6681FC2BBA58FA3B80D416EC
3854C63BA040A4262B458340DAA18AA6AEA3BBAC61615CB85982B18664D3D3AF
340C65B969071CF2D0CABEB80E04623D0526F862ECA8280EEE236C535F70561A
854181132E677674AD5E14C6636F57541D3C821F0776D2CB9B8526D4B826791A
0B179B387D47B0811BB2C543C33C8D2E85C0963D01F865C6CAF0142A9A2579CD
305FDB83EE4360D6F14FB45F36149F144EDD40F5AD478F2A40A1B0350D02F91A
37C7B0C40EF70EFBAD0C322298C4CF581F1F753F7BEE26B56AB00363E62BA6C3
351EEA00CDE1365BC14698AF4B86193692A9AAB635D6B69B56907F1811021C80
EF24551295EBF4200B50DFAD78089297DA0A3884560E5C026D32A689B70EE227
E06A3F1BB2531E85D1F23E5F91DFFD7E30A94906147DFE3FA8C788274F33B058
E6FF0A3164B000CAAD8EAC5C25EF89B15F5CB1951741A0708953E8C806E7FB7B
6A53147B57BC529C9100D4E207FF508116F90429577F5F7C8E966BE6148C0389
56FDC687BD74BE3DB8B61BDC732603AA0C9CC93CBF48D29D1026BF287A44967D
6B8AC95404C3F61C77C1B892730F2CF825708D99A19086F6B8B6BD2BA84AB231
3A82B074EC6D65ED022C8D3621C9986E8015A00BDEF51970F89FB2B6
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: EUEX10
%!PS-AdobeFont-1.1: EUEX10 2.1
%%CreationDate: 1993 Sep 17 17:38:59
% Extended Computer Modern fonts were designed by the American Mathematical Society with assistance from Donald E. Knuth.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EUEX10) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EUEX10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 33 /arrowright put
dup 41 /arrowdblright put
dup 42 /arrowdblup put
dup 43 /arrowdbldown put
readonly def
/FontBBox{-24 -2959 1360 771}readonly def
/UniqueID 5031983 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BDC9E14E6B1B4D536B17074CB4
54A4053126F9B2C1B7FB83E160A8B2DC7A5829B3ACCDF203FC9E8F25D82A362E
8501E49B97522B51EF9981A4C569CE4BD2571D8B61BA8A5ED6FC5785FE49CC84
2FC9302B337EE8E56358640C6A8E6F827FA7CD01F444924567CB293A6AF6928B
D28815DAA3A2674D0F12519C7AD6D682464424EC9CB0D80A0098523B2D0D1667
195870CCDF610115B41F46E9694831FDE64B489EBDFA39C11304A1808C690DE4
93A4903522908D139769F6583094B82A989EE0E48698751F6AB10B32306902C0
3909FE3D18933CB208B52BB3AAFC3BEE4149AB322B612D14CB2ACE72179AAE1A
2C5D03C5143600D0DD439998956B9896FFBCB49A157B627EAC767276A8EF69DE
7F8904834515B131C97BD84C745DFCC68112FDF027259CAD7730D83AB1955D70
8737CF3CDEA7AD895B1F19EA897E6961B50953064E8F4293E5CA570E6CB5EF31
6F907A3BA1534304B00A615949A3DFABCBB13863CB1F7DBF341DCA164F02F938
9A3139C806A63BD71600E093DC6E3C76B81D1188842449174B5CBC0004C9FB8F
3549BB06A75062F15C4828813D36E398D0F2FCE56B4B55B46762B209440EB176
466A37014CEA0FCDCB8FC9813032FF60E9C293A15BBE31A9FB74C3435E40E9B6
B6184E97F54043E1A72A1739A87BF78D43A892663401D3A249AD2866CC8F704D
2A04F5639224292CE400A5C23593F8765E81210757A4880CE62B0E488108C224
B60A8E137D1E6B740311B9E30BE8C79FE8A4E40537A4402966BADBA96131E8D6
D5E8F03C12D7E0B65E037CB4676FCCCF29C13C88108DAC0CB9488D839D0DECA5
59B6237A321C0CFD17E5309977D454B3CDF72E226730E3EFB7C3B2046E04E31A
FBC1D62CA96DE4B407D2BA9736EDD0B6223A8F9AE5F81377761602A0266F232B
47DEEC07DB9C2C37F11468CE740FBEDCE2AF073D16F4381124193C9CF512D1E6
49402B37C596ABB64F2DE187E0393726F2F078DBC1BC00CB7161B10832621D32
1A9FCE75C56412E93783DD53F4A33666F6C03C3860E0413F795E724952EC7CFB
47FEC6B8189D55D52315171887F11F1280B2113B263BEF77874D9E59C4CD4A5F
610C94DF50E179138B9DCB2D3460EC921F3908DD78EA098FCBA689042C8E08F2
4AA53FDE563201E629DB71DAFC57B06F39FE2318D5367B55B42D7F5BD1B0F4B3
30C733C231A93CCCA4C150A860434EF2ED6F2F0721AEE1653DD4C47E42B4D865
A2FFAA0C48789B65FBC17D07EAF101852FDCCBC65B77F28F35CBDB9638D9C383
4BD5DDD38F8DB63DBAA9EE39E7ABC2CA497576F006F0480E368343600E8BC889
1F4C6E5BAD60C8211D15F6C927D8318EE26437A479D9494EBC1404B339671889
C22430D48BB7572CA71B7C8E73F8124E22B6F725EAE50B6744F2A735A85F9833
7B078DB99F4E13522EDC42DC9D2A40EE46E52ECEA932DF3942F3A880DBED13E5
11385166E55A84BCE6A8965E39E3B1C0C60D636C4E5DC873C9B1D9F7D8BD3D94
A476853EAD14B06A5CDA333475A1F6F717AC9878BF91BF9CAD97A926A787887E
CBDCD7920472820F143C9D2625FFE7F65772ABA06C1AEF39AC7C5D104EDB416D
B64DA6C42E51A683A41699E500C6D3D0F022E53F79DAACA16A60E21C5DA54124
BA9F62B0ECC3839C6D7CFD32A4029865A4787A54C1C54ADAFA2C0A9934A3BC74
169FFC00B55566D13D527C75041FC5CC5E153804EC34B8D25021C6004FA5179F
8ED3F5AF449FCB9478AA8CF4A0A6FBCB0A65B2346BF4A98CA98B6336C078
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 1 /periodcentered put
dup 14 /openbullet put
dup 15 /bullet put
dup 17 /equivalence put
dup 20 /lessequal put
dup 48 /prime put
dup 50 /element put
dup 54 /negationslash put
dup 55 /mapsto put
dup 56 /universal put
dup 63 /perpendicular put
dup 96 /turnstileleft put
dup 97 /turnstileright put
dup 116 /unionsq put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57034F30B748EA02516C927663E107D2F
D32CCA944B6DEB76D1A05854EB8DA03471617267BCC411EEBD27DC277CB7CF5C
5D8AC7089BC6F6440AD6216A5CAFD2CCE3A1B184C27010DAA9FEF2E38F8B6F80
A7328F44FEA7A4807C8E254ABAB59BD6BFCD73686D46293981B86D5301442FB0
80BE2DB3E4B75E1E2320B3A816AEED9AD3205C771720DEF1360A1FD851DB013C
853B294A9C459BD4051303349E9A5D0597A949535A3F88C05206C84D9AA3806D
BD123D11F7A5D4EE51E78D3630FA4EEDEF1C2C7DABBF6C60EA17BCB2A2037D45
7E1271C3FA31C1A2E39BBE585FB9010A60C1A7B696F316C2835C9C2A0DDDBC67
D4F9BC8C2E6ADEA597B514E5C83418DB143539770DA828A20BD418231FCAEA36
B42843B9B3583A104BEB854A1A8A2CCE86F84883E25609D839F03E8092801D69
F3E49B871C51CC4DFD4578A9BF147676256E708735F95CDD846A4D3881E029EE
1FC73CA6BC838BA45FF146F11F4060ADE32B73276FFE9E9949A51826394754B2
3246BF927B0C1B70747C162DD64227559ED1DE9F53CC27411F6626DF3A4C0A40
33E9EAE9C8018159AAFEC3932B82A824D07EA5D7CA7D9B148E90DC170A4BBEB9
8A0B79AA82DFBE2C8A240C370A0B00A1A87E4F97FD3C4759825F73F863100BD7
F295D9A0F41CFDCFFEEB99295F91A4A6D6DBCF8368E0E458804762AE42547674
99C523D1043B37E36C847ACE38B769F347C5C5C30B09D73EE858CA89B701AB6D
D4B6549AC38B9317DD10F106D99055DA44AF23C8C8B78F746AF5F3D727985037
AD18079AC8FE905B65DE0A1D778B9E3CBE38D63D0FE907AB0D86AF0EF70440D2
5741E3BBC726784569B6A535AAFFCA5FD37023034997577C67D0AAF923D93FB1
CFDA0273617987B0D786935409EA8EB3879C2ED278F39CAB695B02D2FC666A01
5DBD6B696B483D55076C96F4F877E2F29625F349EFC1731ACF60FE49BC3F5B23
02D4CCCE7C652848B196D86DE78B0858B62A79AE5E47ACF6E27DD7761E83414F
3D6146BCC11721D74339B2C19735CADF5BD5C179BB1993AA94A89934C32ED6E9
894DC98950B99BD19EA4CAE2616A5584DAAEEB8A63D88FF7CB3A320EE74624A3
DDB420079035B3F7B0164FC4D4CFE1CA7FB103AF3DCCCD71B3FEDDB0749D54C4
EFB7174A53B70A5C42A92D73F324CB2E9F558281EDE04B99C5D546B08D45D92D
0A5150B6321997ED3F9E641B761602AA6C3489ECE5FF01AC03509E84A2FD00C5
B8623C3D42A5E43DBB8DDDBE861AE688BB45F5CCF6D34C53D2C59B1A020CCC11
222CE8BDC5C5B0BE70A3887206F093C8008062F3DFDD444BD4267A7549F5AC51
5BA42B86999635F14503803E2851027D151485E13D1EC098B30C2FA40573ED06
075C65626052A2F0210874C20BEED200E09D81CE722B5837637546C4B7EE4589
4E756715E84565190A8C345465FC8FF9BE376DF981692EE4D582140B4272824C
AEA9402EF26C832FB0356DBACC4CBC89F7E836C9EE9AD608FFC4560E1E2A0B1A
B8436812A2435DEA2530627765049EB3ED13F45AE45111EB359EDB8B463189A0
2CA3C68DD4A7B6BBFFCD63D8021CF0348F93597DD2F9DC3F57A30E8A003BF8CA
674AD7FF032B71C2803B397064CD348EE6B4F1170910B93FE3E70A8E47981677
BB1399912A2D40972EBD77219E9A587C357E3D5F4657A13656274D29496AE843
9E8D6AAA655758FD0299506A27AAD5070B88B1DF634BFE286BBC2EACF9AD158E
0A319E8D23BCB0EDC4C65E1836692CD7C6BB307A3F09475232FF7A69C6CA0219
BA8CCF1F3A4E1A82D39E28F7850B00CA58D7FCDF5EFC3177CB993A33C7BF8A18
28026509234EFABA417EFCB90B7554D4645CE1DFDFA207D88AE5475197E4C6AE
E821EAC4B28237DA2A6BDF52083544E7EF1157D0BE43E1AC8EA631712421F715
5DBD65210D3323DF28ACBE7773260307E0391A99A3A62D2FBCDD5947869A9978
73542CD9774D68BD4746C1346EC7FD02F3F6B9C72DCA51C7BC07B8457F0D5EC4
F92D4296D8EAEA902FD2A519E04C12DF9E844DD6F2F052B2F54DECC75DB6B909
FD503F3DEE1935E253EF22D0E8671A1E1EE8C029C57AD2DFE662A06603CBBD08
9F850CE9131FA1B6F044D652B096EA589E0F0BA5A9767B8276AAE61E1EED2CE9
72F74C3B35F2770E6B200D91ADB217DAA573CC4712FDFBDD677ACF48318118B1
0DE5DA8177DB4668E9E7EDBECB1175158598B135C73C5A7C06DE13FE393B204D
7055B3E60894220123C4938C7A92D86DB2707C9F048417DCC204CB13D37027DD
988C
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: EURM10
%!PS-AdobeFont-1.1: EURM10 2.1
%%CreationDate: 1992 Nov 20 17:36:34
% Euler fonts were designed by Hermann Zapf.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EURM10) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EURM10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /Gamma put
dup 1 /Delta put
dup 3 /Lambda put
dup 5 /Pi put
dup 10 /Omega put
dup 11 /alpha put
dup 12 /beta put
dup 13 /gamma put
dup 14 /delta put
dup 15 /epsilon1 put
dup 18 /theta put
dup 21 /lambda put
dup 24 /xi put
dup 25 /pi put
dup 27 /sigma put
dup 28 /tau put
dup 29 /upsilon put
dup 30 /phi put
dup 49 /one put
dup 50 /two put
dup 58 /period put
dup 59 /comma put
dup 61 /slash put
dup 67 /C put
dup 84 /T put
dup 97 /a put
dup 98 /b put
dup 99 /c put
dup 100 /d put
dup 101 /e put
dup 102 /f put
dup 103 /g put
dup 104 /h put
dup 105 /i put
dup 109 /m put
dup 110 /n put
dup 111 /o put
dup 112 /p put
dup 113 /q put
dup 114 /r put
dup 115 /s put
dup 116 /t put
dup 117 /u put
dup 118 /v put
dup 120 /x put
dup 121 /y put
dup 122 /z put
readonly def
/FontBBox{-32 -206 1060 722}readonly def
/UniqueID 5031984 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA35081A3EF70F93A4FCF4140B4
F4BA926E2B0C037A54AA13BF32DE0B7F982A798C1690FCB6A0F1C1F97B6086F7
05F050801AEB6B89557D7AAECA58235F14B88C53C5E7699D62CB7135EA50BE24
4A6F6EFD997762D00159F5217F2A7FC12ED1FD1CDDE2961C9548BD966A26C693
E55C51F874353230C16B328BD35BB036A8AA771660A520C63ABA10352E6EF5D2
A21A84251D9B0DA3EA615C3B24D017BCB769481992620CFAF0203F931277BFBF
FC0F16150B53A284A11B625A77A06C37151A7E062A591BB9FCB4E96666AC0E6D
146D8467C4C5ADA986EF06E613CB48FEBEAACE210DDE13D7844B481E57C616FF
2F87748A70C281600F89EA636660D342CC7B1436757DC0C8916E9C38AECD3132
15FC6C6B9B682AF70B7ED5EF9ED8C72AC06DB418893225A01E265A6276D56479
21FF58A4C8058F8C4A61AE0ED01EE8D5646E6C0FDD1828146B47C37BBD2B61BF
C4B8875531DEBB9DC75948485863A51DA90CFC612C8ACC34310EEF29D40F1DB0
24584EEA868733368F3EAFF2AB8834F01E1BC04B077BBA80D80285FCA172353D
01ED05A0BF270C21CFC7E5B4D765A25A75DE914041607C6AFC67C5D711AA37B3
84E23D02DCD904AA0C6670CF256D24CA9F34633EE619D1747D3572CE2D82290B
D895D57BDB03CCB29B9086077AA19E82E245C4D67F02904D0CA4B17F45FFF9EC
C8719A55C7EDC880C6DE5D27267A083AB75D97EA7C2765D1980AA866FB4727E7
F1835263425A1BE7D3F64A28027FAFF346CD81DCC6A586555B0BB4EB22808150
19B5564502089AABA4EB2AF4ACC6069DCE3344961B60805BC785A05B62170337
C07BA702751472C7E7E4E59CDA4B898D3A1B20E59F7446B1C0AB1EAE7406F80F
8DF346E208B481D3CD1A10194FF724919EF5C75B73C9354A0E1FA15CA9D35AD1
EED1996627516EA401AC47C46F005AFBF75DBE7FBAE84EA1FAA558A81EBE5CE5
24F1CD6126603FDE6F7F6A739F39B97E87803B2407A17A590B19B44A174A174D
7E4217CB3AD9DB26B6894E3159F6F1359567E1B0F877C1EDBE3EDACC3E35ED78
1567811F82AB8A08E77F8159A799CE73AA3431D4CE2588D6BD56AD5C36926E38
CAD757C2D19438E16B2A9AC314BEE6BEF711DDC5804B2EE50895CB24CD972D52
B2DE3AED04A9462AF831363ECAE3DAA2A1CFAC1214F5FC18840DA270B02348B5
017AF5455EF7C60253AF7541CB68AD6FF047746057DFB4BEFDE139BA03BF0BD3
41B75B34B83025EFF6897B4AD54779AFBA87CBB3E3951F80DD97C795197E73A9
5A31E7FDA474560FC501B46D93AACC3401C249343B1B3BD21B2224B588119392
8123B8511976A8F22FBC5D7909C083BC3B42BF922684195E05819AAA660E469C
2A36365E65AD3C0CBC7FF1DD6453D53D2A071DCE748CB6C02D24024074DE06AB
E6AAC1F7719BEF7402F78F6694FCD7ABE345D54E4F0A115366B68DEE47EA4BF8
5CC78015C8FB03529490FD94540561776E6B02ABD19CD1670E6ED11E443D40B1
4A941713B0103EDDE59B5A18D7C066E72B56687D94937F82B5C460440D81DC4F
30EE07937DA04812F9B3A363E647BE3432509AF0178537E264DAC3CADE4805C4
FA0A45156B1CB5E0B8CD1368BF6538BD4775231A045A836B0380FB65EC41F375
D52103977841316A8C4428A33D3E090DFD28A78D581D53A09EDE7D3CDF873AE6
D8AE5ED6E3C9EC8847BCBBD4250F5CF5BD86877AE16BA6045DA021512E8851B8
ECE90424C380241888B26B9C1E3905D1CAB760F85EBA8F9B657E34A9BBC7486F
0F2C739C8B6B116F30D77742C3F2C309A4D78EF5069A7917A4970C1EB53A8CC5
A558BDC1D4F1CC9F65301818268C9795FD4F63F70642983932BAFF24E2F1089B
8364723E76E0DDD51FA7E20655A98BD5E21B4B3ADAEC8FD3BBF967B763DD3B59
C84D23FB4C4C7A919A7AD8CED768E72008D3DFA1F5D5F9E10662C98EA0A0B668
D9314DF96451AC0B8152356E97EFD9820831FE133F3761CE4FA67449377E1EC3
9FFDEEF41669ADA3C0C1E32E49AE3A206FDA6646B8FC60A45DD73D4B29B8EB6D
E097BE795914D0F5030636D998AD5B047D9477C96B977698B2239FBF9B6D26BE
375D19DC55072D22ED055119A10D0F1DB023EF8B7DE82AF7EA8D3AECDB966BB2
6E87BED851104BF8B3777A45FFDE98A0C0E177A29478E624F9F0EFD2E8AF6A89
8AF6DCFE1B7C38AA8DADB10723A74C7F54544B92A71055C21318BC111BF669D5
221A8A9F0A884F7C4F67C449E3D61DFA374035CB472D6B406E76CBE2A27C7E8C
3A83917F2B0CAA08D2A3E30AF80B76EFDC5BB04F0A9D823A95D09ACB33E3503D
5F76B25B8B64DF3CFB374DB89623FDEAAE5107A2D72DEEAB93FC2EF03D964454
1CEA42B9FD06A74E0FCC4D658CA09DD7FA4F5AF619BFB2420BA1A7BEB2C6CD7F
740632A3B4E0939B8EEED7BCB81246CE09EA8447752A4F3895B44F2ABB429FCA
0AE684E515C925F6E2EA9C0F56ADE9808CF1FED01046767B21A3333CECE7B6D6
9670E4B7A9BA56E73A5E7B56DD62FB2621CD7095F5F429C0321150F47B8810E0
00AF745AC11B6A6D105B69217B13B2D39D063613B7D0264EAB30A4C96164AD98
427D66D5168C4DDA72EFB365AD32ED6A0AE48C0FA1D74979307CB2A03C0C5E01
20FDC5DF504A6A9EC472D31D3836D9852C4FD96C5E26A86424701EF2BB8FCC2F
5E46159080DCF5AE5177B17C4BA144DF5FC9FCF9C6305833447358585FC11934
A165D7F120ED512D6666AA847AD5021983407AED6C50BE6AF5335A3C00E290F5
3BBEE7AE2B8C200548F2297CBA898B7D745848560035E2A664F48A6F5E2F8094
3A04F6EBFD90262E5454CC5EECCC2E087533782D7534C5262243B3F7EA2BAD8D
42FAAF0E90F97DAEFC89CEAF686E7AF0A4A032903B08B569576C3B1CB89A5E35
CA39B9AA959F2D0A41D637D95F582C0609C347B49C0ADBB721E707F7A1F77A37
0474717998F5C2F5D21F5BAD4CB3A3A422334310ABC44240E48679313E0B610E
158E1F118BB1FB5909DAE2286EF26FD5C5BE7AAD06A476AB95C39A93C3C23EB3
A9D52D100A86F33FB5754347DDC1E0A46C02212C0E9450C29E94AECCFB76C6E3
4B18F67C5F84F21E6B23326CD8E243A31BB49FE28CF9D3A5942531F52BD152F6
B89FE2783F42BCFC69F4C22EE32E207A44ABE70E53570883784155C30F7FA585
63E3E9A8058CF76297A640DB7195C44A0FF8FAB5B1164302563A70ECBB99FA28
24EED146208D7F8DCBD2D27EE0AA0EFCF1655139E6BA5AD77FBD8CF8F561F508
D01FAE600394A6D618A7FFEE0FEA25A81AE75804E1D433AA0D89B0BE2454D3D2
8495FADCA59B543F909A75A5C5AFFB9B181A069A780913111EF9EABB0598E7D5
4DD767D43A63D1D6A42F6741C0D725C4456078DA830C7F142524525254CD3E62
B660E7724553D38C3EAF1D6F172696FBE39B5B594B504A1021411E565E95EF0B
A3E405460736303468D103FD57BB0BDF1585F8348F918D94D0D5459E1593CE7F
7944CE50D0F16D6F11E3AF89FAC667C1BDA871C685F4C18BB69FB3F2095C4E9B
1C60291A0D26D63F3DE7FC0F692266AE96420DAF83EADE2FB80C7D04FCEC997A
CAC73882D3487235DE18C077B2D46C0A8F477D4C697C8ED611DFEFDD54844EE0
C61BA1FEF1FFB2CA17091FF9E84507963C352E915D4E35DCB81631E833515000
B2502B710E4F0DA317C7B1CE0998C0D71D2850900281EF3B554ED3909D4F4655
2A5B045C7F15CBB9AB55C548C8FBC27C53E6DAF8D178ACC129418EB4B7C1FE82
4FFA598698A2CB347F4C1FB89AFEB1BC87EEDB50970BD145B7426638DAA7E081
AC41198A88C23B5F1D9EAEA59502AC63041B3ABF2DDB3AA517CEEEE3CF3263D2
11B8C6FDD8C655502466E25C5CB6B2206449BD064FC00E14FF74CD86954F20F6
1F03B0C78A064D4C064AB960E2AA72DADED577E80B86A7F5C685A99CF4A44197
449B02C5A1C849F9AC01C4A4C5EC47323063E4088C7B5549622BD6C241B43F47
1FE1D43BF59C1DB85F9805E35032846E09ED556A8445554358D70926E3FF7A25
E3FE2B0BDDE2DAEF9C6EF6E2178CEF7FDDF97AB0AFF0CA8BB9DEDC6893131013
54109388D7FACFE889A24B01EE9CBDC5FE8910DF4CD7DC56B5D0100E0CBA8C68
81C2FE366F6639CE4A33A007C0B4BEF1A160C5555CDBEB25911F33FE849FB270
D6732A8A1B2402C9CB3E560B6D37DED0A773046175DC17A50C6387676322CEAF
9DFD0956B1D3BDB25E518916744AE9468CBD4FE977DEA0ADA1982224551839A3
C85EE434709D78D7C351D47D0E2456F0570EBA4E2B518431EF9040E50070F879
9AFA2A38667735EDED039A23E5A65D3D6B65933B6478EE7F8411DCEC1565E75E
F22DFCBEF52F43E9066A10FD196F2BA50865CF3B0B25A558D0A4960D01CAB449
2546CB2874202D633BA043108764B56926109B3696EFCD2DFCF7BC77803E9E39
8B09401C5D0D4F3A54264903F5968DC05F793671BD2B6850980194A44183A731
2E4EB93F6E934D67576D73BD2C15B19FA77E6C96E4146062E7BC52CEA519763B
5483639A7D81A91651BC3208A41AB2BCCEBE88EB007F58A7CEC07557130B347B
DBFA8C2FEA060EDC3D0A5C2261F278BD4F6E2BD7F05ADDF0D35862E684B45761
97AB980C93FE8DB61F4E0888C795D8594E56327038568929C959D1D63EE23A31
41B6AF1DA4ABCFF7E1B9A7018204449E8B93CB2F3921534139B50B85C911A354
3D61D4414EF9211EEBC929F4C916345D8A98CB009961C005E0846A22722C0D64
89EB83D4CCF2337F794A168A82C30CE1F0C2C39D7AEC79816E64A5A5C7FF738A
CACF1460A57CD9CF1D4A65A32703F2B6F230138768AAA4255B24704C80353CA1
3B2B198C5160759A698420E1F469B16D0A9E47C543788BD700483B312363BF61
447055290666462150A537F6DE0B2F83CD90035D5F1E9E692787787BBABCA2B5
1A3A3BB3C4ACB668B7B7AFDECBCDB4165FD9F1FCBE4520751FC0CCD7BCBC438E
32695E7D7D1727772D9B5C023AD7DAFB8D9F3093AF88AF19EC4491C025C7ED60
DE91E2DCBD02AFF817899D5ACE31ED83467DC7A020AD615D4271D73CDF42451E
A43C094E6A7170A8FE921A376A2BFC847A99015D3C685728224348679FF42507
0BECE19A4601443DADEEFFBBA27E84032CC3A9947AE24676E16437E0761081CE
3509C31C8E2AE0C406F5D02A8AE2D0CBA8BA21B8016FFB5FC2A98175A6016C16
1A3B4AB8118BDFDB7D9431C9760561C8A1F5E2D948F45E2EB301B8174DAFC117
926B53307BDF7DFE2D20ECCDE6326A67DFF0481796175145E10BF6980EAA200C
7FC25B81C75055CBA94EEB9A97D4045EEBD87DCF8F91F18586482204CACFEEDF
16EA1C76AD7B769132B862C1B341EF6D5AADAA2F809B821A1C3C17C84362739B
632894802BC6750806C0AD5001BCA9E953558DA8EB7C0F2CB2498D4730B74503
0334613B3750696E76DB9865863CDE3183B42BB27F452768D4167CE79882E9AC
5065A25FB98B2D41E11B01AB2C305668B07219FACBE82050FA7B19A210CAE392
10F741A53576BEBE2A1773FCC830DC043A85FC66D37072BDA70416AE76E8C5C1
C941FA668FE3160E3A0C4F14B5D60183189782B520A5576BA6A64A3DDF02B957
5D4CD0EF03FBBC322AAFA763EB08940B1D3C8CCE52D4363AAEB5EB9E261AF7A3
39D124B4980AF48AAFD0052342C3A75521EDD09C1D0E0E4D0857EEEFBC1FDA5F
C35BE701E8244A6B6B5A7AEA3C53F8A5EE39D58621310F2C39CA1E35ACB1373C
EA11048594EFB13CA6E01B5608C60ED5B785F1521C0A337AF3AE04941E3C8A7F
14BED2670401D4F34386C3F63692A1A80C6D61ADCD83D902277C599FA52189E9
B3E030BB8A86D26EA50473B34459D3334F8CAEB38C537805E642327B006D6B8E
C4AAA5F7CAF5F2AA33F31EE63683F5FE2668BC8BCB2A502902B7417E8FDBC727
E9D34ECB4527827348FDDC8A86AA038CE0DFA568136CC2B4E2F4479D0BFEA426
0C61F520D2274CFAF9F2BD8FC2B40A52B764C5FB9713332A4AF4736BCD8DF753
8660CFBD53584272A345819C2BD9652F568FDC091B669FBB7C6D877F8BC38FFA
EDD6D1230F5F9C2F8E5E30274ADCF73F561E424B83B37DF967690A567BD7561C
F0618AE2F901CBD7DFAEDAC260FA080BBEA88F6E25141B8326B21E9EBF0B5148
FED2F01D6005941E0F902FA4ABB829C1346346B994A7A930D7C9C7E677D1E4E1
ADC42E1ACB70CCB3097104BD168E0C71F214F957AD5511D8BAFD4CF02B011492
ADB57734512C3A40DB39F86716BFE7D5755AAA5D6B9AB18DA29424E2694A2997
DE53D245F2313BDC449B360776EF127E4BB8ED4130C24D8B276F48A8936486DC
7F79CFA4C879F48D53514726EEA3CF141C264406C18E78196E29A3F76147B52C
10B2086DC73E909E4E4EA330D92D5F0CA2087F9132B5BECBAF56C3A97130B4AF
D465ECCD2C04147849F8A66179101451D7315FF1BDFAC38B482DEB6A39168A0E
9404773A40301BF04E43B1A0B80ABACD2B8CA4B054738EF82572BFDBA06FBE4C
4FCEDA839B3DAE3DD926F2FD2B6F64FE038FC1CED4EF80D6836D5141EE1808DE
F558C116E5EA7101BBDCC6C728E568A9C7CA5863CF85AAD189982982B911CE00
C56035059E13FB00D9A87E7A56F7BE56C9D80BE3290E0CE759C757A9482874F5
432F02E78BBEBE2E2C4227D2066E9E9ADA84DD2F2A8A112AEA43591B44FF03F5
41A654954757A1B642A485C364C8C238AD78084E91F9D777E011FD6F89DA5531
B900D01B6135B28F5C86D710EE11E178AF1A66BA0470650CBC64F883D3D70DFC
AC070F9544D48FBADBEC5FDD68F2DB8B254ACD3BAE4FBD6B0B5C8482D46C11A7
A013225AF462B6C8EAF2A360D485ADF996489161B1D973533704C65A6DB07C79
0C9B7C1C074339B433C2BA69586393CE08564CAEC223A95E285483080F2291BC
81AC71ADF537D4EA70C73DEC39B734AF61F542B59705B167B6B2288420AABAAC
140FD5486F245435BE3C9667FBC86ED221E5A2583CE24CAFB66F35D278524535
2935B44F9CC744F86CA99EBD05900C6B45E96316DF3C92040B52C4DD11D3198B
5F873E98EE5B1B0457359BD2C860BEEE5B0B733A5913E1F82CB4855C7FDF5993
5E24E007874A70E8B84990E771FD898AD5DEEDEA35936EB71D4F96087A8D7761
07D3BDE2482B9FB0AE6E094ACCA12300C36148DB664C15A1590BD2D09C8C6B23
22A842B1430AA8A9DF0C8D81AEE6B2BE7531F4868DD8D9A0B5ABF05A48F4857B
A61DDDCCDEAAFB45E9CCE374875CF788EA142FA8DD85FFE3F7397B4A3FD9EF61
00EA212D9F6D590C6E2554FC21AF3977DE577F9DB5C224982A5FA6118B0886F7
F6987E7DFBD2B269751B49D744FB03CFD34E6787D1105DC556EF983B53CAD287
BD41145EEBB234E54722A6F375F67BF9192ACF2CB8F3F03F8715712A8C4D0EFD
0C1EE48E3671CB248FE3D7A4D913FCD403AEC79FC91B4BE282DF7E2914DDB980
C0D11390741FEE536C941DF90BC0E4038C9B25E6E9C3C94365C58AF624C26E38
AF1BBE6F86F930D36F9AE6E5D5F46995F1BB6A2A86B0368187372348D5FCDAA0
6E46AE651475EBD1D27CB5760B07B816EF30912164EF24CBE6180E019BBEE7C7
17097D2DB8A1303AF912D9E8F57BF137DCD5AAE6EF1FEA6EBEAC701B4E94A10A
CECD192FFADFE0C7F2ADB4FC804875211FC64D3027921F5D40E8E4C93E1AA07C
A70DB68F472B8BF8F96C9F7DEBD24ED7AA94E48EDFBF64584FAC0CCA453D1C78
D4386D7838823DEA5BDAA7F9205219B45F5245BE984254747087BB8A6426443A
79FA693D4649247E6070BDBF18AD3A04F315751D7A0D0859251ACACCB60379D1
4FC05AAC70D7D431044777B041070DE722F85FCDE657C0BBBADDA7C3FB6D8023
8CA9AC3CB98D907CF17A7FC57309DB7A099CB735EF80A90D692A814AB7AB7BA0
1005F65F67836096580CFD57C5F78EDFF0F9DA7279217FD2C98B102ECE568748
1619FE8B973D777C503860A921A68BF8FDB71643A1045636AA7727ED01CF9A7C
A223BA8DEF95E48B480C330D4D2AAAE5A289E7BA27EE5BA9AE6EDF3FA56920AC
80539F494D2AB57D00BC50C8077252EA2BAE7F6E947342CAEE4D811C7BC32496
FAC39CFC4B22F69DC7B560E3BE5805BFF9469BF35ADCDC071563962CBFC637D1
C41F899C488D735766CC1594CC50BBF86C549DC2D97AA56B17F52A45FF7FDCA9
60948A56CB29A303DF7251359A0CD3A365C51BE109863D86DA68BCFB0D4F061C
BEC15BCD73AF3E98DDCDDF3447101FAFEAC01C4D609FAACC3E0A53120C5B3C6E
B13DAF78631E87CB76E34B2EF9D6170E6BFEA51BC94D3A12634D2EB5A55F8823
6B7FC8CF1F79F0620036A73E3964DDCF9CBD1ECE09168E7A687C934F52E4C819
202F8437E96844831EEF677E2035BB551781A59D732FF13619F089993F447591
869A104F131BA5EB892FA8B3C51F4BA354EE883F4E1422F0F272DD568B2591D7
A0A4C937566294CCE475185456844FF20A5A2113C728BD68B834AD842311E732
5DC5206ADB9F117E1E906087BF30ECB0A735ECCDE77A1C1771EFE234129C6F31
BE48835CC41AF79C0A1FC08F8D0FD82C4CA432B1EEE5DE5D906234667849A0E2
B6BF7428EE1C98081431DFCD59667DACABA12A2BC1FD1DEC44AE026464D9B17C
CED52E42492C45E225D87491D2471BD8232FD3CE9A3F27927E754D756BF8F240
0DB0D109EFF6381A18CE72928816B03295AF6E001553A33CD93EB223154D1468
09B813A53A1C46CF4FC23FB050461B2716F9B6A356EACE485CD5F7CDBCD6F4F6
D39A6BED675822ADA2F7544A7EBAFA6F97181C818AFB3B599CCF881170ACFAA1
3E1C611C619BA85147BE12869DB831219BD55DBA2CFA57501A0FB93D60693782
465FC5BE07BD7703A71E83E3DB59434FB0E1A53DA8D02AFD417907F4C36E2B01
EB8A69BA73A30C99078070A16360E15447BB4099BDE1840ACA5A8711F1B3F3DF
711FF39AA3577AB4533EE03279339BCD3650BFF477B1AA18CCC745AE4368B05C
A83395881045D9276FD2D32469E203D6BE0C1D1E0094ABC8D1D001EA67010571
02C6095F316E6424ABD0CF7537786C7E3129D0C23316FF1F7407A7CFFA335E9E
3FBC4B6E7010795EAF178AA9B1A901524A15F0033D94FB2D1FB88A575E9069B8
2BE20C2F74BE7618F277A993132991413EFFA40ABDC82027655C0B71C3A74BEE
DA2C38DC3F5E81AB9FDDBDAB7B9C398012F57628A52A77DE898D9B05829FB894
320ECBCD489546F48F0C7766CD2DC0B0AEE090B1EFFFB3BEF4EED1002EBC581E
348FE3170532A5BE5141DD5A3050F78750DD06FB705C7B76671F107EDD235F95
FD3F5772CA27807DE6DB91F3D3B1496F430C3F374FF3E746DE1328A74EC694BF
EFC662F068810661DC043FFC06099761594108B63E778CEBBEF55840DA39FF37
0DFE0DAC20C0D0FB7D9DA07E29007CA38F779D297D35631340003EB30F3638E9
0CBCA7D8AA51EAF78DF644EA2C3A7B2E8A28E3569D27CA95726ABF881F15194A
A4158DC621513A7E54B981CAC48C9D307D5811365CEEC87C06F9553B3DFAB4BC
CD6C19E40759282EE527AEBE267E6312FA36819384C92C836770A4C56E6E18FD
59CC50642962EAB642675970BB26647B21E4B618FAF55B38A661C0BFC07F8E3C
D34BA7A90D7ADFED5DF5B093ED33E840877067D9AE5CCDBDA09E797C368DF7D2
97A0CDE4EACE76A575B80429BDA215E34F12E257F9A8449387793832FC0AD00F
10D54F37FFFDB32178BCE44A8E6E2F6A7CB1C0D2FE055F61402F9B067670ED72
52329846EE93442C1937658A3E1465823128FA514042B7836DCFC9A5A7C5E07F
44B2A8ADA69ECEBFD8DAAAB11513EB95EE17ECEF4F230D7CA136B4E7ACF32F46
F4DC8F99E84106804BFE96A7CB64CA59A563B4E767F4351030597A3F81969E7B
C27E955353B8E3D28D6537662D0D69F876771B93E7FD2FD8EDA6982C61032F7A
A47ECA0FA08EF440C813F0D6EA083CAA999BBD2BC745B2386176B5C591A75699
C824A3F92F9851D8026672A59C13C0374509D1E495DFE701E4E675FCBB44FAF3
7FAF7721B186806E5654608156098BB769A81F7FC701FFCF53BD83267A42FADA
5B9491A0091B9B5BA9F1C4DA6BE94460CA6C0D8686393FE04ED99BE4C0EE13D8
D681B862F3A019EAE444B3AFB3D3A9F5AF11C426F6F87CB9ED6DF154BB292055
F50D94902C3F8706326C28D3C3458B61BB559DC98061A31E0FAD777D3F5DF150
E3187ADF1EF98EA9D760B6450287AFB767C40AF157BB87CDBC1ED8FCF256A3A7
F5970ABCD19DF7331A11A7AF046248CB8BB81B698AEA932939B91486923467A2
3E5EB8822269A89326C3529C8DDB259F1399F7A16A1B6787171C803891CC3816
67184820264D5770C3A285231AE527D4527BCF469F9AF12EADCEFC3F9A4B22C1
7A307CCCB65BCBD805278F874E6EB73D9064CA33095FC46AC265E1BE1CB3BA10
748E54F4ED9196330E46354DDAAB688B93F6190B5D74D7EC58F9194FFC0B473D
91F0B18BABFC0C3E1279899EA45182429D2E38E0BE133F99207EBDFC3446D65C
DBBF43D446BBD01D5C8DA658D85A458E302CB982FB2C9D95E0E74240A209D3E9
5F257485080F12886BD84DB21800E3E2D3E27F1B0F9F72B23BFC7AC286D92733
5BB92E825DD3772C51B2B50C9CA72CA6EE025B86481476258C9F2321AE24E081
C010C829CDAD9C5ADD85DC57210E2A22B78662F0CFD28D8976A0DB3C3BCBFE19
2F12321B096835577BCA8C82D1ED6783B5516BFB752FE8FC2040499A6A329734
DE1200BA9AF2C5ED51B2CCFEABB874625F83BBB7BD6501C867930FEBBFC891E7
3326CFC5C3C4C930B50C939B847BFFF1A45B6E448A0D3B2C61B33FD67AE1143E
9BD9CAB25A16B1EF5A1C32A1CA07EFC2B4C2D13B31B6C828D49AABB4C5A9A697
F07AC99C116798C2F3A421E11610C2E9A342A4B79E8475C420D727EBE4C7AC46
6EE714C64DBCF93C8711E458B818719761430003BDB26D8EC3358AF2A5996B01
D469E4E54CB02D54D9116E3740A3A8D1F2C30A65879D51164CE81B114DF18875
A55E50BBE262A943AC1154F697C95F68B4CB894E76C12D94BB9F00B0E6E9CF67
68DB78CF6EC7A960261C2A8FC243061AE95D65884DDC5E41FAB33C2596401127
70CABF4644B314D17204FCC8547DD0316C25C50A4B1CF8C0D4210D59E7CD7C79
639F34F7E4ED2FE1A6D4ACBBDAA38690EF4D2B88BE3D81E0AF070C0EC832779A
BFDACCB3E65A7A1658175FEC3714BFD2824C37C4BFA1AA417D37E9B120D78D96
9E9B61F662ACC2BD34564792F8449C9A5DB3DB92FCB84E00D25D1849BD15CD1C
6F44B418B0AF0FE3EFC4DDC28613FE49E5D14C4F11FC41A72DB57024E74D4B5D
FECCEE8D3BBFA125E4B6716472ED944E07151517CAE7AA2E3F1C272B2B8BD7E0
6A2C2F2CED5651AF39C5F45066B75B85E9FF4AE149B8B6B372E3F6FF7F969E19
F49087FF3A192F6FC0B85756EA400236C136C05119666C826BCD2A618E25DA97
853F6C2747B92AD88B707C53CBF67AAF020FB34FFE777C4D171E3F8CD6EE9A37
C2102979542684DC72717444CC4F9C30693B98CEB386B5FC0DCBAEFC0E72A8FD
661921789256B4F2171682E81B404509A3C63DC07BA8807510F6A408806D706B
BCCF599EB1E54931609722D7ED29C59D721B71C95FA806B77BDB45A314C86219
A7BFA64104CB9A3D9B8F8ED1F1CEFE8209AF5E1B482F767EE63242CA49124320
E789925964BFE770A0181B6D785F89A4CC61144D992E61B1403BE490473F7862
303FEFFB8320752BDB54769864FB2184757521755A1A828C4875C59E1D10731F
6404A2EE6BCF474E26768232DB8F8AC9B60215A927BFF414E49442F7A323E294
0D3BCD590A058E6771364CAA9660C3998BD575907784A96ED7D0D9B150170D3F
0397EA467FAB9D262CA882550D25DC3C30C43AE16EB9C8D228DB6CC1A9A232DC
11861D3E67DE1D6FE73006CECB037E39E1F0CB2EF0C9A47FCC460071FD06BE41
317960FFFCF4F698C85D9D061DC7929CD1B7E5B00A5168F67E907076B7557A36
3EC15C54C1464611329CE4FB76734257DBBA6D0E502152CF85F292EE664F1F0B
4A1FD055AC63DA0F5ED821D2C52169DE09B51E021C386BD24A823914CE4D37F7
B94B96D5BFAB75D02C2F42AC719D767A0CF96FB4168323CD637825683B302E62
96F5871E7A73BCF40D36C51280071345AFC3223F7604E10558F693C705663A9C
A0432097CA4E134FFAB73B2321B4701A78FB25442637280CB3110D7E7F850887
9717F3DF492E4E6CB27B930CB8FDDB24087BFE6396106CB6033CECD08C6BEB5B
BA27225156DC89E8D6798DEBF23982A7765D58B9F8D1A62F32162582EB380D46
60922BB1E8D077292B9B3B31A2F5706A4E90F51BDAF95F129ED1E33ADDE183F1
B6F7BF1E56F0481630EDAF44AE9CCEE7E2DC85051CBC6C7E3D3666EDD1E7BBA5
CB2B0373BEF09DBD9487CDB517E2E8EB69617BA17FD8B7D70BD4A47FC5D9C525
8C15CB29660DBF30C5D28A9F83AD034DCE45C27E8A24A4251EDF39B921C2B1DD
1FAEE0493D0136F7F454E9142C77CA70272E238985CA50B352E4DD92C30B5D04
549F135A9E76F9FA4158460CD93406A41600F888EEFF43DCDAEB1E5D52A85D01
6ACB4F635D41140C275D630A060453A421AAF3BB342872311E48C8A7F1AEE941
F9D39F55D51C25C8F0DB5905D67B40BA24A8B6C0563A864270D1476263DF8EB6
6A83BF36C77B1BC82317FB9805B8B8D10A987C69FF21A608CB8040AE2F834158
ABCD267948DE4CA6CC2DCED5CCC190AAFAD88E8B4E76EC8406D59EBDFAE1A33B
C25050EA3E08C0E5C083079B1874F5870B0100A3F3BD883B832E056C89654EAD
17810A40EDA44CE027D38875755A7B3273478B1BCD1565F47CA13F9A32BDF593
9927EA1BD4A9C638674D25519D83229120D15BE3F99A030B92D99CA4C04D874B
CD8E8D525E32248BA6EEA0F49F4818B5A42A00BAA8E6CA8E459F8D6BE3FA450A
0CFEB8D3B95AE253CBC74E41E6767AFCDFC687117853159E051E0A29757D85B2
806F270313032BE04E42C9E8298F38442DA6ADD918191988C57132631A49669A
0281C54F324DA6310F89A4695343AF32E0120AC64026A325D3D82F9137564216
7C7CB0CDBF68F2DC17DAB72DB7EE7E5C356465A066EE60BBA138FC86D1DDFD6F
F6859B24EDD26DC7381585DDBF6D342F111ECEBD3CEE96B6BB6A1DD16CCED78B
C43AB04195D8C07B7B8B68AF6E917602571C6798FD3499B3EE344397D11D187E
72F5E0BAB5BCD2FBD378E0EFB32E1D04366D2C67C44D2836414ECBD9BD53405C
27C64A6724ABEF870F36EA25A76D5E4B0E9DAA04F592187512BA25828FB2C596
885B0966ECDC9B66782E74FA687E0CA5AB993105EC18C5B2EC7724262BF5A807
63B6E03F1659C6E34EE1C25D9C99A359E442C10F9DD3E60539C06CF27F6F5093
53CBA202238467892FB2539758DAD1F30803F95EC8C82FEA4D7A37FCFF50345E
1976E92BA6073CEB2970EB4C4D34886633D5176B6F4B5EEB534CA91F808804CD
ADEFE12C0768B060C8517DCED619F10AC40C23EEA29CB1B6EC875377B95A37D3
9D04267BAE79B1091BEB0CE6782697BEC517DB19DFD55C1AF672975A1C1D1C7E
6C27EE5D348032FC22B99B74EB94B8E1D09E0F1406AC2552973F0C4212CD10E9
7B1634422A68790582BC569400C51C2B644C80F5CFCB73AE1E8AD0A40DBF4E06
FBE9E5D4F6DBF9C0BFEBBB07C88DD9B643A18BED9E8B0E782ADB2263DA9F0AA1
9F90260B70486C83BE68E7684590C7D6ADFDC8169D98A80261FF2F9FE98EE2BF
89F3D634CB4459C7E548BDFE02997B3F766AA7ECD0E0CAEA60B9CB223137BEAC
2DAD6DB26263AFFA7A5F92CE0B4BB49B887C18C8DDC578BFE6FB4CCCB751FDC8
651140BA0641DC1C8CCE8020BB2632ED237F7537D49882894845D3C704581B9D
60DE58428FE5B12AAE55EE8EA835557476DE7883CD0A0D064B6E4DCA1095B2D5
C3F1BA48EEBF69617E1A23423F75F29350739614DE0BE56E23AA048718EC0251
222DBAFADE123EFCE1B29B326E39EBCE96437A2A96B3B433D6CA0B5DA36F3BE8
9F0AD798FAED5A0CB6A25C75A5243DC0F0D259FB9048E87768B9B5FC28F5F3BA
6794F2C03AB7D74145C66C777A1C66AD698DAF91036CDBC03B1E341D4D3F0D72
EBBD3ECCAC560378080CB1CC23889BD7DD74903E2990C8F35A751F89479EA85C
F5E2D19F7E68FBAACE225613779864EB9D4D27C8F9B3C22368C0A3A65E41D97C
CE3A3B05F462D75C6642176DD0AA1FC5C392DF1494CFD34582EC3A5BB35FAB93
DAE115AEF626DC44B673149360B8E03AD5FBE0F9B40C115F2EA2BB4C2165A86C
7B938E6615139DD324E5EEA05FC50F2ABD2910BE98E028AA473AA6D492F9FF01
19D8B211D19D
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: EUFM10
%!PS-AdobeFont-1.1: EUFM10 2.1
%%CreationDate: 1992 Nov 20 17:36:20
% Euler fonts were designed by Hermann Zapf.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EUFM10) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EUFM10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 40 /parenleft put
dup 41 /parenright put
dup 58 /colon put
dup 59 /semicolon put
dup 61 /equal put
dup 91 /bracketleft put
dup 93 /bracketright put
readonly def
/FontBBox{-26 -224 1055 741}readonly def
/UniqueID 5031986 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163B3DA4F9700DE5807F164169FBB
1458C43CD471029C362871D2FB69E0E5E617BC06F3B8621E3528E4B47E731AE1
0B406A3260424830B3C86A135457A566A1A716189B86883C171DA05829CE2E37
C020AAAD5205DB1A9C1A6A56FFD9008D511B4453C4B33F6B0E977B7C760F8816
4A6F13E41191AA13358515D902E653B81AEF60FE07C4AB673435504C2C376BB2
6BAB038083E5073851178BEB6AA92FE582EFCFA3A22C6795DCAAFAFCA0F3E79D
270BB779E2071AFDF30D3F32082777AEDF90940B6DAA1F34BAC0E9AA08811281
8D4261185EC039EB930024E010615A972BBD0B8EAA09B3931D630F1215D88859
5803A82F87BF0D6B8C64E23358C903C8E022AF457F97845B948D174E063E40F3
FA1F8C2CF0C7C49EC374E22B0A865A90FDC5CE762D643812D9597AC4CA872A23
9CA95A4001607D1E336A8D3C10BBC8BA47B1DD8DAC76B3F7B4E34DA11B11F27E
5CC1B7D0249F7924540CC5E194DD545B39C060A69CFC2145AFED8242A9FEA65F
ED03FC2DA7CDD3ADC394D32F22802C8EC818847BA08DE0654277ED11E5C356A7
1E590527E7A231A6AE8B779B88648B69BE95F879361588325BB6F7E01D44C6A1
8422BACAA4C2B6B4802A4452C7A95F232A5B3B9DE2E78780A95F58FF97C276B4
691C2E88AAD4FF004B752120BB3453C12CC6BEDD34165F33D1DACCE965BF81A8
8518AD8EAAD03CCF67CA8BA8A2B78749D66ED2726BACAE757CB7C3BAE0532181
AC95975182CF3EF7B32636EA7C3ABCFD2BCFD2325DE4E377278A34A790804F1B
27FBDEF77921130ED82D188D97D419AC2486AAB33B073D9EDA1ABF2B2339F56C
02B150C69E56B6C84E1C8590BB610F46CFBA0A500F5819E525B9AF77396670A8
5F5737BA53C42AF93D7C5263E62DB4A355A8B2CC105B7D70FE8D7107751FC938
E1C4D7D7744D0FBAC545C23B342BE1FF7AC927B9ABCB088EA97BC8E3C740D016
45C4408D91CEAFD723D14B023BCB5B727150F8334BE7FD1EDE7A8BC01969B429
2EEB5F713797C34EF775A65E7B2B94169DB7FC75353E983CCF09B9DA0153EB30
9F141861F22F85A7C636AE5F55163A0FDE0C83A6A2B3E8C934A505D6A2EFFFCE
4B0CBA888009DB699D89F844E0E9EA5563D0363CE57C03C2FAC8BD17475601D3
B8D6DF70AFA2D9486EE0CDE0BEC9202923351D04FAE1E8182BA80F6A89850005
0C9053A0D25FAEBC3CB460344AF5D513895A1673D23753085FCED873900CF8B8
E4A2A82321A33E29AA5BE1ED536791044A3C81EF2306E62F09DDED6CF2C07877
1079A95E7C81D72BEE7D00ABE6C33B415B79209BFA6140D90907FFF595DEA522
2489FC7537E36EAD4C048251979CE8320E08DF4D69DC87BA7DDD90F4432763CE
BF448EAF7AD96207E4E5F13FAC1DA7123ABA0E608FC9D49949B0518A4F357122
77C73D255D22F4B59F1A0600413C71DAF3237770750B3A6890526F5E4FBAEC38
20144C1D3C03F86199D7D220E52F8E9605EC51E33AA52BF921A443CFE7BA07A6
D60D75C2467B1E8A63E191E656F042E4E23EBDFC0CA491F6A717E5F7C22A096E
CE3DCE4D53277403884557AFB63BF5E8796ABD6CB843BEC995580CC27CCDF6BD
51B68AE9F1698ADCDD44C9FBD95A3B1C325C20339F05F23711E23B8101217FA6
E101A76E0648EA544CEAD48F8EB5AC6711DAADADF6EA8A59515A9CE084821F32
D2174CFD146BE32FC3EEC0DAC0893C04403254CA0539FB2638441A235DFB9C6F
1086B000DF51A999C72BB8935926EF3D0F64023AA7C18CEDBF04B20772A02CBA
B05E94A35A54523CF31E839D12AEE52753EEE29F78249DA38E17274A2ABEAEAA
FFEAF65F2D76359F1991231BA45F67BAA35008D4A0B4F5122A7E1896AABA9F07
54F118288024A2785BF86C0E23B2C602C4BD7CD2ED574E69F7D6CF0347850279
55A36D3D204466134ADDFE457688611B57AC5DA2CC3829F3EA260E39C7152EDA
95FE42AFB7D8EDF4EED32ADA4E6D0DDB0EE8FCA09F1D33BC87CFA5C1387B00C4
1A431D5C75326ACD183F4D322F77FC557F84FAD0B65D64D5CC3470C6DDC7B508
9613B97893033EC2FF7D4117BE4CFB3D6D936DA22F549344A6F870426E612A59
E4FFC74D0BF960737AC441F7112F12D7491AD64999A51F0EF2888581BB2FDFBB
C8A65C3FCF9D96EF85BD43B63BEB7939A623825071D164F06F34D2C0D9DDA56D
A3C83B8CE6D0FA8955
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMEX10
%!PS-AdobeFont-1.1: CMEX10 1.00
%%CreationDate: 1992 Jul 23 21:22:48
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMEX10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMEX10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 83 /uniontext put
readonly def
/FontBBox{-24 -2960 1454 772}readonly def
/UniqueID 5000774 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF5B8CAC6A7BEB5D02276E511FFAF2AE11910
DE076F24311D94D07CACC323F360887F1EA11BDDA7927FF3325986FDB0ABDFC8
8E4B40E7988921D551EC0867EBCA44C05657F0DC913E7B3004A5F3E1337B6987
FEBC45F989C8DC6DC0AD577E903F05D0D54208A0AE7F28C734F130C133B48422
BED48639A2B74E4C08F2E710E24A99F347E0F4394CE64EACB549576E89044E52
EABE595BC964156D9D8C2BAB0F49664E951D7C1A3D1789C47F03C7051A63D5E8
DF04FAAC47351E82CAE0794AA9692C6452688A74A7A6A7AD09B8A9783C235EC1
EA2156261B8FB331827145DE315B6EC1B3D8B67B3323F761EAF4C223BB214C4C
6B062D1B281F5041D068319F4911058376D8EFBA59884BA3318C5BC95684F281
E0591BC0D1B2A4592A137FF301610019B8AC46AE6E48BC091E888E4487688350
E9AD5074EE4848271CE4ACC38D8CBC8F3DB32813DDD5B341AF9A6601281ABA38
4A978B98483A63FCC458D0E3BCE6FD830E7E09B0DB987A6B63B74638FC9F21A5
8C68479E1A85225670D79CDDE5AC0B77F5A994CA700B5F0FF1F97FC63EFDE023
8135F04A9D20C31998B12AE06676C362141AAAA395CDEF0A49E0141D335965F2
FB4198499799CECCC8AA5D255264784CD30A3E8295888EFBC2060ADDD7BAC45A
EEEECDFF7A47A88E69D84C9E572616C1AC69A34B5F0D0DE8EE4EDF9F4ADE0387
680924D8D5B73EF04EAD7F45977CA8AD73D4DD45DE1966A3B8251C0386164C35
5880DD2609C80E96D1AB861C9259748E98F6711D4E241A269ED51FF328344664
3AF9F18DCE671611DB2F5D3EA77EE734D2BED623F973E6840B8DAD1E2C3C2666
DD4DD1C1C8384F906A7BAACDF441BB0AAEA2A697E453DEAC9DF7482A5747BE8E
0F01A68BDD33CB33E83F952A6BBEEB51B2BF58FDF5846E9DCF6C311D8BA4522C
04DE8079329643D43FACC5C935A66521E9566A984B8F699DE9AA5837FE780798
AAF028AB3BEEFF9350C73B8E14EA82BB25F391D93A68FFFE19015BA442CAD36E
A93015F30E145D7BEC0009E14005CC5A18DE197B6E8B74336CF7AD620CAA0B7E
DE2A5EB079DC5F9A4866684A7F57E35DA230C41AFE875B5C8E4E424B0D7FC858
8157BEBF0E6EE7DFF60F10EFC49701729AC7B5365D82B05C7A33F5CB7DC06F98
861EFF7AE9F0B0E6851227D061A626166A70C5A5878A052B86A65B8C5F042C63
76387F9E21A8E34739377CD22C95A934
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: EURM7
%!PS-AdobeFont-1.1: EURM7 2.1
%%CreationDate: 1992 Nov 20 17:36:39
% Euler fonts were designed by Hermann Zapf.
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (2.1) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (EURM7) readonly def
/FamilyName (Euler) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /EURM7 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 5 /Pi put
dup 11 /alpha put
dup 12 /beta put
dup 14 /delta put
dup 27 /sigma put
dup 28 /tau put
dup 49 /one put
dup 50 /two put
dup 59 /comma put
dup 97 /a put
dup 99 /c put
dup 101 /e put
dup 102 /f put
dup 103 /g put
dup 105 /i put
dup 107 /k put
dup 109 /m put
dup 110 /n put
dup 112 /p put
dup 115 /s put
dup 116 /t put
dup 117 /u put
dup 118 /v put
readonly def
/FontBBox{0 -250 1240 750}readonly def
/UniqueID 5031990 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA35081A3EF70F93A4FCF4140B4
F4BA9261A08F615D1F8879D10F1A07FB156D4865D7E6CB7EA0322EB92D4169F1
B0A489784A5FDE5EA7A41D0606E467E610C9696284D9A56995BE40C6D6380BB4
1BFF36E1DEC8081BC5B8804FB9919475D4789D55F8894D034806DC9FA3A57C8E
65980E3AE2CC96261DB4110CF2D24DABA5A3C1566B0674490417D1496DB2EE8D
9D06DA9EE996FED422B6E35AF5D9A5B19CFEF1A4BFF14FE66B490191605F326C
7080E9E84FC999505DBEB48802042A7079FC61D71A2A8C266F516274B20A89F2
3420BA8C7B865D16E654719F367B2636DCE29ACDCBE1DB7EBE91C27590B079C4
0D6AB4126F1D94E7743860AFBC1008297B4F3DAD06B26821C94C7A306CB714F2
4986E2697B1C520F3BC5C7CD755842A4B0CB6B54E7E148E61D1BC63BCEE9D558
761A00201A8AE6651594354892CECCA5DE92BDB0B9E0F8205AFDAA5F5DC5796D
AC76207AAF34C4417BC99C385F1E8398EDA6A42C9BDD82B1DECA882E9243202C
76D01C9AE6C68F7C2635EC92EAC1D3240C007102D32B0D2E752614D663D1C399
618C2B55096FF70016BFF4C7B3D6CAC6FED76F908AA97F74545C4F70FB2E749B
BF6077B9AEED790A98BB8F2E021F52B11D2CDD5C218BF84EC864B6AD98F74FD0
37431CACDCCAF8AFE2DCB926E9AC0AB7CAE3EE8B11531D7D9E4639622BDB471F
322E3C6E8DD3B1398001DFF57D3211A340D76C85E93C7D079361793305FA5D24
081C21AF0FE2422360F25BC6BC27093D895685436BCBDE910A678542EDED9EF3
EE7FE13DA0B488CE3C3E96ACE56F84C1209C3CB4F863EB49514C8FFC10FC93F4
0089E26D4E8ABDA3571CD2477AFFDC3EE39FCE192BAD18DD35A8E9B0D25D7ED5
6BD31B609262ADDC00D7704AC9CFE44EB36636E62194CE081404E905DC05FDF5
5DDEAE3B369FACB0614965B314AA61FE21E51DD2D5595B73A0863D2566B760BC
79D7CFD81947759E651B8E0A62710C3EFAA32B4FBE894123F9E95384A45E287D
C5E2B7703D623F16FAEAB201A900A92AF342670AC4F9DBD45CE2D94C8FF1ADB8
A14ACD2689BA244A5E28681A24071610D061D406460F2C4BD0AAADBF5707F6DD
632DABC8092D87363D2CC51364AF1313EDC281EEF13ACA8741D2D60EC57C2CB8
519EB9CFD0368FD50645B16C4C366CEFE0F6DDAF7793159C970CE22380EC70F7
397F7CE4DD2FC5D71F336C05862C4410E2DF12C4096F38AC87C6DE2CD0D877ED
C2752B23AE4DC254FDB9A2C725AE1C7BA6BC713A7791EBDBF70B7AC585909940
56CEAE3F38286634F3007AA020482FC1D28831D6BAF2C67B8ED39C029B81E015
A7CFEAFC82728CFD7490B5538F83DC35316172D8F426DA1986F23200111BE54A
C66EBD22E6859E0BF75AA5F3A367FD02069C7A948ED7DCF92161A744AAB65B75
8CD92DFAE54258B5B9E894B5E6172EA2298BDD4AF1BB4999C40CA640369D9756
6737D7CA290D7006C94192EE0C6CCAA226B11A3961ACEAD97D72D53AE7EC65DA
75170AE5D60D4BA5497B238FE278EE688136748E35A55332A254683793D13C57
4031A8E96F0C8F6EA113EB9A3506C792865591652250FABB8752E643B172EE1B
5A8A6197E5A9632F2B35A0CEF73C0A82EDD7CB173B44C74302DD8525372CAA01
68ADA286ACCAA0492F9454704F9230500404EFE9BCA5917AA127BC7B020BF3F9
C9C88CDC785E6AAAF964B16EB53B1B57302F788D501EA8C3FEA480FD6379B7A3
E0EC37E76A74B810F9A7AF08501B42DAC85CCAEE759C418F7FAD5EA24A27EBDA
212B9FF002F5C108B12334E53069FA47331B6FF829BF6C4D0439D3CBC53E1B77
5EF6D5293F407B0721B110A859A23A6C61E7C91511E56EFFF2472E958AAD3F2A
CE024758C422B91E89E08F7F62EE190819117525602E117322DD98774DE830B0
6DA4FB70BF50C79AC63A65BC486A035732F10FA48C9A8E225506C5AFA7DDFB67
4770AE59F7307F531BC97FFD6AFB95D23C82F160F4A3DB569CE01538AE82D3FC
2E8CB7FE70487F106374EF2A41A5D8E8E017CF23717FA63B33AA966B96BD4365
ACEC4D75F2FB321696D73A47B06AC2601BE6F346D4F36AD73464AD898AAFEEE3
90AD6DE21A44F0B16981923DF7465BFA4E4077E4DE1644ACDE737BAB68235CBD
D27E9155C225609CB458BF24AA3BCB36E4937EB0D18470EF47B800BE6CBE333C
7C87B4256663A97330C6E9C6F6852D7472887CB71F9A489B33F072A365D93BEE
42FAE41436AE3B2F15FE79BE88E8C01E83B1E3A00D48FF93431026B53F4CA44D
67FE3E94BCCE56BF3E0050AB02418EEDC00AB618FED5966F8089C70966028EA0
33255DE7E26EF103388A8BDCC45EE159F8C4C4C351A52387AD7F7F1D14995F08
AE1CFA4FE07B60C7FC5966A2A98F0C72BCB9A5D3F93490BA9447BC1012D0E35B
3C37FD286FA35D845A58458377F0261C69E8F4AD2757E61AF130DA9EF1B77787
B26E213C24B0C0C9704859FEB635EDE76F6A2404D844AEA81905E1B3F693D1F2
F6B0B02B1A17CEE2B2FB036855B06909DE2DF12BB1A2F5615C3BE70D7A48B5E4
3F4957B88544453EE8697B52DF5018DF1856BCEFC177637265AEFCB5253C8C8A
5A3405489B9902607C5CD648F4B6F40B0361E91D880EF28ED666339C5566DE6E
9C1333A26E8F0FD21DE812F07B1D0DC78315E816F780A25A015353169262B920
B4C2AA43C4F39124A88599211774BB149AB0C77220DA889E4E86C3FDBEACA2DE
FA3FE585AB70F8CC93AC49B89C0373A40362A971904AF43CC86F6573DACECAA0
DC57564281CEA615DA5E88BC0458B2000965D8DE9B8E305CDFAA79AD0C8F5A4B
BCE1359FA0D6628F8D8A3F5F7C78D4C30D2ECBCBFA15E91BACB8CD57BE9F6007
D461EF901C969DD7F9EC24155E77BFB50C55972F805D33139793DD04184D7866
D50257EFE016CAA55AEAB57402CF654B0B8A90F5772FC68A3FD34210FD111F2A
22FCF792ADE5A36FEE9199B5E29C3C08BCBD619FA6C3EC2693DC0DCDECA301FC
247201E60F54109F0819C0E69596DC01DC27A496D4522147B3265CB83DB9B677
FA334CF671CA00A8EF9EA40F020909ABEE1D13261EA8C5D3B455792AFBA87B7E
086B6BFD3AF91577BBCB43A14678D635DA21CD9A132793954E7E568A3D39668E
72D7ACA743ADD0E5013E1C385C824F33363835937C4A345F97D40846D06E88BB
1483F302EEDF001E0E933093AAC18D05C21E52FAF3DB195E1A1EFAEE1F678D17
69F93E78D1E07E2507ED94BAFEF7B2C02F9A055014C3F3AAAFEE795C8AEAC58C
AD96D085F6EC323971840C1AD316ECEF808E7ECEB16A88AABF03562B1A47B584
F17CF0DD9D62EE66D538D938DBA26A53BBA1EE4F1EA10EAD136F5973106EE914
43A007FBB39419A1D951CA7D36772AF2A50553C1BABF9D92E9E64FC0AA67D7D9
59E9ED45C74C51A129058CF9FAB815C6CC454C8CD3D050D010B48758A2A28ECA
5F8A6E072D8D6CDABE6035AC19ED45B29BA9A35F8E8604F9962538416DA5FD20
A3024A12D9C76546D0B7A26F2F9F53526AFCAC579A58F753324DDCAD6E63A868
A6665D4F58BB0EB2BAD2653B99FE77BD685E1BD588F8E3977E3368BBD5C48062
C0A7E55133B08B49A7DEFA381A15AB26D2ECF90A97AEFFACDB4817CD53F92663
7CED4ED5CA88C4465AB13947B9278AF972BBF7C192D90F8186CBF4C98F101E7C
3716FE10CF0D1DF7382C9DF9D6C7E45A206F7978BA90E96AEAC9CA6072221C8F
E81DEBF50DC46F816FA0124A80642B10945CF540C6CF988E3583DB4FE132DEB2
3BBC2D68A0E975530175FC9FF77C9EED0BAFC25026702F6E0A7D3966DE54B6CF
6E7BC14C7DD202543CB248430B8EECE1E8DC020A9C64309BD408D7D690C251E9
8E6C8D82D567F0053E5F7DA0B45E80474D154BA5F1855E08C0DFD835A4C413BE
B8DB7AF5469CDD0AEAEB50E81A118DD56FA756A10F00EB091E15438C481003CA
7C0F2DE7D4193954C8338651CA839673C4BD3DD51E02FD0FD793093A41710446
CEA1A97151162A77DA3E0219D64D4714C527FD6BEAE737239BF603D40FC555A7
E849D9FB2CC649BF00DE66BDBB5D7CA01846EA15958FBCCC38CDEB556D507B6F
0C9971A66661D5E3AF7A88F1D727D0A4F7CF82AD1DB12E74BD485815883B2355
EF29BFD58320651236B80F61CB53D0706A1BC5CC6DEE3D481BBBBE1B99CEEB75
FBFDDAB185CF81E2E65D1CCE4AC6B67DAEE91943809B453E30936CE578D422E5
D15B8A5C4F5DB2CF9DF8D90F76C3AF2175C92A2219245F73EE8D8625ED3DCF5C
2E4A80204F5366133B5C99BA97E3D9CE8E763DC0476E0AB6E476CB89B15D269D
28BC09264CCA38A41C1C1A0E5C89ACBBF2026263F59BD4490D5473E765B6BCEE
71D0042A9E744F17A4223EE414D80084D881EEE4927F52587D21BA6B782918DE
0BDCBC7B34873335079A8F59BE52ED815695BA732B14BDFDB4536686E277FBAB
35EC6299B0B66A686F16CAEAB153B41C7EA7FE9EA6B6D6EBCC95B930756D0786
6C3A962FA8FFC8ECAAF5F0F2AB1379A95A0586B38C00652EA86334D4A4AA494A
49F4004CB83CE18BB423669E740BB7B362EC95B490DEBA18A910F4CD98A6B261
A4AFD9A7AEF7973A81CC7521BFE0F1F5084EE63026020BD6C9CB3398369F92FA
E2417E46E25CE7124BA7B238ABD8DFE727630190A7098E242DF43C3DA78F7C1F
BF3B09DB302B256409807777C5DA9FFCEBA70DEFED9107F764C009862DC7EC0B
3BAD5B9C040F32BCD3A9D75107D773C27F26DA799CD8ED66F9357076D45D93DB
171BE663B55DDB14C184E2246CCEF730441B01A56B8CA701753857050B9D1DBF
D9F7E0FDF84B40311EC41B493A3471F0975CD133ECDDD9265CDF9CC6F583516A
ABBBD82EBC41344D90117B9E6D8CD948D682E81BF27925D2B999403383300B4C
FE11B6C201171813EACBCF309A8F34AEA3310DB3A2FEF2BEA7987E96256191F1
1A0669466C28AD1E513B238D1520ECEF10883FACCA2EF70CDA7C920C1CDBB601
C0188E089DAC018D21424869A8426E0C2EDF50E752E70E4050E04DCB04E9A247
FE95336ED6C5E361B91034C40276357EF4C3317104ABD3D37BDFA14365D05745
894605F774499515C24144AA428F37D51C4D25BBBED42D231AAFDD0AE61171B5
70C4C8992D8256BB0E1C1FA5BF099A174CA255FEF206BF20B7F559459590E4C3
62E80A55B0B5974B25DB29E4372DE25592B4B6466920867C4D838C9616678A9C
7572380698CF46A095A0357A2BD93FA4D952F4372DFC08DEFD3482A1917EA48B
CCFF0797A53FDA5BB38BFB45D0A5D46BA0A4A2773F3326DD0CEC6B25995EFCC8
46454B38F3009FC595FEC81B145B6A0F1799E0B31E4DBB7027D3A2554E0C9C7D
DA549169D2ADD3EB9D10C80E8A64A23AEECE54DDD2E38F263D8ADFC3B5C83369
710009D71B148BF2551AE795A2411C45502927C51CDFB26DF6D2D4AAA450483D
9C2C94BE6B2ABC0FA28E45EFB754457BB32F6A5DE063041FE48FA86309D43487
73632FAEE4010190E2C1FD51BE897ED4E3E3FD8C3C75C0F2B1FDE5347390CFFC
7A0ECD844368C32F9374FE95BB7DF3AE6E32B33F19D1DFC564796E1F5DBB59E0
8E8FAEA1897932268487DC5189A4C425E8D37C0384F6DE55F144378B04E7994E
86BDFFDEA17F602FAF145D96590DD01332B3A0C8E27DF3F55D5D27FAFA5B40E0
6ADC80BDF0DEC3FAB9540D623C88BBF8E0F75AAADB5D5CBF03F31BC0E103F4FC
53EB4FEE46AD81CEEEAD9EF2C183B8268D20C209218CD507036DE126AA55ABBB
CCE0FFAF561CE66CED7C9DEC261E7E4DB5B74A9D02BBB88B13022F9BBA8A225C
FE35BA455FD20E261EE6F9D30259445BA10A14B6ED2DCC5593F0BE9DD7B61A19
2D5286849623377F8167309E6D8421BBFDBD09E8F8E031F7E9E49F7A1723E835
06E376901B7A81252757331DB90CAD2C6A36FA7D54D3B2BD0B0E3CC397717052
90917DBBBF2133A16AEB1B1E6CB02126B23413C39CD74BDD5FFFC2ADC2C5F21A
679A8A5660885CA036E3207E2E0B7C8A46DBE5C91B8783D0E8B56B5A43D7CD40
4FBB0CD52DFEDFC192789BA8504596C5BF2939BB2CEB0B86F9389C78B7681A32
763B1B928CF6EFEFAFEE4756A028E9B3C0BC27220DE01E0CC5639D65414AB66D
A4E6120D82600C1511DB3143CE362B86145EE7DA5D834DEDB1F7FAED21E531CB
8C13BBA5B70DB4AC0EDF0D2858898D6F34856EDCFB7D9B37D214F85BDF923C8D
0537FD40D3B2B881B19306C0C23BA89B57BC7E61B534E0D7D241CFDFB6127CBD
556C4899CF50E6F3F8B2CC5DC8EB0C3F1BB068AD7E48CFC1A87A0B9E6BFC2E7D
EA338DEDB9C3022523007094147DDC75843943A94894BE4866B2C1910910708D
467553C2A3E96FDF5EEFDA92183F6B696F6BF557AA7C7D474FD9883F55A13A2D
8B2C3E0B63ED85B1D4D1D82F42344F0EBA0CAE40FD0F2AB4F2E52270A97C9173
C502D69569A6E9C6914C92744C90594B9659D7BF1B5A8A7FFD221E11A0842DFD
2B297D2D2214E176DFF189D24B14309373FCCF0245DCE56CBFDB291F3C7718E2
2D91FAB53587387CCF69E508329A7167AF04BB8D0005F1EBE5AFD473450C0426
E4248E17BB3759B49F5CF966EE77F5BDB495C1A8480CA1CE529A77F5D61110F6
F129B963942F4D8EB815C6E471C82036DFD034261C9FBF6A9F25652AF1C8A273
27B90EACD000474F3F5EF3B91ADBD9FB7B9F3346709621319F43B8DFEE4BA959
6B160AE4A7B99B446E4437E150BF33E89DD38F6F522982885BE07C979C30ED48
2DFD0407B3D6986D73A732CA93D61855EECCFCE88868C63C3BD24F93B127454C
19702815A84CB1EEE6255912066913C9A9263D519AD1F8D3B1B01E89F727CB87
2E949C6F03018FAAA93429CEB7D4F47C69961684772F449C046600CA06B2ED12
0644AB715C98EB5C40618522FFC9AED53F2D092320C0206C15AFFF31E22F40F4
A5099FD4D6371A6DFE6C64E2203908636376859ACFD8920A47D9FECF8C4FFB62
17A23686AF8E0485C9D6FE6035A5BFDB1F48D3927C24F052866379C0EE018FF7
A1A268503BCB92FE75E8062B5F6543D13562C52C533ED24DD804FF6119D3920D
9CB3935E5647D516A5E8A34A6C54FA0918F03472989D8A8B9EDBC07DC2B8933D
D71227E4716968C01027B750107295948CB7E2C6827288B3EF1D81912CECA74F
B4809577B5BB102E28C2E6E505FDADE566A13224F58329EFA99A91412E51E855
CF046F84F12EDF83CB41A64FA9A6A24E926C441D3C7109EFC073ED9D6130E4BE
9EA141ADE120A83CBD40D87A00F8CD5429464D342442CCA75D538CDBDED7E078
22811B0013F113B7AADCB057C2368924A7A9024540C368F7C6BF624C05D2C597
F8B63A6EA98F75FB00E93DAFC977EC5C3A1CD9D4E5C8112D0814C35658AEA789
1B8CA778ADCF0803C6A9E9085CFD3C7BCF87E24BC90A458D2292971AFFF2C90D
6EDA7ED04F0F26107FBF97894CE54CDBDDD0FF7715BAEF377F329FE7362757C4
EC159AB21EB1EF60A4F69BC7C45ED8BC7947025D5994122C0F29D702A2540447
30B54A764A2DEC1429F369053D296C881FE00DBE2056DD7503BF7D5A00D30B01
EEF7AA478D6212E522B523600467404C8AD39A5E4995C9547F0A62733CD278C0
D8BDF87EA08392B95E0893F3F894AA3857A02419470871B3E8825AABA0CC27A0
0E5B1A488863E4877CED3FDF5B7C5BFC50EADA8CE15633F106EB03CB9043F9DD
CACFD1730DCC190CA21BFD94AB96F5A2EF496A93B949EF24282A9F7FD267EF97
75CFD4D8625D2AD8A01F75148E952BB3A8361ABCAD75A6C3328C4A4CBCAEE028
CEA4769588DA9CE8ABE94F1806DAD28D727BE456A00248179F57022D7A5876EC
65E2CF43026BA3882A67745B493B934496B379D6C41A20B915078CD033AFD70F
0BE32D35F0438DD7AEECEA268224F7B45AD25F1741597F1B962D6F
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39158280 55380996 1000 600 600 (gadt.dvi)
@start /Fa 193[61 16[61 45[{
 .85 ExtendFont TeXBase1Encoding ReEncodeFont }2 119.552
/Courier rf /Fb 231[66 24[{}1 119.552 /EUSM10 rf /Fc
214[28 28 40[{}2 58.1154 /EUFM7 rf /Fd 223[77 32[{}1
74.7198 /MSAM10 rf /Fe 223[120 32[{}1 119.552 /MSAM10
rf /Ff 212[44 44 42[{}2 58.1154 /EUEX10 rf /Fg 223[83
32[{}1 83.022 /MSAM10 rf /Fh 207[25 48[{}1 90.9091 /CMSY10
rf /Fi 222[120 33[{}1 119.552 /EUEX10 rf /Fj 138[58 38
41 2[54 1[60 4[33 1[52 1[45 3[55 46[45 45 34[46 14[{}12
90.9091 /EURM10 rf /Fk 166[43 2[43 43 37 33 40 1[33 43
43 53 37 2[20 43 43 33 37 1[40 40 43 65[{
 TeXBase1Encoding ReEncodeFont }19 59.7758 /Times-Roman
rf /Fl 196[26 26 58[{}2 119.552 /EUFM10 rf /Fn 159[73
75[93 20[{}2 119.552 /CMSY10 rf /Fo 138[77 50 3[70 82[70
61 72 8[66 12[86 3[85 51{}10 119.552 /EURM10 rf /Fp 137[60
60 33 47 40 60 1[60 60 93 33 2[33 3[53 1[53 1[53 11[86
73 3[66 12[80 64[66 2[{ TeXBase1Encoding ReEncodeFont }19
119.552 /Times-Roman rf /Fq 139[41 67[17 48[{}2 61.4362
/CMSY10 rf /Fr 172[30 83[{ TeXBase1Encoding ReEncodeFont }1
65.3216 /ZapfChancery-MediumItalic rf /Fs 90[41 165[{}1
58.1154 /Symbol rf /Ft 139[39 65[39 1[16 48[{}3 58.1154
/CMSY10 rf /Fu 149[18 81[46 24[{}2 83.022 /EUSM10 rf
/Fv 134[46 46 66 46 51 30 36 41 51 51 46 51 76 25 2[25
51 46 30 41 51 41 51 46 12[61 51 2[56 1[66 86 61 7[66
2[66 7[46 46 46 46 46 46 46 46 46 2[23 30 42[51 2[{
 TeXBase1Encoding ReEncodeFont }43 91.3242 /Times-Bold
rf /Fw 138[46 2[37 8[23 1[42 1[37 30[51 11[28 3[42 42
42 42 42 42 49[{ TeXBase1Encoding ReEncodeFont }13 83.022
/Times-Bold rf /Fx 172[58 83[{}1 67.2477 /CMEX10 rf /Fz
87[25 46[33 33 50 1[37 21 29 29 1[37 37 37 54 21 33 21
21 37 37 21 33 37 33 37 37 7[42 3[54 42 37 46 1[46 54
50 62 42 1[33 25 54 54 46 46 1[50 46 46 7[37 37 1[37
37 37 37 37 37 37 1[19 25 19 2[25 25 25 39[{
 TeXBase1Encoding ReEncodeFont }58 74.7198 /Times-Italic
rf /FA 137[36 46 31 33 2[42 1[47 64 1[40 1[27 1[41 31
36 1[36 1[44 37[22 8[36 36 20[37 43 12[36 1[47 47 5[51
5[{}23 58.1154 /EURM7 rf /FB 149[17 2[25 25 77[43 24[{}4
74.7198 /EUSM10 rf /FC 212[51 51 8[77 33[{}3 74.7198
/EUEX10 rf /FD 170[62 42 39 83[{ TeXBase1Encoding ReEncodeFont }3
83.9849 /ZapfChancery-MediumItalic rf /FE 158[46 46 32[58
6[42 0 0 3[50 29[58 5[37 14[{}9 74.7198 /CMSY10 rf /FF
162[21 1[21 29[58 1[17 17 16[30 30 40[{}7 74.7198 /EUFM10
rf /FG 133[36 46 40 1[38 49 32 35 33 47 45 43 1[70 4[48
44 32 1[46 37 45 47 12[38 16[55 5[39 1[21 21 27[56 45
40 47 1[47 43 2[42 2[43 2[42 2[51 51 5[56 1[59 1[55 33{}39
74.7198 /EURM10 rf /FH 71[25 3[25 11[25 16[75 37 27[33
37 37 54 37 37 21 29 25 37 37 37 37 58 21 37 21 21 37
37 25 33 37 33 37 33 3[25 1[25 46 1[54 71 54 54 46 42
50 1[42 54 54 66 46 54 29 25 54 54 42 46 54 50 50 54
6[21 37 37 37 37 37 37 37 37 37 37 1[19 25 19 2[25 25
25 3[37 32[42 2[{ TeXBase1Encoding ReEncodeFont }76 74.7198
/Times-Roman rf /FI 162[23 1[23 29[63 1[18 18 16[32 32
40[{}7 83.022 /EUFM10 rf /FJ 212[55 55 83 7[83 33[{}4
83.022 /EUEX10 rf /FK 134[49 44 2[53 35 38 2[49 47 55
76 4[52 1[35 41 50 40 49 51 12[41 16[59 7[23 23 27[60
49 43 50 2[46 5[46 2[46 42 51 55 55 73 4[60 1[64 1[59
36{}36 83.022 /EURM10 rf /FL 130[42 1[42 1[42 42 1[42
42 42 42 42 42 1[42 42 42 42 2[42 2[42 42 42 42 42 42
3[42 42 42 42 5[42 3[42 1[42 42 42 1[42 42 2[42 42 2[42
3[42 42 2[42 7[42 42 42 42 42 42 42 1[42 42 42 1[42 38[{
 .85 ExtendFont TeXBase1Encoding ReEncodeFont }49 83.022
/Courier rf /FM 131[38 2[38 38 38 38 38 38 38 38 38 38
38 38 38 38 2[38 38 38 38 38 38 38 38 38 4[38 1[38 3[38
1[38 38 38 1[38 1[38 38 38 1[38 38 2[38 38 2[38 3[38
38 2[38 7[38 38 38 38 38 38 38 38 1[38 38 40[{
 .85 ExtendFont TeXBase1Encoding ReEncodeFont }52 74.7198
/Courier rf /FN 207[37 21 47[{}2 74.7198 /Symbol rf /FO
170[69 47 43 83[{ TeXBase1Encoding ReEncodeFont }3 93.3165
/ZapfChancery-MediumItalic rf /FP 207[42 23 47[{}2 83.022
/Symbol rf /FQ 159[51 39[46 0 4[55 32[65 1[42 42 12[23
1[{}8 83.022 /CMSY10 rf /FR 134[33 3[33 18 4[33 1[52
18 2[18 3[29 33 1[33 8[48 2[48 48 41 37 44 1[37 48 48
59 41 1[26 22 48 48 37 41 48 44 44 48 6[18 33 3[33 33
1[33 33 33 3[17 4[22 39[{ TeXBase1Encoding ReEncodeFont }40
66.4176 /Times-Roman rf /FS 134[37 37 55 37 42 23 32
32 42 42 42 42 60 23 37 1[23 42 42 23 37 42 37 42 42
17[60 5[28 7[51 18[21 28 21 40[42 42 2[{ TeXBase1Encoding ReEncodeFont }
32 83.022 /Times-Italic rf /FT 71[28 32[83 42 1[37 37
24[37 42 42 60 42 42 23 32 28 42 42 42 42 65 23 42 23
23 42 42 28 37 42 37 42 37 3[28 1[28 51 1[60 78 1[60
51 46 55 1[46 60 60 74 51 1[32 28 60 60 46 51 60 55 55
60 1[37 3[23 23 42 42 42 42 42 42 42 42 42 42 23 21 28
21 2[28 28 28 65 2[42 31[46 46 2[{ TeXBase1Encoding ReEncodeFont }79
83.022 /Times-Roman rf /FU 136[72 1[55 33 39 44 1[55
50 55 83 28 55 1[28 55 50 33 44 55 44 55 50 12[66 1[72
8[39 5[72 66 72 8[50 50 50 50 50 50 50 50 49[{
 TeXBase1Encoding ReEncodeFont }34 99.6264 /Times-Bold
rf /FV 134[45 2[45 50 25 45 30 1[50 50 50 75 20 2[20
50 50 25 50 50 45 50 50 9[85 1[65 1[60 65 1[60 2[75 2[45
2[70 3[65 22[25 44[{ TeXBase1Encoding ReEncodeFont }30
89.6632 /Helvetica rf /FW 134[75 4[45 75 52 1[82 82 82
1[37 2[37 1[82 45 75 82 75 82 75 9[127 28[45 58[{
 TeXBase1Encoding ReEncodeFont }18 134.495 /Helvetica-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop Black Black Black Black Black -148
264 a FW(W)-8 b(obb)o(l)n(y)37 b(types:)46 b(type)37
b(inf)o(erence)g(f)m(or)h(g)q(eneralised)g(alg)q(ebraic)g(data)f(types)
283 592 y FV(Simon)24 b(P)l(e)n(yton)g(Jones)60 692 y(Microsoft)g
(Research,)f(Cambr)q(idge)1674 592 y(Geoffre)n(y)h(W)l(ashb)n(ur)r(n)
1539 692 y(Univ)n(ersity)f(of)h(P)l(ennsylv)n(ania)2956
592 y(Stephanie)f(W)m(eir)q(ich)2797 692 y(Univ)n(ersity)h(of)g(P)l
(ennsylv)n(ania)p Black -150 1353 a FU(Abstract)-150
1512 y FT(Generalised)55 b(algebraic)g(data)h(types)g(\(GADTs\),)65
b(sometimes)-150 1612 y(kno)n(wn)15 b(as)j(\223guarded)c(recursi)n(v)o
(e)i(data)g(types\224)h(or)g(\223\002rst-class)g(phan-)-150
1711 y(tom)26 b(types\224,)h(are)f(a)g(simple)g(b)n(ut)g(po)n(werful)e
(generalisation)h(of)h(the)-150 1811 y(data)16 b(types)f(of)g(Hask)o
(ell)h(and)f(ML.)h(Recent)g(w)o(orks)f(ha)n(v)o(e)g(gi)n(v)o(en)f(com-)
-150 1911 y(pelling)22 b(e)o(xamples)g(of)g(the)h(utility)g(of)f
(GADTs,)i(although)c(type)j(in-)-150 2010 y(ference)c(is)i(kno)n(wn)e
(to)h(be)g(dif)n(\002cult.)-150 2168 y(It)e(is)g(time)f(to)h(pluck)e
(the)i(fruit.)23 b(Can)18 b(GADTs)g(be)f(added)f(to)h(Hask)o(ell,)-150
2268 y(without)41 b(losing)h(type)f(inference,)46 b(or)41
b(requiring)f(unacceptably)-150 2368 y(hea)n(vy)35 b(type)g
(annotations?)69 b(Can)36 b(this)g(be)f(done)g(without)f(com-)-150
2467 y(pletely)15 b(re)n(writing)g(the)h(already-comple)o(x)c(Hask)o
(ell)17 b(type-inference)-150 2567 y(engine,)38 b(and)d(without)g
(comple)o(x)f(interactions)g(with)i(\(say\))f(type)-150
2666 y(classes?)25 b(W)-7 b(e)19 b(answer)d(these)i(questions)e(in)i
(the)f(af)n(\002rmati)n(v)o(e,)f(gi)n(ving)-150 2766
y(a)j(type)f(system)g(that)h(e)o(xplains)e(just)i(what)g(type)f
(annotations)e(are)j(re-)-150 2866 y(quired,)27 b(and)f(a)h(prototype)e
(implementation)f(that)j(implements)f(it.)-150 2965 y(Our)31
b(main)g(technical)g(inno)o(v)n(ation)e(is)k FS(wobbly)e(types)p
FT(,)j(which)d(e)o(x-)-150 3065 y(press)25 b(in)g(a)g(declarati)n(v)o
(e)e(w)o(ay)i(the)g(uncertainty)d(caused)j(by)f(the)h(in-)-150
3165 y(cremental)19 b(nature)g(of)h(typical)g(type-inference)d
(algorithms.)-150 3387 y FU(1)99 b(Intr)n(oduction)-150
3546 y FT(Generalised)24 b(algebraic)g(data)h(types)g(\(GADTs\))f(are)h
(a)h(simple)f(b)n(ut)-150 3645 y(potent)g(generalisation)f(of)i(the)g
(recursi)n(v)o(e)e(data)i(types)g(that)g(play)f(a)-150
3745 y(central)k(role)g(in)g(ML)g(and)g(Hask)o(ell.)52
b(In)29 b(recent)g(years)g(the)o(y)f(ha)n(v)o(e)-150
3844 y(appeared)d(in)i(the)g(literature)f(with)h(a)g(v)n(ariety)f(of)g
(names)h(\(guarded)-150 3944 y(recursi)n(v)o(e)40 b(data)i(types,)47
b(\002rst-class)c(phantom)d(types,)47 b(equality-)-150
4044 y(quali\002ed)15 b(types,)i(and)f(so)g(on\),)g(although)f(the)o(y)
g(ha)n(v)o(e)h(a)h(much)e(longer)-150 4143 y(history)28
b(in)h(the)h(dependent)c(types)j(community)e(\(see)i(Section)g(6\).)
-150 4243 y(An)o(y)24 b(feature)f(with)i(so)f(man)o(y)f(names)h(must)h
(be)f(useful)g(\227)h(and)f(in-)-150 4343 y(deed)k(these)g(papers)g
(and)g(others)g(gi)n(v)o(e)f(man)o(y)g(compelling)g(e)o(xam-)-150
4442 y(ples,)20 b(as)h(we)g(recall)f(in)g(Section)g(2.)p
Black Black Black -149 5383 a FR(Submitted)f(to)e(POPL)-6
b('05:)21 b(July)d(19,)e(2004)p Black Black Black 2049
1353 a FT(W)-7 b(e)35 b(seek)g(to)f(turn)f(GADTs)i(from)e(a)i
(specialised)f(hobby)e(into)i(a)2049 1453 y(mainstream)23
b(programming)e(technique.)35 b(T)-7 b(o)25 b(do)e(so,)j(we)e(ha)n(v)o
(e)g(in-)2049 1553 y(corporated)29 b(them)i(as)h(a)g(conserv)n(ati)n(v)
o(e)d(e)o(xtension)h(of)i(Hask)o(ell)f(\(a)2049 1652
y(similar)26 b(design)f(w)o(ould)h(w)o(ork)f(for)g(ML\).)h(The)f(main)h
(challenge)f(is)2049 1752 y(the)20 b(question)e(of)h
FS(type)h(infer)m(ence)p FT(,)f(a)h(dominant)d(feature)i(of)g(Hask)o
(ell)2049 1851 y(and)31 b(ML.)h(It)g(is)g(well)g(kno)n(wn)e(that)i
(GADTs)g(are)g(too)f(e)o(xpressi)n(v)o(e)2049 1951 y(to)c(admit)f(type)
g(inference)e(in)j(the)f(absence)g(of)g(an)o(y)g(programmer)n(-)2049
2051 y(supplied)e(type)h(annotations;)h(on)f(the)g(other)f(hand,)h
(when)g(enough)2049 2150 y(type)35 b(annotations)e(are)j(supplied,)h
(type)e(inference)f(is)i(relati)n(v)o(ely)2049 2250 y(straightforw)o
(ard.)2049 2403 y(One)16 b(approach,)e(then,)i(is)h(to)f(implement)f(a)
h(compiler)f(that)h(tak)o(es)g(ad-)2049 2503 y(v)n(antage)21
b(of)h(type)f(annotations.)29 b(If)22 b(the)h(algorithm)d(succeeds,)i
(well)2049 2603 y(and)e(good;)e(if)j(not,)e(the)i(programmer)c(adds)j
(more)f(annotations)f(un-)2049 2702 y(til)26 b(it)f(does)f(succeed.)38
b(The)25 b(dif)n(\002culty)e(with)i(this)g(approach)e(is)i(that)2049
2802 y(there)20 b(is)h(no)f(guarantee)e(that)i(another)f(compiler)g
(for)g(the)i(same)f(lan-)2049 2901 y(guage)k(will)j(also)f(accept)f
(the)h(annotated)e(program,)g(nor)h(does)h(the)2049 3001
y(programmer)f(ha)n(v)o(e)j(a)g(precise)g(speci\002cation)f(of)h(what)g
(programs)2049 3101 y(are)35 b(acceptable)e(and)h(what)h(are)g(not.)68
b(W)m(ith)35 b(this)g(in)g(mind,)i(our)2049 3200 y(central)27
b(focus)g(is)h(this:)40 b(we)28 b(gi)n(v)o(e)f(a)h(declarati)n(v)o(e)e
(type)h(system)g(for)2049 3300 y(a)g(language)e(that)h(includes)g
(GADTs)h(and)f(programmer)n(-supplied)2049 3400 y(type)c(annotations,)e
(which)i(has)g(the)g(property)e(that)j(type)e(inference)2049
3499 y(is)h(straightforw)o(ard)c(for)i(an)o(y)h(well-typed)e(program.)
25 b(More)20 b(specif-)2049 3599 y(ically)-5 b(,)20 b(we)g(mak)o(e)g
(the)g(follo)n(wing)f(contrib)n(utions:)p Black 2132
3752 a FQ(\017)p Black 41 w FT(W)-7 b(e)27 b(describe)e(an)g
FS(e)n(xplicitly-typed)i FT(tar)o(get)e(language,)g(in)h(the)2215
3852 y(style)33 b(of)g(System)g(F)-7 b(,)34 b(that)f(supports)f(GADTs)i
(\(Section)e(3\).)2215 3951 y(This)26 b(language)e(dif)n(fers)g(in)i
(only)f(minor)f(respects)i(from)e(that)2215 4051 y(of)c(Xi)h([XCC03)o
(],)g(b)n(ut)f(our)f(presentation)g(of)h(the)h(type)e(system)2215
4151 y(is)29 b(rather)f(dif)n(ferent)f(and,)i(we)g(belie)n(v)o(e,)g
(more)f(accessible)g(to)2215 4250 y(programmers.)21 b(In)d(addition,)f
(some)h(design)f(alternati)n(v)o(es)g(dif-)2215 4350
y(fer)k(and,)g(most)h(important,)e(it)i(allo)n(ws)g(us)g(to)g
(introduce)e(much)2215 4450 y(of)g(the)g(v)n(ocab)n(ulary)f(and)g
(mental)h(scaf)n(folding)e(to)j(support)e(the)2215 4549
y(main)h(payload.)j(W)-7 b(e)22 b(pro)o(v)o(e)c(that)i(the)g(type)g
(system)g(is)i(sound.)p Black 2132 4703 a FQ(\017)p Black
41 w FT(W)-7 b(e)31 b(describe)f(an)g FS(implicitly-typed)h
FT(source)e(language,)h(that)2215 4802 y(supports)23
b(GADTs)h(and)f(programmer)n(-supplied)c(type)k(anno-)2215
4902 y(tations)d(\(Section)e(4\),)i(and)f(e)o(xplore)f(some)h(design)g
(v)n(ariations,)2215 5001 y(including)g(le)o(xically-scoped)g(type)i(v)
n(ariables)f(\(Section)h(4.7\).)2215 5101 y(The)k(k)o(e)o(y)g(inno)o(v)
n(ation)d(in)k(the)f(type)g(system)g(is)i(the)e(notion)f(of)2215
5201 y(a)c FS(wobbly)g(type)p FT(,)f(which)g(models)h(the)f(places)h
(where)g(an)f(infer)n(-)2215 5300 y(ence)j(algorithm)e(w)o(ould)h(mak)o
(e)h(a)g(\223guess\224.)30 b(The)22 b(idea)g(is)g(that)2215
5400 y(the)17 b(type)f(re\002nement)f(induced)g(by)h(GADTs)h(ne)n(v)o
(er)e(\223looks)h(in-)p Black 1929 5649 a(1)p Black eop
end
%%Page: 2 2
TeXDict begin 2 1 bop Black Black 16 83 a FT(side\224)23
b(a)g(w)o(obbly)f(type,)g(and)g(hence)g(is)i(insensiti)n(v)o(e)e(to)h
(the)g(or)n(-)16 183 y(der)g(in)g(which)g(the)g(inference)e(algorithm)h
(tra)n(v)o(erses)h(the)g(tree.)16 282 y(W)-7 b(e)30 b(pro)o(v)o(e)e(v)n
(arious)g(properties)g(of)h(this)h(system,)h(including)16
382 y(soundness.)p Black -67 542 a FQ(\017)p Black 41
w FT(W)-7 b(e)19 b(ha)n(v)o(e)e(b)n(uilt)g(a)h(prototype)d
(implementation)h(of)h(the)g(system)16 642 y(as)27 b(an)f(e)o(xtension)
e(to)j(the)f(type)f(inference)g(engine)g(described)16
741 y(by)d(Pe)o(yton)g(Jones)g(and)g(Shields')-5 b(s)23
b(tutorial)f([PS04)o(].)32 b(W)-7 b(e)23 b(dis-)16 841
y(cuss)35 b(the)f(interesting)f(aspects)i(of)f(the)g(implementation)e
(in)16 941 y(Section)20 b(5.)-150 1101 y(Our)27 b(focus)f(is)i(on)e
(type)h FS(infer)m(ence)f FT(rather)g(than)g FS(c)o(hec)n(king)p
FT(,)h(unlik)o(e)-150 1201 y(most)33 b(pre)n(vious)e(w)o(ork)h(on)g
(GADTs.)64 b(The)32 b(e)o(xception)f(is)j(an)e(e)o(x-)-150
1300 y(cellent)g(paper)f(by)g(Simonet)h(and)f(Pottier)m(,)j(written)e
(at)h(much)e(the)-150 1400 y(same)i(time)h(as)g(this)f(one,)j(and)d
(which)f(complements)g(our)g(w)o(ork)-150 1499 y(v)o(ery)d(nicely)g
([SP03)o(].)54 b(Their)29 b(treatment)g(is)i(more)e(general)g(\(the)o
(y)-150 1599 y(use)24 b(HM\(X\))e(as)i(the)g(type)e(frame)n(w)o(ork\),)
g(b)n(ut)h(we)h(solv)o(e)f(tw)o(o)g(prob-)-150 1699 y(lems)30
b(the)o(y)f(identify)f(as)i(particularly)e(trick)o(y)-5
b(.)51 b(First,)32 b(we)e(support)-150 1798 y(le)o(xically-scoped)e
(type)i(v)n(ariables)g(and)g(open)g(type)g(annotations;)-150
1898 y(and)16 b(second)h(we)g(use)g(a)g(single)g(set)h(of)f(type)f
(rules)h(for)g(all)g(data)g(types,)-150 1998 y(rather)k(than)g(one)g
(set)h(for)f(\223ordinary\224)e(data)j(types)f(and)g(another)f(for)-150
2097 y(GADTs.)25 b(W)-7 b(e)19 b(discuss)g(this)f(and)g(other)g
(important)e(related)i(w)o(ork)f(in)-150 2197 y(Section)j(6.)-150
2357 y(Our)32 b(goal)f(is)i(to)f(design)f(a)i(system)f(that)g(is)h
FS(pr)m(edictable)e FT(enough)-150 2457 y(to)25 b(be)g(used)f(by)g
(ordinary)f(programmers;)h(and)h FS(simple)g FT(enough)d(to)-150
2556 y(be)35 b(implemented)f(without)h(heroic)f(ef)n(forts.)70
b(In)35 b(particular)m(,)i(we)-150 2656 y(are)e(in)f(the)h(midst)g(of)f
(e)o(xtending)f(the)i(Glasgo)n(w)f(Hask)o(ell)h(Com-)-150
2756 y(piler)23 b(\(GHC\))g(to)h(accommodate)d(GADTs.)34
b(GHC')-5 b(s)25 b(type)e(check)o(er)-150 2855 y(is)39
b(already)e(v)o(ery)g(lar)o(ge;)47 b(not)38 b(only)f(does)h(it)h
(support)e(Hask)o(ell')-5 b(s)-150 2955 y(type)29 b(classes,)k(b)n(ut)d
(also)g(numerous)e(e)o(xtensions,)i(such)g(as)g(multi-)-150
3055 y(parameter)14 b(type)g(classes,)k(functional)13
b(dependencies,)h(scoped)g(type)-150 3154 y(v)n(ariables,)34
b(arbitrary-rank)29 b(types,)34 b(and)e(more)f(besides.)61
b(An)32 b(e)o(x-)-150 3254 y(tension)d(that)h(required)e(all)i(this)g
(to)g(be)g(re-engineered)d(w)o(ould)i(be)-150 3353 y(a)e(non-starter)e
(b)n(ut,)k(by)d(designing)f(our)h(type)h(system)g(to)g(be)f(type-)-150
3453 y(inference-friendly)-5 b(,)21 b(we)26 b(belie)n(v)o(e)d(that)i
(GADTs)h(can)e(be)h(added)f(as)-150 3553 y(a)d(more)f(or)h(less)h
(orthogonal)c(feature,)h(without)h(disturbing)f(the)i(e)o(x-)-150
3652 y(isting)f(architecture.)-150 3813 y(More)33 b(broadly)-5
b(,)34 b(we)f(belie)n(v)o(e)g(that)g(the)g(goal)g(of)g(annotation-free)
-150 3912 y(type)g(inference)f(is)j(a)f(mirage;)40 b(and)33
b(that)h(e)o(xpressi)n(v)o(e)e(languages)-150 4012 y(will)20
b(shift)g(increasingly)e(to)n(w)o(ards)h(type)g(systems)h(that)f(e)o
(xploit)g(pro-)-150 4111 y(grammer)32 b(annotations.)63
b(Polymorphic)31 b(recursion)h(and)h(higher)n(-)-150
4211 y(rank)21 b(types)i(are)f(tw)o(o)h(established)e(e)o(xamples,)h
(and)g(GADTs)h(is)g(an-)-150 4311 y(other)-5 b(.)26 b(W)-7
b(e)22 b(need)e(tools)h(to)g(describe)f(such)g(systems,)h(and)f(the)h
(w)o(ob-)-150 4410 y(bly)f(types)g(we)g(introduce)f(here)g(seem)i(to)f
(meet)g(that)h(need.)-150 4639 y FU(2)99 b(Backgr)n(ound)-150
4791 y FT(W)-7 b(e)33 b(be)o(gin)d(with)i(a)g(brief)f(re)n(vie)n(w)h
(of)f(the)h(po)n(wer)e(of)i(GADTs)g(\227)-150 4883 y(nothing)25
b(in)h(this)h(section)f(is)i(ne)n(w)-5 b(.)43 b(Consider)25
b(the)i(follo)n(wing)e(data)-150 4974 y(type)33 b(for)g(terms)g(in)h(a)
f(simple)h(language)d(of)i(arithmetic)g(e)o(xpres-)-150
5065 y(sions:)p Black Black -74 5217 a FM(data)39 b(Term)f(=)g(Lit)h
(Int)76 b(|)39 b(Inc)f(Term)307 5309 y(|)g(IsZ)h(Term)f(|)h(If)f(Term)h
(Term)f(Term)307 5400 y(|)g(Fst)h(Term)f(|)h(Snd)f(Term)h(|)f(Pair)g
(Term)h(Term)p Black Black 2049 83 a FT(W)-7 b(e)21 b(might)f(write)g
(an)g(e)n(v)n(aluator)f(for)g(this)i(language)e(as)i(follo)n(ws:)p
Black Black 2087 218 a FM(data)39 b(Val)f(=)g(VInt)h(Int)f(|)g(VBool)h
(Bool)g(|)f(VPr)g(Val)h(Val)2087 401 y(eval)g(::)f(Term)g(->)h(Val)2087
492 y(eval)g(\(Lit)f(i\))g(=)h(VInt)f(i)2087 583 y(eval)h(\(Inc)f(t\))g
(=)h(case)f(eval)h(t)f(of)2773 675 y(VInt)h(i)f(->)g(VInt)h(\(i+1\))
2087 766 y(eval)g(\(IsZ)f(t\))g(=)h(case)f(eval)h(t)f(of)2773
857 y(VInt)h(i)f(->)g(VBool)h(\(i==0\))2087 949 y(eval)g(\(If)f(b)g(t)g
(e\))h(=)f(case)h(eval)f(b)g(of)2849 1040 y(VBool)h(True)f(->)h(eval)f
(t)2849 1131 y(VBool)h(False)g(->)f(eval)g(e)2087 1223
y(..etc..)2049 1366 y FT(There)26 b(are)h(ob)o(vious)f(infelicities)h
(in)h(both)e(the)h(data)g(type)g(and)g(the)2049 1466
y(e)n(v)n(aluator)-5 b(.)24 b(The)19 b(data)h(type)g(allo)n(ws)g(the)g
(construction)e(of)i(nonsense)2049 1565 y(terms,)38 b(such)c(as)h
FL(\(Inc)44 b(\(IfZ)g(\(Lit)f(0\)\)\))p FT(;)h(and)34
b(the)g(e)n(v)n(aluator)2049 1665 y(does)20 b(a)h(good)d(deal)i(of)g
(fruitless)h(tagging)d(and)i(un-tagging.)2049 1800 y(No)n(w)j(suppose)f
(that)h(we)h(could)e(instead)h(write)g(the)g(data)g(type)g(dec-)2049
1891 y(laration)c(lik)o(e)i(this:)p Black Black 2125
2026 a FM(data)39 b(Term)f(a)g(where)2240 2118 y(Lit)76
b(::)38 b(Int)h(->)f(Term)h(Int)2240 2209 y(Inc)76 b(::)38
b(Term)h(Int)f(->)h(Term)f(Int)2240 2300 y(IsZ)76 b(::)38
b(Term)h(Int)f(->)h(Term)f(Bool)2240 2392 y(If)114 b(::)38
b(Term)h(Bool)f(->)h(Term)f(a)h(->)f(Term)g(a)h(->)f(Term)g(a)2240
2483 y(Pair)g(::)g(Term)h(a)f(->)g(Term)h(b)f(->)h(Term)f(\(a,b\))2240
2574 y(Fst)76 b(::)38 b(Term)h(\(a,b\))g(->)f(Term)g(a)2240
2666 y(Snd)76 b(::)38 b(Term)h(\(a,b\))g(->)f(Term)g(b)2049
2809 y FT(Here)26 b(we)g(ha)n(v)o(e)f(added)f(a)j(type)e(parameter)f
(to)i FL(Term)p FT(,)j(which)c(indi-)2049 2909 y(cates)20
b(the)f(type)g(of)g(the)g(term)g(it)h(represents,)f(and)g(we)g(ha)n(v)o
(e)g(enumer)n(-)2049 3008 y(ated)j(the)f(constructors,)f(gi)n(ving)h
(each)g(an)h(e)o(xplicit)f(type)g(signature.)2049 3108
y(These)28 b(type)g(signatures)f(already)g(rule)h(out)g(the)g(nonsense)
f(terms;)2049 3208 y(in)21 b(the)h(e)o(xample)e(abo)o(v)o(e,)f
FL(\(IfZ)44 b(\(Lit)g(0\)\))23 b FT(has)e(type)g FL(Term)44
b(Bool)2049 3307 y FT(and)20 b(that)g(is)h(incompatible)d(with)j(the)f
(ar)o(gument)e(type)h(of)h FL(Inc)p FT(.)2049 3442 y(Furthermore,)e
(the)i(e)n(v)n(aluator)e(becomes)i(stunningly)e(direct:)p
Black Black 2087 3577 a FM(eval)39 b(::)f(Term)g(a)h(->)f(a)2087
3669 y(eval)h(\(Lit)f(i\))153 b(=)38 b(i)2087 3760 y(eval)h(\(Inc)f
(t\))153 b(=)38 b(eval)h(t)f(+)g(1)2087 3851 y(eval)h(\(IsZ)f(t\))153
b(=)38 b(eval)h(t)f(==)g(0)2087 3943 y(eval)h(\(If)f(b)g(t)g(e\))h(=)f
(if)g(eval)h(b)f(then)h(eval)f(t)g(else)h(eval)f(e)2087
4034 y(eval)h(\(Pair)f(a)g(b\))h(=)f(\(eval)h(a,)f(eval)h(b\))2087
4125 y(eval)g(\(Fst)f(t\))153 b(=)38 b(fst)g(\(eval)h(t\))2087
4217 y(eval)g(\(Snd)f(t\))153 b(=)38 b(snd)g(\(eval)h(t\))2049
4360 y FT(It)33 b(is)h(w)o(orth)e(studying)g(this)h(remarkable)e
(de\002nition.)62 b(Note)32 b(that)2049 4460 y(right)c(hand)g(side)h
(of)g(the)g(\002rst)g(equation)f(patently)g(has)h(type)f
FL(Int)p FT(,)2049 4559 y(not)e FL(a)p FT(.)43 b(But,)28
b(if)e(the)g(ar)o(gument)e(to)i FL(eval)i FT(is)f(a)g
FL(Lit)p FT(,)h(then)e(the)g(type)2049 4659 y(parameter)c
FL(a)i FT(must)g(be)f FL(Int)i FT(\(for)d(there)h(is)i(no)e(w)o(ay)g
(to)h(construct)e(a)2049 4758 y FL(Lit)e FT(term)d(other)g(than)h(to)g
(use)g(the)g(typed)f FL(Lit)j FT(constructor\),)c(and)h(so)2049
4858 y(the)22 b(right)f(hand)f(side)i(has)g(type)g FL(a)g
FT(also.)30 b(Similarly)-5 b(,)21 b(the)h(right)f(hand)2049
4958 y(side)j(of)g(the)g(third)g(equation)e(has)j(type)e
FL(Bool)p FT(,)k(b)n(ut)d(in)g(a)h(conte)o(xt)d(in)2049
5057 y(which)h FL(a)h FT(must)g(be)f FL(Bool)p FT(.)36
b(And)23 b(so)h(on.)34 b(Under)22 b(the)i(dictum)e(\223well)2049
5157 y(typed)e(programs)e(do)j(not)f(go)g(wrong\224,)f(this)i(program)e
(is)i(de\002nitely)2049 5257 y(well-typed.)2049 5400
y(The)f(k)o(e)o(y)f(ideas)i(are)f(these:)p Black 1929
5649 a(2)p Black eop end
%%Page: 3 3
TeXDict begin 3 2 bop Black Black Black -67 83 a FQ(\017)p
Black 41 w FT(A)25 b(generalised)f(data)g(type)h(is)g(declared)f(by)g
(enumerating)f(its)16 183 y(constructors,)d(gi)n(ving)g(an)i(e)o
(xplicit)f(type)g(signature)f(for)h(each.)16 282 y(In)16
b(con)m(v)o(entional)d(data)j(types)g(in)g(Hask)o(ell)h(or)f(ML,)g(a)g
(construc-)16 382 y(tor)33 b(has)h(a)g(type)g(of)f(the)h(form)e
FQ(8)p 1016 334 55 4 v FK(\013)26 b(:)p 1146 334 43 4
v 26 w(\034)g FJ(!)f FK(T)p 1400 334 55 4 v 36 w(\013)o
FT(,)38 b(where)33 b(the)16 482 y(result)c(type)f(is)h(the)g(type)f
(constructor)e FK(T)38 b FT(applied)28 b(to)g(all)i(the)16
581 y(type)18 b(parameters)p 562 533 V 18 w FK(\013)p
FT(.)25 b(In)18 b(a)h(generalised)f(data)g(type,)h(the)g(result)16
681 y(type)i(must)h(still)h(be)e(an)h(application)e(of)h
FK(T)9 b FT(,)23 b(b)n(ut)e(the)h(ar)o(gument)16 780
y(types)i(are)f(arbitrary)-5 b(.)33 b(F)o(or)24 b(e)o(xample)e
FL(Lit)j FT(mentions)e(no)g(type)16 880 y(v)n(ariables,)i
FL(Pair)h FT(has)f(a)g(result)f(type)g(with)h(structure)f
FL(\(a,b\))p FT(,)16 980 y(and)g FL(Fst)j FT(mentions)d(some,)i(b)n(ut)
f(not)f(all,)j(of)e(its)h(uni)n(v)o(ersally-)16 1079
y(quanti\002ed)19 b(type)h(v)n(ariables.)p Black -67
1238 a FQ(\017)p Black 41 w FT(The)g(data)h(constructors)d(are)j
(functions)e(with)h(ordinary)f(poly-)16 1337 y(morphic)e(types.)25
b(There)18 b(is)i(nothing)d(special)i(about)f(ho)n(w)g(the)o(y)16
1437 y(are)33 b(used)f(to)h(construct)f(terms,)j(apart)e(from)e(their)i
(unusual)16 1537 y(types.)p Black -67 1695 a FQ(\017)p
Black 41 w FT(All)g(the)g(e)o(xcitement)e(lies)j(in)f(pattern)e
(matching.)61 b(P)o(attern-)16 1795 y(matching)19 b(against)g(a)i
(constructor)e(may)g(allo)n(w)i(a)f FS(type)g(r)m(e\002ne-)16
1895 y(ment)30 b FT(in)f(the)g(case)g(alternati)n(v)o(e.)49
b(F)o(or)28 b(e)o(xample,)h(in)g(the)g FL(Lit)16 1994
y FT(branch)19 b(of)h FL(eval)p FT(,)h(we)g(can)f(re\002ne)g
FL(a)h FT(to)f FL(Int)p FT(.)p Black -67 2153 a FQ(\017)p
Black 41 w FT(T)-7 b(ype)19 b(inference)g(is)h(only)f(practicable)g
(when)g(guided)g(by)g(type)16 2252 y(annotations.)54
b(F)o(or)29 b(e)o(xample,)j(in)e(the)g(absence)g(of)g(the)g(type)16
2352 y(signature)20 b(for)g FL(eval)p FT(,)j(a)f(type)e(inference)g
(engine)g(w)o(ould)g(ha)n(v)o(e)16 2452 y(to)30 b(miraculously)e
(anti-re\002ne)g(the)i FL(Int)h FT(result)e(type)h(for)f(the)16
2551 y(\002rst)20 b(tw)o(o)f(equations,)f(and)h(the)g
FL(Bool)i FT(result)e(type)g(of)g(the)g(third)16 2651
y(\(etc\),)26 b(to)g(guess)g(that)f(the)h(o)o(v)o(erall)e(result)i
(should)e(be)i(of)f(type)16 2751 y FL(a)p FT(.)h(Such)20
b(a)g(system)h(w)o(ould)e(certainly)g(lack)h(principal)f(types.)p
Black -67 2909 a FQ(\017)p Black 41 w FT(The)61 b(dynamic)e(semantics)i
(is)i(unchanged.)144 b(P)o(attern-)16 3009 y(matching)27
b(is)i(done)f(on)f(data)i(constructors)d(only)-5 b(,)29
b(and)f(there)16 3108 y(is)21 b(no)f(run-time)f(type)g(passing.)-150
3267 y(This)h(simple)f(presentation)f(describes)h(GADTs)h(as)h(a)e
(modest)g(gen-)-150 3367 y(eralisation)29 b(of)h(con)m(v)o(entional)d
(data)i(types.)54 b(One)30 b(can)f(generalise)-150 3466
y(still)18 b(further)m(,)d(by)h(re)o(garding)e(the)j(constructors)e(as)
i(ha)n(ving)f FS(guar)m(ded)p FT(,)-150 3566 y(or)k FS(quali\002ed)g
FT(types)g([XCC03,)g(SP03].)25 b(F)o(or)20 b(e)o(xample:)323
3756 y FL(Lit)13 b FI(::)e FQ(8)p FK(\013)18 b(:)h FI(\()p
FK(\013)f FI(=)g FL(Int)q FI(\))h FJ(\))f FL(Term)i FK(\013)-150
3946 y FT(This)j(use)g(of)f(e)o(xplicit)h(constraints)f(has)h(the)g
(adv)n(antage)d(that)j(it)h(can)-150 4046 y(be)17 b(generalised)g(to)g
(more)g(elaborate)f(constraints,)h(such)h(as)g(subtype)-150
4146 y(constraints.)37 b(But)26 b(it)f(has)g(the)f(disadv)n(antage)f
(that)i(it)g(e)o(xposes)f(pro-)-150 4245 y(grammers)c(to)i(a)h(much)e
(richer)g(and)g(more)g(complicated)f(w)o(orld.)30 b(In)-150
4345 y(k)o(eeping)24 b(with)i(our)e(practical)h(focus,)h(our)f(idea)g
(is)h(to)g(see)g(ho)n(w)f(f)o(ar)-150 4444 y(we)i(can)g(get)g(without)g
(mentioning)d(constraints)j(to)g(the)g(program-)-150
4544 y(mer)c(at)i(all)f(\226)g(indeed,)f(the)o(y)g(barely)g(sho)n(w)g
(up)h(in)f(the)h(presentation)-150 4644 y(of)h(the)g(type)f(system.)40
b(Our)24 b(approach)f(is)j(less)g(general,)f(b)n(ut)g(it)g(has)-150
4743 y(an)20 b(e)o(xcellent)f(po)n(wer)n(-to-weight)f(ratio.)-150
4902 y(The)28 b FL(eval)h FT(function)e(is)h(a)h(some)n(what)e
(specialised)g(e)o(xample,)i(b)n(ut)-150 5001 y(earlier)15
b(papers)g(ha)n(v)o(e)g(gi)n(v)o(en)f(man)o(y)h(other)g(applications)f
(of)h(GADTs,)-150 5101 y(including)42 b(generic)g(programming,)j
(modelling)d(programming)-150 5201 y(languages,)15 b(maintaining)f(in)m
(v)n(ariants)g(in)i(data)g(structures)f(\(e.g.)22 b(red-)-150
5300 y(black)28 b(trees\),)j(e)o(xpressing)c(constraints)h(in)h
(domain-speci\002c)e(em-)-150 5400 y(bedded)g(languages)f(\(e.g)i
(security)g(constraints\),)h(and)e(modelling)p Black
Black 2021 3 2058 4 v 2021 2331 4 2329 v Black 2132 171
a FH(V)-8 b(ariables)337 b FG(x;)8 b(y;)g(z)2132 262
y FH(T)-6 b(ype)19 b(v)n(ariables)182 b FG(\013;)8 b(\014)2132
354 y FH(T)-6 b(ype)19 b(constructors)85 b FG(T)2132
445 y FH(Data)19 b(constructors)91 b FG(C)2132 630 y
FH(Programs)115 b FG(prog)83 b FF(::)o(=)p 2955 570 47
3 v 83 w FG(d)17 b(t)2132 739 y FH(Data)i(types)203 b
FG(d)83 b FF(::)o(=)g FM(data)17 b FG(T)p 3171 696 51
3 v 9 w(\013)f FM(where)p 3445 664 541 3 v 17 w FG(C)p
FM(::)p FE(8)p 3618 696 51 3 v FG(\013)g(:)p 3723 696
47 3 v 17 w(\033)g FC(!)g FG(T)p 3942 679 43 3 v 25 w(\030)2132
830 y FH(Atoms)329 b FG(v)83 b FF(::)o(=)g FG(x)24 b
FB(j)g FG(C)2132 922 y FH(T)-5 b(erms)269 b FG(t;)8 b(u)84
b FF(::)o(=)f FG(v)24 b FB(j)f FG(\025p)17 b(:)g(t)24
b FB(j)f FG(\003\013)16 b(:)h(t)24 b FB(j)f FG(t)17 b(u)24
b FB(j)g FG(t)16 b(\033)2855 1013 y FB(j)83 b FM(let)39
b FG(x)3148 1024 y FA(\033)3234 1013 y FM(=)f FG(u)g
FM(in)h FG(t)2855 1104 y FB(j)83 b FM(case)q FF(\()p
FG(\033)p FF(\))15 b FG(t)i FM(of)p 3372 1048 154 3 v
17 w FG(p)p FM(->)p FG(t)2132 1196 y FH(P)o(atterns)205
b FG(p;)8 b(q)83 b FF(::)o(=)g FG(x)2995 1207 y FA(\033)3067
1196 y FB(j)23 b FG(C)p 3179 1152 51 3 v 17 w(\013)p
3246 1152 46 3 v 16 w(p)2132 1378 y FH(T)-6 b(ypes)358
b FG(\033;)8 b(\036;)g(\030)83 b FF(:)o(:=)g FE(8)p FG(\013)p
FM(.)o FG(\033)23 b FB(j)h FG(\033)16 b FC(!)g FG(\036)24
b FB(j)f FG(T)p 3707 1335 47 3 v 25 w(\033)g FB(j)h FG(\013)2132
1470 y FH(T)-6 b(ype)19 b(conte)o(xts)214 b FG(\000)-6
b(;)8 b(\001)83 b FF(:)o(:=)g FG(\017)24 b FB(j)f FG(\000)-6
b(;)8 b(\013)24 b FB(j)f FG(\000)-6 b(;)8 b(v)17 b FF(:)f
FG(\033)2132 1561 y FH(Constraint)j(lists)231 b FG(\005)83
b FF(:)o(:=)p 3127 1518 V 83 w FG(\031)2132 1652 y FH(Constraint)380
b FG(\031)83 b FF(:)o(:=)g FG(\033)3174 1666 y FA(1)3249
1610 y FG(:)3230 1652 y FF(=)17 b FG(\033)3352 1666 y
FA(2)2132 1744 y FH(Substitutions)305 b FG(\022)83 b
FF(:)o(:=)3135 1743 y FN(/)3127 1744 y(0)24 b FB(j)f
FE(?)h FB(j)f FG(\022;)8 b(\013)17 b FE(7)p FC(!)f FG(\033)2132
1926 y(ftv)p FF(\()p FG(\033)p FF(\))95 b(::)p 2564 1883
51 3 v 94 w FG(\013)83 b FH(Free)18 b(type)i(v)n(ariables)f(of)g
FG(\033)2132 2018 y(ftv)p FF(\()p FG(\033)p FF(\))83
b(=)f Fz(...standar)m(d...)2137 2109 y FG(ftv)p FF(\()p
FG(\000)9 b FF(\))95 b(::)p 2564 2066 V 94 w FG(\013)83
b FH(T)-6 b(ype)19 b(v)n(ariables)h(in)f(domain)g(of)g
FG(\000)2137 2200 y(ftv)p FF(\()p FG(\000)9 b FF(\))83
b(=)2564 2148 y Fx(S)2638 2200 y FB(f)p FG(ftv)p FF(\()p
FG(\033)p FF(\))16 b FB(j)h FF(\()p FG(x)f FF(:)h FG(\033)p
FF(\))e FE(2)i FG(\000)9 b FB(g)p Black 4075 2331 4 2329
v 2021 2334 2058 4 v 2411 2409 a Fw(Figur)o(e)20 b(1:)25
b FT(Syntax)19 b(of)h(the)g(core)g(language)2049 2686
y(objects)32 b([Hin03)n(,)g(XCC03,)g(CH03,)g(SP04,)g(She04)n(].)61
b(The)32 b(inter)n(-)2049 2786 y(ested)20 b(reader)f(should)g(consult)g
(these)h(w)o(orks;)g(meanwhile,)f(for)g(this)2049 2885
y(paper)g(we)i(simply)f(tak)o(e)g(it)h(for)e(granted)g(that)h(GADTs)h
(are)f(useful.)2049 3118 y FU(3)99 b(The)26 b(cor)n(e)g(language)2049
3280 y FT(Our)35 b(\002rst)i(step)e(is)i(to)f(describe)e(an)i(e)o
(xplicitly-typed)d(language,)2049 3380 y(in)e(the)f(style)i(of)e
(System)h(F)-7 b(,)31 b(that)g(supports)e(GADTs.)57 b(This)31
b(lan-)2049 3479 y(guage)26 b(allo)n(ws)h(us)g(to)g(introduce)e(much)g
(of)i(our)f(terminology)e(and)2049 3579 y(mental)e(scaf)n(folding,)f
(in)h(a)h(conte)o(xt)e(that)h(is)i(relati)n(v)o(ely)d(simple)h(and)2049
3679 y(constrained.)60 b(This)32 b(so-called)g FS(cor)m(e)g(langua)o(g)
o(e)e FT(is)k(more)d(than)h(a)2049 3778 y(pedagogical)c(de)n(vice,)j
(ho)n(we)n(v)o(er)-5 b(.)53 b(GHC)30 b(uses)h(a)f(System-F-style)2049
3878 y(language)23 b(as)i(its)g(intermediate)e(language,)g(and)h(the)h
(language)d(we)2049 3978 y(describe)27 b(here)g(is)i(v)o(ery)e(close)h
(to)f(that)h(used)g(by)f(GHC)i(\(e)o(xtended)2049 4077
y(to)23 b(support)f(GADTs\).)33 b(Furthermore,)21 b(the)i
(source-language)c(type)2049 4177 y(system)30 b(that)f(we)h(describe)f
(in)g(Section)h(4)f(gi)n(v)o(es)g(a)h(type-directed)2049
4276 y(translation)e(into)i(the)f(core)g(language,)g(and)g(that)h(is)g
(the)f(route)g(by)2049 4376 y(which)20 b(we)g(pro)o(v)o(e)f(soundness)g
(for)g(the)h(source)g(language.)2049 4540 y Fv(3.1)90
b(Syntax)22 b(of)h(the)g(cor)n(e)e(language)2049 4703
y FT(Figure)g(1)h(gi)n(v)o(es)f(the)h(syntax)f(of)g(the)h(core)f
(language)f(and)h(its)i(types.)2049 4802 y(As)41 b(in)f(System)g(F)-7
b(,)41 b(each)f(binder)f(is)i(annotated)e(with)h(its)h(type,)2049
4902 y(and)31 b(type)h(abstraction)f FI(\()p FK(\003\013)24
b(:)h(t)p FI(\))33 b FT(and)e(application)g FI(\()p FK(t)24
b(\033)p FI(\))33 b FT(is)g(e)o(x-)2049 5001 y(plicit.)65
b(The)33 b FL(let)j FT(binding)31 b(form)i(is)h(recursi)n(v)o(e.)64
b(In)33 b(this)h(paper)m(,)2049 5101 y(e)n(v)o(ery)f(type)g(v)n
(ariable)g(has)i(kind)e(\223)p FL(*)p FT(\224;)42 b(the)34
b(e)o(xtension)f(to)h(higher)2049 5201 y(kinds)29 b(is)i(straightforw)o
(ard,)e(b)n(ut)g(increases)h(clutter)-5 b(.)53 b(The)29
b(system)2049 5300 y(is)23 b(impredicati)n(v)o(e,)c(ho)n(we)n(v)o(er;)i
(for)g(e)o(xample,)f(the)i(type)f(application)2049 5400
y FI(\()p FK(f)e FI(\()p FQ(8)p FK(\013)f(:)h(\013)f
FJ(!)g FK(\013)p FI(\)\))j FT(is)g(le)o(gitimate.)p Black
1929 5649 a(3)p Black eop end
%%Page: 4 4
TeXDict begin 4 3 bop Black Black -150 83 a FT(W)-7 b(e)19
b(use)e(o)o(v)o(erbar)e(notation)h(e)o(xtensi)n(v)o(ely)-5
b(.)22 b(The)17 b(notation)p 1515 35 55 4 v 16 w FK(\013)1570
52 y FA(n)1639 83 y FT(means)-150 183 y(the)27 b(sequence)f
FK(\013)366 195 y FA(1)415 183 y FQ(\001)9 b(\001)g(\001)h
FK(\013)567 195 y FA(n)618 183 y FT(;)31 b(the)c(\223)p
FK(n)p FT(\224)g(may)g(be)f(omitted)h(when)f(it)i(is)-150
282 y(unimportant.)67 b(The)35 b(notation)p 820 234 51
4 v 34 w FK(a)26 b FT(#)p 965 215 49 4 v 26 w FK(b)36
b FT(means)f(that)g(the)g(tw)o(o)g(se-)-150 382 y(quences)26
b(ha)n(v)o(e)g(no)h(common)e(elements.)45 b(Although)25
b(we)i(gi)n(v)o(e)g(the)-150 482 y(syntax)20 b(of)g(function)e(types)i
(in)h(the)f(con)m(v)o(entional)d(curried)i(w)o(ay)-5
b(,)20 b(we)-150 581 y(also)h(sometimes)e(use)i(an)f(equi)n(v)n(alent)e
(o)o(v)o(erbar)g(notation,)h(thus:)p 226 716 51 4 v 226
764 a FK(\033)276 729 y FA(n)346 764 y FJ(!)f FK(\036)102
b FQ(\021)f FK(\033)825 776 y FA(1)884 764 y FJ(!)19
b FQ(\001)9 b(\001)g(\001)19 b FJ(!)f FK(\033)1243 776
y FA(n)1313 764 y FJ(!)h FK(\036)-150 946 y FT(W)-7 b(e)28
b(will)f(sometimes)g(decompose)e(sequences)h(one)g(element)g(at)h(a)
-150 1046 y(time,)20 b(using)g(the)g(follo)n(wing)f(grammar)-5
b(.)p 569 1179 V 569 1227 a FK(a)83 b FI(:)o(:=)g FK(\017)25
b Fu(j)h FK(a;)p 1082 1179 V 9 w(a)-150 1411 y FT(This)j(notation)e(is)
i(used)f(in)h(the)f(declaration)f(of)h(data)h(types)f(\(Fig-)-150
1510 y(ure)g(1\),)h(which)f(are)g(gi)n(v)o(en)f(by)h(e)o(xplicitly)f
(enumerating)e(the)j(con-)-150 1610 y(structors,)17 b(gi)n(ving)f(an)i
(e)o(xplicit)e(type)h(signature)g(for)f(each.)24 b(The)17
b(dec-)-150 1710 y(laration)i(of)h FL(Term)i FT(in)f(Section)f(2)g(w)o
(as)h(an)f(e)o(xample.)-150 1859 y(P)o(attern-matching)i(o)o(v)o(er)h
(these)i(data)g(types)f(is)i(done)d(by)i FL(case)h FT(e)o(x-)-150
1959 y(pressions.)e(Each)17 b(such)g(e)o(xpression)g
FI(\()p FL(case)q FI(\()p FK(\033)p FI(\))g FK(t)f FL(of)p
1416 1896 169 4 v 17 w FK(p)p FL(->)p FK(t)p FI(\))i
FT(is)h(dec-)-150 2058 y(orated)24 b(with)h(its)h(result)g(type)e
FK(\033)p FT(,)j(and)d(patterns)h FK(p)h FT(may)e(be)h(nested.)-150
2158 y(\(GHC')-5 b(s)17 b(intermediate)f(language)f(does)h(not)g(ha)n
(v)o(e)g(nested)g(patterns,)-150 2257 y(b)n(ut)27 b(the)g(source)f
(language)f(certainly)h(does,)h(and)g(nested)f(patterns)-150
2357 y(turn)19 b(out)f(to)i(ha)n(v)o(e)f(interesting)f(interactions)g
(with)h(GADTs,)h(so)g(it)g(is)-150 2457 y(w)o(orth)g(e)o(xploring)d
(them)j(here.\))-150 2598 y(Notice)27 b(that)g(a)h(constructor)d
(pattern)i FI(\()p FK(C)p 1090 2550 55 4 v 23 w(\013)p
1167 2550 92 4 v 22 w(x)1211 2610 y FA(\033)1258 2598
y FI(\))h FT(binds)f(type)f(v)n(ari-)-150 2689 y(ables)p
48 2641 55 4 v 27 w FK(\013)h FT(as)g(well)g(as)h(term)e(v)n(ariables)p
997 2641 92 4 v 26 w FK(x)1041 2701 y FA(\033)1088 2689
y FT(.)45 b(F)o(or)27 b(e)o(xample,)f(here)h(is)-150
2780 y(part)16 b(of)f(the)h(de\002nition)f(of)h FL(eval)p
FT(,)i(e)o(xpressed)d(in)h(the)g(core)f(language:)p Black
Black -74 2922 a FM(eval)39 b(::)f(forall)h(a.)f(Term)h(a)f(->)g(a)117
3013 y(=)g(/\\a.)g(\\\(x:Term)h(a\).)193 3104 y(case\(a\))g(x)f(of)269
3196 y(Lit)h(\(i:Int\))f(->)h(i)269 3287 y(Pair)g(b)f(c)g(\(s::Term)h
(b\))f(\(t::Term)h(c\))345 3378 y(->)g(\(eval)f(b)h(s,)f(eval)g(c)h
(t\))269 3470 y(Fst)g(b)f(c)g(\(t:Term)h(\(b,c\)\))345
3561 y(->)g(fst)f(\(b,c\))h(\(eval)f(\(b,c\))h(t\))269
3652 y(...etc...)-150 3802 y FT(Each)c(constructor)e(pattern)i(binds)g
(a)h(\(fresh\))e(type)h(v)n(ariable)f(for)-150 3901 y(each)19
b(uni)n(v)o(ersally-quanti\002ed)d(type)j(v)n(ariable)f(in)i(the)f
(constructor')-5 b(s)-150 4001 y(type.)46 b(Then,)28
b(as)g(we)g(shall)f(see,)j(the)d(same)h(type)e(re\002nement)g(that)-150
4100 y(re\002nes)i FL(a)i FT(to)f FL(Int)h FT(in)e(the)h
FL(Lit)h FT(case)f(will)g(re\002ne)f FL(a)i FT(to)e FL(b)i
FT(\(or)e(vice)-150 4200 y(v)o(ersa\))c(in)i(the)f FL(If)h
FT(case,)h(and)d(will)i(re\002ne)f FL(a)h FT(to)f FL(\(b,c\))j
FT(in)d(the)g FL(Fst)-150 4300 y FT(case.)f(Notice,)17
b(too,)g(the)f(essential)h(use)g(of)f(polymorphic)d(recursion:)-150
4399 y(the)25 b(recursi)n(v)o(e)f(calls)i(to)g FL(eval)h
FT(are)e(at)h(dif)n(ferent)e(types)h(than)g FL(a)p FT(.)41
b(T)-7 b(o)-150 4499 y(be)26 b(useful,)g(a)h(language)d(that)i(of)n
(fers)f(GADTs)h(must)g(also)g(support)-150 4599 y(polymorphic)17
b(recursion.)-150 4740 y Fv(3.2)90 b(T)-7 b(ype)22 b(system)g(of)h(the)
f(cor)n(e)g(language)-150 4890 y FT(Figure)16 b(2)i(gi)n(v)o(es)e(the)h
(type)g(system)g(of)g(the)g(core)f(language.)23 b(W)-7
b(e)18 b(omit)-150 4990 y(rules)k(for)g(data)g(type)g(declarations)f
FK(d)p FT(,)j(because)d(the)o(y)h(simply)g(pop-)-150
5089 y(ulate)28 b(the)g(en)m(vironment)c FK(\000)38 b
FT(with)28 b(the)f(types)h(of)g(the)f(constructors.)-150
5189 y(The)c(main)g(typing)e(judgement)h FK(\000)28 b
FQ(`)20 b FK(t)g FI(:)g FK(\033)k FT(is)g(absolutely)e(standard.)-150
5300 y(The)17 b(auxiliary)g(judgement)f FK(\000)25 b
FQ(`)773 5255 y FA(k)833 5300 y FK(\033)19 b FT(checks)e(that)h
FK(\033)h FT(is)f(well-kinded;)-150 5400 y(since)29 b(all)g(type)f(v)n
(ariables)g(ha)n(v)o(e)g(kind)g FL(*)p FT(,)j(the)d(judgement)f(checks)
p Black Black 2021 3 2058 4 v 2021 1319 4 1316 v Black
2687 171 a FD(U)t FF(\()p 2783 128 51 3 v FG(\013)10
b FF(;)g FG(\005)p FF(\))95 b(::)f FG(\022)2700 262 y
FD(U)t FF(\()p 2796 219 V FG(\013)10 b FF(;)g FG(\017)p
FF(\))83 b(=)3188 261 y FN(/)3180 262 y(0)2473 354 y
FD(U)t FF(\()p 2569 310 V FG(\013)10 b FF(;)g FG(\033)2738
311 y(:)2720 354 y FF(=)17 b FG(\033;)8 b(\005)p FF(\))82
b(=)h FD(U)t FF(\()p 3276 310 V FG(\013)10 b FF(;)g FG(\005)p
FF(\))2426 445 y FD(U)t FF(\()p 2522 402 V FG(\013)g
FF(;)g FG(\014)2696 403 y(:)2677 445 y FF(=)17 b FG(\033)2799
456 y Ft(2)2841 445 y FG(;)8 b(\005)p FF(\))83 b(=)g
FD(U)t FF(\()p 3276 402 V FG(\013)10 b FF(;)g FG(\005)p
FF([)p FG(\033)3488 456 y Ft(2)3530 445 y FG(=\014)p
FF(]\))g FE(\016)g FF([)p FG(\014)18 b FE(7)p FC(!)e
FG(\033)3958 456 y Ft(2)4001 445 y FF(])3180 536 y FG(\014)h
FE(62)p 3314 493 V 16 w FG(\013;)8 b(\014)17 b FE(62)f
FG(\033)3575 550 y FA(2)2423 628 y FD(U)t FF(\()p 2519
584 V FG(\013)10 b FF(;)g FG(\033)2654 639 y Fs(\245)2734
585 y FG(:)2716 628 y FF(=)16 b FG(\014;)8 b(\005)p FF(\))83
b(=)g FD(U)t FF(\()p 3276 584 V FG(\013)10 b FF(;)g FG(\005)p
FF([)p FG(\033)3488 639 y Fs(\245)3533 628 y FG(=\014)p
FF(]\))g FE(\016)g FF([)p FG(\014)17 b FE(7)p FC(!)g
FG(\033)3961 639 y Fs(\245)4006 628 y FF(])3180 719 y
FG(\014)g FE(62)p 3314 676 V 16 w FG(\013;)8 b(\014)17
b FE(62)f FG(\033)3575 733 y FA(1)2091 810 y FD(U)t FF(\()p
2187 767 V FG(\013)10 b FF(;)g FG(\033)2322 821 y Fs(\245)2383
810 y FC(!)17 b FG(\033)2530 783 y Ft(0)2524 829 y Fs(\245)2604
768 y FG(:)2585 810 y FF(=)g FG(\033)2707 821 y Ft(2)2766
810 y FC(!)f FG(\033)2912 783 y Ft(0)2906 829 y(2)2949
810 y FG(;)8 b(\005)p FF(\))3039 902 y(=)83 b FD(U)t
FF(\()p 3276 858 V FG(\013)10 b FF(;)g FG(\033)3411 913
y Fs(\245)3491 859 y FG(:)3473 902 y FF(=)16 b FG(\033)3594
913 y Ft(2)3637 902 y FG(;)8 b(\033)3719 874 y Ft(0)3713
920 y Fs(\245)3793 859 y FG(:)3775 902 y FF(=)16 b FG(\033)3902
874 y Ft(0)3896 920 y(2)3939 902 y FG(;)8 b(\005)p FF(\))2226
1002 y FD(U)t FF(\()p 2322 959 V FG(\013)j FF(;)e FD(T)p
2490 959 93 3 v 38 w FG(\033)2537 1013 y Fs(\245)2616
959 y FG(:)2598 1002 y FF(=)17 b FD(T)p 2752 959 90 3
v 37 w FG(\033)2799 1013 y Ft(2)2841 1002 y FG(;)8 b(\005)p
FF(\))83 b(=)g FD(U)t FF(\()p 3276 959 51 3 v FG(\013)10
b FF(;)p 3364 935 273 3 v 10 w FG(\033)3411 1013 y Fs(\245)3491
959 y FG(:)3473 1002 y FF(=)16 b FG(\033)3594 1013 y
Ft(2)3637 1002 y FG(;)8 b(\005)p FF(\))2091 1093 y FD(U)t
FF(\()p 2187 1050 51 3 v FG(\013)i FF(;)g FE(8)p FG(\014)16
b(:)h(\033)2469 1104 y Fs(\245)2549 1051 y FG(:)2530
1093 y FF(=)g FE(8)p FG(\014)f(:)h(\033)2799 1104 y Ft(2)2841
1093 y FG(;)8 b(\005)p FF(\))83 b(=)g FD(U)t FF(\()p
FG(\014;)p 3356 1050 V 8 w(\013)11 b FF(;)f FG(\033)3492
1104 y Fs(\245)3572 1051 y FG(:)3553 1093 y FF(=)17 b
FG(\033)3675 1104 y Ft(2)3717 1093 y FG(;)8 b(\005)p
FF(\))2404 1188 y FD(U)t FF(\()p 2500 1127 46 3 v FE(a)i
FF(;)g FG(\034)2623 1199 y Fs(\245)2703 1146 y FG(:)2684
1188 y FF(=)17 b FG(\034)2799 1199 y Ft(2)2841 1188 y
FG(;)8 b(\005)p FF(\))83 b(=)g FE(?)p Black 4075 1319
4 1316 v 2021 1322 2058 4 v 2219 1396 a Fw(Figur)o(e)19
b(3:)25 b FT(Core-language)18 b(most)i(general)f(uni\002cation)2049
1660 y(only)27 b(that)h(the)f(type)h(v)n(ariables)f(of)g
FK(\033)i FT(are)e(in)h(scope,)h(and)e(that)h(ap-)2049
1760 y(plications)23 b(of)g(type)g(constructors)e FK(T)33
b FT(are)23 b(saturated.)34 b(W)-7 b(e)24 b(omit)g(the)2049
1860 y(details.)2049 2008 y(P)o(attern-matching)j(is)j(where)g(all)g
(the)g(interest)f(lies.)55 b(The)29 b(judge-)2049 2108
y(ment)2680 2207 y FK(\000)e FQ(`)2775 2158 y FA(a)2841
2207 y FK(p)18 b FJ(!)h FK(u)g FI(:)f FK(\033)3168 2219
y FA(1)3227 2207 y FJ(!)h FK(\033)3379 2219 y FA(2)2049
2354 y FT(checks)33 b(each)g(alternati)n(v)o(e)f(of)h(a)g
FL(case)i FT(e)o(xpression.)63 b(Intuiti)n(v)o(ely)-5
b(,)2049 2454 y(both)19 b FK(\033)2267 2466 y FA(1)2328
2454 y FT(and)g FK(\033)2518 2466 y FA(2)2579 2454 y
FT(should)g(be)h(considered)e(as)i(inputs)g(to)g(this)g(judge-)2049
2554 y(ment;)h(the)g(former)e(is)j(the)f(type)g(of)f(the)h(scrutinee,)f
(while)h(the)g(latter)2049 2653 y(annotates)k(the)i FL(case)h
FT(\(see)f(rule)h FR(C)t(A)t(S)t(E)r FT(\).)43 b(The)26
b(\002rst)h(thing)f(that)g FQ(`)4002 2608 y FA(a)2049
2753 y FT(does)k(is)h(to)f(typecheck)e(the)j(\(possibly)e(nested\))g
(pattern,)j(using)d(a)2049 2853 y(judgement)18 b(of)i(form)2677
3031 y FK(\000)h FI(;)11 b FK(\001)h FI(;)f FK(\022)19
b FQ(`)2960 2982 y FA(p)3025 3031 y FK(p)f FI(:)g FK(\033)12
b FI(;)g FK(\001)3286 2997 y Fq(0)3318 3031 y FI(;)g
FK(\022)3401 2997 y Fq(0)2049 3210 y FT(Here,)23 b FK(\000)31
b FT(is)24 b(the)e(type)g(en)m(vironment)d(gi)n(ving)i(the)i(types)f
(of)g(the)g(con-)2049 3310 y(structors,)29 b FK(p)f FT(is)h(the)f
(pattern,)h(and)e FK(\033)i FT(is)g(the)f(type)f(of)h(the)g(pattern.)
2049 3409 y(The)d(judgement)e(also)i(tak)o(es)h(a)f(mini-en)m
(vironment)c FK(\001)26 b FT(describing)2049 3509 y(the)h(type)f(and)h
(term)f(v)n(ariables)g(bound)f(to)i(the)g(left)g(of)g(the)f(pattern)
2049 3609 y FK(p)d FT(in)f(the)g(current)e(pattern-match,)g(and)i(e)o
(xtends)f(it)i(with)f(the)g(bind-)2049 3708 y(ings)16
b(in)f FK(p)h FT(to)g(gi)n(v)o(e)f FK(\001)2652 3678
y Fq(0)2673 3708 y FT(.)24 b(The)15 b(bindings)f FK(\001)j
FT(are)e(\223threaded\224)f(top-do)n(wn)2049 3808 y(and)26
b(left-to-right)e(through)g(the)i(patterns,)h(starting)f(of)n(f)f
(empty)-5 b(,)27 b FK(\017)p FT(,)2049 3907 y(in)k(rule)i
FR(A)t(L)n(T)r FT(.)57 b(The)31 b(threading)e(w)o(ork)h(is)i(done)e(by)
h(the)g(auxiliary)2049 4007 y(judgement)26 b FQ(`)2460
3962 y FA(ps)2540 4007 y FT(,)j(which)e(simply)g(in)m(v)n(ok)o(es)g
FQ(`)3388 3962 y FA(p)3462 4007 y FT(successi)n(v)o(ely)g(on)g(a)2049
4107 y(sequence)22 b(of)g(patterns.)32 b(This)23 b(threading)e(mak)o
(es)h(it)i(easy)f(to)f(check)2049 4206 y(for)17 b(repeated)f(v)n
(ariables)h(\227)i(the)e(test)i FK(x)p FT(#)p FK(dom)p
FI(\()p FK(\001)p FI(\))f FT(in)g(rule)h FR(P)t(V)-5
b(A)t(R)21 b FT(\227)2049 4306 y(b)n(ut)i(our)f(real)i(moti)n(v)n
(ation)d(for)h(threading)g FK(\001)h FT(will)h(not)f(be)g(apparent)2049
4406 y(until)d(Section)g(4.7.)2049 4554 y(The)k(least)g(con)m(v)o
(entional)d(feature)i(of)h(the)g(pattern)f(judgement)f(is)j(a)2049
4654 y FS(substitution)p FT(,)19 b(or)h FS(type)g(r)m(e\002nement)p
FT(,)f FK(\022)p FT(,)i(to)g(which)e(we)i(ha)n(v)o(e)f(already)2049
4753 y(referred)c(informally;)g(again,)h(the)h(judgement)d(tak)o(es)j
(a)g(type)f(re\002ne-)2049 4853 y(ment)24 b FK(\022)i
FT(and)e(e)o(xtends)f(it)j(with)f(type)f(re\002nements)g(from)f
FK(p)i FT(to)g(gi)n(v)o(e)2049 4953 y FK(\022)2102 4922
y Fq(0)2123 4953 y FT(.)k(The)21 b(type)f(re\002nement)g(is)i(threaded)
e(in)h(e)o(xactly)g(the)g(same)h(w)o(ay)2049 5052 y(as)f
FK(\001)p FT(,)g(for)e(reasons)h(we)g(discuss)h(in)f(Section)g(3.4.)
2049 5201 y(Let)27 b(us)h(focus)e(on)h(rule)i FR(P)t(C)t(O)t(N)r
FT(,)h(which)c(deals)i(with)f(a)g(constructor)2049 5300
y(pattern)g FK(C)p 2367 5252 55 4 v(\013)p 2445 5252
49 4 v 23 w(p)p FT(.)50 b(First,)31 b(we)d(look)g(up)f(the)i(type)e(of)
h FK(C)h FT(in)g FK(\000)9 b FT(;)32 b(it)d(has)2049
5400 y(ar)o(gument)24 b(types)p 2591 5352 51 4 v 27 w
FK(\033)2641 5369 y FA(c)2708 5400 y FT(\(where)i FK(c)h
FT(is)h(the)e(arity)h(of)f(the)h(constructor\))p Black
1929 5649 a(4)p Black eop end
%%Page: 5 5
TeXDict begin 5 4 bop Black Black -178 3 4257 4 v -178
3677 4 3674 v Black 1554 110 793 4 v 1554 246 4 136 v
1582 219 a Fp(T)-8 b(erms)46 b Fo(\000)40 b Fn(`)27 b
Fo(t)f Fl(:)h Fo(\033)p 2343 246 V 1554 249 793 4 v 185
423 a FF(\()p FG(v)16 b FF(:)g FG(\033)p FF(\))g FE(2)g
FG(\000)p 185 462 319 3 v 216 535 a(\000)25 b FE(`)17
b FG(v)f FF(:)h FG(\033)531 480 y Fk(A)m(T)s(O)t(M)1051
423 y FG(\000)25 b FE(`)16 b FG(t)h FF(:)f FG(\033)1306
392 y Ft(0)1343 423 y FC(!)g FG(\033)149 b(\000)25 b
FE(`)16 b FG(u)h FF(:)g FG(\033)1905 392 y Ft(0)p 1051
462 874 3 v 1330 535 a FG(\000)25 b FE(`)17 b FG(t)f(u)h
FF(:)g FG(\033)1953 480 y Fk(T)t(E)t(R)t(M)t FH(-)t Fk(A)t(P)t(P)2620
423 y FG(\000)25 b FE(`)2707 379 y FA(k)2767 423 y FG(\033)149
b(\000)26 b FE(`)16 b FG(t)g FF(:)h FE(8)p FG(\013)e(:)i(\033)3365
392 y Ft(0)p 2620 462 766 3 v 2746 535 a FG(\000)25 b
FE(`)17 b FG(t)f(\033)h FF(:)f FG(\033)3065 504 y Ft(0)3085
535 y FF([)p FG(\033=)l(\013)p FF(])3414 480 y Fk(T)t(Y)t(P)t(E)t
FH(-)t Fk(A)t(P)t(P)43 723 y FG(\000)25 b FE(`)130 679
y FA(a)194 723 y FG(p)p FM(->)p FG(t)17 b FF(:)f FG(\033)g
FC(!)h FG(\033)607 692 y Ft(0)p 18 763 633 3 v 18 836
a FG(\000)25 b FE(`)17 b FF(\()p FG(\025p)f(:)h(t)p FF(\))f(:)h
FG(\033)f FC(!)g FG(\033)631 805 y Ft(0)680 780 y Fk(T)t(E)t(R)t(M)t
FH(-)t Fk(L)t(A)t(M)1286 723 y FG(\000)-6 b(;)8 b(\013)17
b FE(`)f FG(t)h FF(:)f FG(\033)149 b(\013)16 b FH(#)h
FG(dom)p FF(\()p FG(\000)9 b FF(\))p 1286 763 846 3 v
1400 836 a FG(\000)25 b FE(`)16 b FF(\()p FG(\003\013)g(:)h(t)p
FF(\))g(:)f FE(8)p FG(\013)f(:)i(\033)2161 780 y Fk(T)t(Y)t(P)t(E)t
FH(-)t Fk(L)t(A)t(M)2751 723 y FG(\000)-6 b(;)8 b(x)17
b FF(:)f FG(\033)g FE(`)h FG(u)g FF(:)f FG(\033)149 b(\000)-6
b(;)8 b(x)17 b FF(:)f FG(\033)g FE(`)h FG(t)f FF(:)g
FG(\033)3724 692 y Ft(0)p 2751 763 994 3 v 2840 836 a
FG(\000)25 b FE(`)16 b FF(\()p FM(let)39 b FG(x)3183
847 y FA(\033)3230 836 y FM(=)q FG(u)f FM(in)g FG(t)p
FF(\))17 b(:)f FG(\033)3635 805 y Ft(0)3773 780 y Fk(L)t(E)t(T)1102
1037 y FG(\000)25 b FE(`)1189 993 y FA(k)1250 1037 y
FG(\033)1297 1051 y FA(2)1486 1037 y FG(\000)g FE(`)16
b FG(t)h FF(:)f FG(\033)1735 1051 y FA(1)1925 1037 y
FG(\000)25 b FE(`)2012 993 y FA(a)p 2076 993 205 3 v
2076 1037 a FG(p)17 b FM(->)g FG(u)g FF(:)f FG(\033)2377
1051 y FA(1)2434 1037 y FC(!)g FG(\033)2574 1051 y FA(2)p
1102 1077 1513 3 v 1369 1149 a FG(\000)25 b FE(`)16 b
FF(\()p FM(case)q FF(\()p FG(\033)1749 1163 y FA(2)1788
1149 y FF(\))h FG(t)f FM(of)p 1976 1105 205 3 v 17 w
FG(p)h FM(->)g FG(u)p FF(\))g(:)f FG(\033)2307 1163 y
FA(2)2643 1094 y Fk(C)t(A)t(S)t(E)p 974 1393 1952 4 v
974 1573 4 180 v 1003 1525 a Fp(Case)29 b(alternati)m(v)n(es)48
b Fo(\000)40 b Fn(`)1996 1460 y Fj(a)2082 1525 y Fo(p)27
b Fi(!)f Fo(u)g Fl(:)h Fo(\033)2553 1546 y Fj(1)2629
1525 y Fi(!)f Fo(\033)2847 1546 y Fj(2)p 2922 1573 V
974 1576 1952 4 v 427 1737 a FG(\000)19 b FF(;)10 b FG(\017)g
FF(;)594 1736 y FN(/)586 1737 y(0)17 b FE(`)669 1692
y FA(p)732 1737 y FG(p)g FF(:)f FG(\033)874 1751 y FA(1)924
1737 y FF(;)10 b FG(\001)g FF(;)g FG(\022)149 b(\022)p
FF(\()p FG(\000)-6 b(;)8 b(\001)p FF(\))16 b FE(`)g FG(\022)p
FF(\()p FG(u)p FF(\))g(:)h FG(\022)p FF(\()p FG(\033)1849
1751 y FA(2)1888 1737 y FF(\))p 427 1776 1491 3 v 828
1856 a FG(\000)25 b FE(`)915 1812 y FA(a)979 1856 y FG(p)17
b FC(!)f FG(u)h FF(:)f FG(\033)1280 1870 y FA(1)1337
1856 y FC(!)g FG(\033)1477 1870 y FA(2)1946 1793 y Fk(A)t(L)o(T)2526
1737 y FG(\000)j FF(;)10 b FG(\017)g FF(;)2692 1736 y
FN(/)2684 1737 y(0)17 b FE(`)2767 1692 y FA(p)2830 1737
y FG(p)g FF(:)f FG(\036)10 b FF(;)g FG(\001)g FF(;)g
FE(?)p 2526 1776 643 3 v 2538 1856 a FG(\000)25 b FE(`)2625
1812 y FA(a)2689 1856 y FG(p)17 b FC(!)g FG(u)g FF(:)f
FG(\036)g FC(!)h FG(\033)3197 1793 y Fk(A)t(L)o(T)n FH(-)t
Fk(FA)t(I)t(L)p 1176 2100 1549 4 v 1176 2279 4 180 v
1204 2232 a Fp(P)n(atterns)48 b Fo(\000)30 b Fl(;)16
b Fo(\001)h Fl(;)g Fo(\022)26 b Fn(`)2041 2167 y Fj(p)2126
2232 y Fo(p)h Fl(:)f Fo(\033)17 b Fl(;)g Fo(\001)2502
2188 y Fh(0)2548 2232 y Fl(;)f Fo(\022)2666 2188 y Fh(0)p
2721 2279 V 1176 2282 1549 4 v -47 2700 655 3 v -47 2780
a FG(\000)i FF(;)10 b FG(\001)g FF(;)g FE(?)17 b(`)227
2736 y FA(p)290 2780 y FG(p)g FF(:)f FG(\033)10 b FF(;)g
FG(\017)g FF(;)g FE(?)635 2718 y Fk(P)t(FA)t(I)t(L)1035
2661 y FG(x)18 b FH(#)e FG(dom)p FF(\()p FG(\001)p FF(\))150
b FG(\022)p FF(\()p FG(\033)p FF(\))16 b(=)g FG(\022)p
FF(\()p FG(\036)p FF(\))p 1035 2700 933 3 v 1045 2780
a FG(\000)j FF(;)10 b FG(\001)g FF(;)g FG(\022)16 b FE(`)1304
2736 y FA(p)1367 2780 y FG(x)1407 2791 y FA(\033)1472
2780 y FF(:)g FG(\036)10 b FF(;)g FG(\001;)e FF(\()p
FG(x)17 b FF(:)f FG(\033)p FF(\))10 b(;)g FG(\022)1997
2718 y Fk(P)t(V)l(A)t(R)2383 2453 y FF(\()p FG(C)16 b
FF(:)h FE(8)p 2560 2409 51 3 v FG(\013)e(:)p 2664 2409
47 3 v 17 w(\033)2711 2422 y FA(c)2767 2453 y FC(!)h
FG(T)p 2923 2392 43 3 v 25 w(\030)2966 2409 y FA(t)3001
2453 y FF(\))g FE(2)h FG(\000)p 3305 2409 51 3 v 158
w(\013)f FH(#)h FG(dom)p FF(\()p FG(\000)-6 b(;)8 b(\001)p
FF(\))2421 2563 y FG(\022)p FF(\()p FG(\036)p FF(\))15
b(=)i FG(T)p 2733 2500 70 3 v 25 w(\030)2782 2541 y Ft(0)2802
2517 y FA(t)2986 2563 y FG(\022)3035 2532 y Ft(0)3072
2563 y FF(=)g FD(U)t FF(\()p FD(T)p 3322 2502 43 3 v
37 w FG(\030)3364 2519 y Ft(t)3442 2520 y FG(:)3424 2563
y FF(=)f FD(T)p 3577 2500 70 3 v 37 w FG(\030)3626 2541
y Ft(0)3647 2517 y(t)3689 2563 y FF(\))2539 2661 y FG(\000)j
FF(;)10 b(\()p FG(\001;)p 2732 2618 51 3 v 8 w(\013)p
FF(\))g(;)g FG(\022)2899 2630 y Ft(0)2930 2661 y FE(\016)g
FG(\022)17 b FE(`)3066 2617 y FA(ps)p 3162 2617 142 3
v 3162 2661 a FG(p)g FF(:)f FG(\033)3304 2630 y FA(c)3354
2661 y FF(;)10 b FG(\001)3442 2630 y Ft(00)3488 2661
y FF(;)g FG(\022)3564 2630 y Ft(00)p 2383 2700 1374 3
v 2607 2780 a FG(\000)19 b FF(;)10 b FG(\001)g FF(;)g
FG(\022)16 b FE(`)2866 2736 y FA(p)2929 2780 y FG(C)p
3001 2737 51 3 v 17 w(\013)p 3068 2737 46 3 v 16 w(p)3113
2749 y FA(c)3170 2780 y FF(:)g FG(\036)10 b FF(;)27 b
FG(\001)3374 2749 y Ft(00)3420 2780 y FF(;)10 b FG(\022)3496
2749 y Ft(00)3785 2718 y Fk(P)t(C)t(O)t(N)p 921 3024
2058 4 v 921 3207 4 183 v 949 3156 a Fp(P)n(attern)31
b(sequences)46 b Fo(\000)30 b Fl(;)17 b Fo(\001)g Fl(;)f
Fo(\022)27 b Fn(`)2255 3091 y Fj(ps)p 2381 3085 222 5
v 2381 3156 a Fo(p)g Fl(:)f Fo(\033)17 b Fl(;)g Fo(\001)2757
3113 y Fh(0)2803 3156 y Fl(;)f Fo(\022)2921 3113 y Fh(0)p
2976 3207 4 183 v 921 3210 2058 4 v 370 3410 570 3 v
370 3490 a FG(\000)j FF(;)10 b FG(\001)g FF(;)g FG(\022)17
b FE(`)630 3446 y FA(ps)726 3490 y FG(\017)10 b FF(;)h
FG(\001)f FF(;)g FG(\022)969 3427 y Fk(P)t(E)t(M)t(P)t(T)t(Y)1656
3371 y FG(\000)19 b FF(;)10 b FG(\001)g FF(;)g FG(\022)16
b FE(`)1915 3326 y FA(p)1978 3371 y FG(p)h FF(:)f FG(\033)10
b FF(;)g FG(\001)2218 3340 y Ft(0)2249 3371 y FF(;)g
FG(\022)2325 3340 y Ft(0)2494 3371 y FG(\000)19 b FF(;)10
b FG(\001)2634 3340 y Ft(0)2665 3371 y FF(;)g FG(\022)2741
3340 y Ft(0)2778 3371 y FE(`)2807 3326 y FA(ps)p 2903
3326 142 3 v 2903 3371 a FG(p)17 b FF(:)f FG(\033)10
b FF(;)g FG(\001)3143 3340 y Ft(00)3190 3371 y FF(;)g
FG(\022)3266 3340 y Ft(00)p 1656 3410 1646 3 v 2016 3490
a FG(\000)19 b FF(;)10 b FG(\001)g FF(;)g FG(\022)16
b FE(`)2275 3446 y FA(ps)2372 3490 y FG(p)h FF(:)f FG(\033;)p
2543 3446 142 3 v 8 w(p)h FF(:)f FG(\033)10 b FF(;)g
FG(\001)2783 3459 y Ft(00)2830 3490 y FF(;)g FG(\022)2906
3459 y Ft(00)3330 3427 y Fk(P)t(C)t(O)t(N)t(S)p Black
4075 3677 4 3674 v -178 3680 4257 4 v 1327 3754 a Fw(Figur)o(e)19
b(2:)25 b FT(Core)20 b(language)f(typing)g(rules)-150
4025 y(and)24 b(result)h(type)f FK(T)p 444 3958 46 4
v 30 w(\030)490 3975 y FA(t)550 4025 y FT(\(where)g FK(t)h
FT(is)g(the)g(arity)f(of)h FK(T)9 b FT(\).)38 b(W)-7
b(e)26 b(require)-150 4125 y(that)16 b(the)g(binding)e(type)h(v)n
(ariables)p 852 4076 55 4 v 15 w FK(\013)h FT(are)f(not)h(already)e(in)
i(scope,)g(and)-150 4224 y(we)25 b(quietly)f(alpha-rename)e(the)j
(constructor')-5 b(s)23 b(type)h(to)h(use)g(these)-150
4324 y(v)n(ariables.)h(No)n(w)21 b(comes)f(the)h(interesting)f(bit:)27
b(we)21 b(must)g(match)f(up)-150 4423 y(the)e(constructor')-5
b(s)17 b(result)h(type)f FK(T)p 849 4356 46 4 v 26 w(\030)i
FT(with)f(the)g(pattern')-5 b(s)18 b(type)f(in)i(the)-150
4523 y(conclusion)h(of)h(the)g(rule,)g FK(\036)p FT(.)30
b(W)-7 b(e)22 b(do)f(this)h(in)g(tw)o(o)f(steps.)29 b(First,)23
b(the)-150 4623 y(test)18 b FK(\022)p FI(\()p FK(\036)p
FI(\))e(=)f FK(T)p 312 4555 74 4 v 24 w(\030)365 4599
y Fq(0)404 4623 y FT(checks)h(that)h(the)g(result)f(type)h(in)g(the)g
(conclusion,)-150 4722 y FK(\036)p FT(,)i(when)e(re\002ned)f(by)h(the)h
(type)f(re\002nements)f(induced)g(by)h(\223earlier\224)-150
4822 y(patterns,)i(is)h(an)f(application)f(of)h FK(T)29
b FT(to)19 b(some)g(types)p 1349 4754 V 19 w FK(\030)1402
4798 y Fq(0)1423 4822 y FT(.)25 b(Second,)18 b(we)-150
4922 y(unify)24 b(the)g(constructor')-5 b(s)24 b(result)h(type)f
FK(T)p 1081 4854 46 4 v 30 w(\030)h FT(with)g(the)g(pattern)f(type)-150
5021 y FK(T)p -77 4954 74 4 v 32 w(\030)-24 4997 y Fq(0)-4
5021 y FT(,)30 b(using)c(the)i(function)d FO(U)33 b FT(that)27
b(computes)f(the)i(most-general)-150 5121 y(uni\002er)m(,)c(and)h(use)f
(the)h(resulting)f(substitution)f(to)i(e)o(xtend)e(the)i(type)-150
5220 y(re\002nement.)54 b(The)29 b(de\002nition)g(of)h
FO(U)36 b FT(is)31 b(gi)n(v)o(en)e(in)h(Figure)g(3,)i(and)-150
5320 y(is)21 b(standard,)e(apart)g(from)h(a)g(straightforw)o(ard)e(e)o
(xtension)g(to)j(handle)p Black Black 2049 4021 a(polymorphic)c(types.)
2049 4164 y(Returning)h(to)h(rule)i FR(A)t(L)n(T)r FT(,)e(once)g
FQ(`)3019 4119 y FA(p)3085 4164 y FT(has)h(type-check)o(ed)c(the)k
(pattern,)2049 4264 y(we)g(typecheck)d(the)j(right-hand)d(side)i(of)h
(the)f(alternati)n(v)o(e,)f FK(u)p FT(,)i FS(under)2049
4363 y(the)c(type)g(r)m(e\002nement)h FK(\022)p FT(.)24
b(T)-7 b(o)16 b(achie)n(v)o(e)f(this)h(ef)n(fect,)g(we)h(simply)f
(apply)2049 4463 y FK(\022)j FT(to)h FK(\000)9 b FT(,)19
b FK(\001)p FT(,)h FK(u)p FT(,)f(and)g(the)g(result)g(type)f
FK(\033)3154 4475 y FA(2)3195 4463 y FT(,)h(before)f(checking)f(the)i
(type)2049 4562 y(of)h FK(u)p FT(.)2049 4705 y(A)31 b(subtlety)f(of)g
(rule)i FR(P)t(C)t(O)t(N)i FT(is)d(the)f(separation)g(of)g(the)g(third)
g(and)2049 4805 y(fourth)22 b(preconditions.)34 b(It)25
b(is)g(possible)e(to)h(combine)f(them,)h(to)g(ob-)2049
4915 y(tain)31 b(the)f(single)h(condition)e FK(\022)2965
4885 y Fq(0)3010 4915 y FI(=)24 b FO(U)5 b FI(\()p FK(\022)p
FI(\()p FK(\036)p FI(\))3418 4868 y FK(:)3398 4915 y
FI(=)25 b FO(T)p 3579 4848 46 4 v 46 w FK(\030)3625 4865
y Fq(t)3670 4915 y FI(\))32 b FT(Ho)n(we)n(v)o(er)m(,)2049
5015 y(doing)19 b(so)h(mak)o(es)g(too)g(man)o(y)f(programs)g(typeable.)
k(F)o(or)d(e)o(xample:)p Black Black 2134 5158 a FL(/\\a.)43
b(\\x:a.)h(case)g(x)f(of)g({)g(\(a,b\))h(->)f(\(b,a\))h(})2049
5300 y FT(This)d(program)d(w)o(ould)i(be)h(re)o(garded)d(as)j
(ill-typed)f(by)g(ML)h(or)2049 5400 y(Hask)o(ell,)22
b(because)g(a)g(v)n(ariable)f(of)g(polymorphic)e(type)i
FL(a)i FT(is)g(treated)p Black 1929 5649 a(5)p Black
eop end
%%Page: 6 6
TeXDict begin 6 5 bop Black Black -150 83 a FT(as)35
b(a)g(pair)f(type,)j(and)c(it)i(is)h(indeed)d(rejected)g(by)h(the)h
(third)e(pre-)-150 183 y(condition)38 b(of)i(rule)i FR(P)t(C)t(O)t(N)r
FT(.)86 b(Under)39 b(the)h(abo)o(v)o(e)e(modi\002cation,)-150
282 y(though,)f(it)f(w)o(ould)e(be)h(re)o(garded)e(as)j(acceptable,)h
(because)e FL(a)h FT(is)-150 382 y(re\002ned)c(to)h(a)g(pair)f(type)h
(by)f FK(\022)p FT(;)39 b(and)33 b(indeed,)h(such)f(a)g(modi\002ca-)
-150 482 y(tion)24 b(is)h(perfectly)e(sound)h(pro)o(vided)d(the)k
(dynamic)d(semantics)j(can)-150 581 y(distinguish)30
b(between)f(constructors)g(of)h(dif)n(ferent)f(types)i(\()p
FL(False)-150 681 y FT(and)26 b FL(Nil)p FT(,)j(say\).)43
b(Precisely)26 b(this)h(design)f(choice)f(is)j(made)d(by)h(Jay)-150
780 y([Jay03)n(].)35 b(Ne)n(v)o(ertheless,)23 b(we)g(adopt)g(the)g
(Hask)o(ell/ML)g(vie)n(w)g(here,)-150 880 y(for)i(reasons)g(both)f(of)h
(principle)f(\(more)g(errors)h(are)g(disco)o(v)o(ered)e(at)-150
980 y(compile)i(time\))g(and)g(practice)g(\(implementation)e(of)i(the)h
(ne)n(w)f(dy-)-150 1079 y(namic)20 b(semantics)g(w)o(ould)f(be)h(dif)n
(\002cult\).)-150 1223 y Fv(3.3)90 b(An)23 b(example)-150
1374 y FT(It)32 b(is)i(instructi)n(v)o(e)c(to)j(see)f(ho)n(w)g(the)g
(rules)g(w)o(ork)g(in)g(an)g(e)o(xample.)-150 1474 y(Here)20
b(is)h(the)f(\002rst)h(part)f(of)g(the)g(body)f(of)h
FL(eval)p FT(:)p Black Black -65 1624 a FL(/\\a.)43 b(\\\(x:Term)i
(a\).)f(case\(a\))h(x)d(of)782 1724 y(Lit)h(\(i:Int\))i(->)e(i)-150
1875 y FT(Since)23 b FL(Lit)h FT(has)e(type)g FL(Int)44
b(->)f(Term)g(Int)p FT(,)25 b(the)d(pattern)g(binds)g(no)-150
1974 y(type)e(v)n(ariables.)k(Rule)e FR(C)t(A)t(S)t(E)h
FT(in)m(v)n(ok)o(es)d(the)g(judgement)195 2158 y FK(\000)28
b FQ(`)291 2109 y FA(a)357 2158 y FL(Lit)43 b(\(i:Int\))i(->)e(i)19
b FI(:)f FL(Term)44 b(a)19 b FJ(!)f FL(a)-150 2342 y
FT(In)31 b(rule)i FR(P)t(C)t(O)t(N)h FT(we)e(unify)e
FL(Term)44 b(Int)32 b FT(\(the)f(result)h(type)e(of)h
FL(Lit)p FT(\))-150 2441 y(with)21 b FL(Term)44 b(a)p
FT(,)22 b(to)f(obtain)f(the)h(type)g(re\002nement)e FI([)p
FL(a)g FQ(7)p FJ(!)g FL(Int)q FI(])p FT(.)28 b(Then)-150
2541 y(rule)19 b FR(A)t(L)n(T)h FT(applies)d(that)h(substitution)e(to)i
(the)g(right-hand)d(side)j FL(i)g FT(and)-150 2640 y(result)e(type)g
FL(a)p FT(,)h(and)f(type-checks)e(the)i(right-hand)d(side,)k(which)f
(suc-)-150 2740 y(ceeds.)-150 2891 y(The)k(ne)o(xt)f(alternati)n(v)o(e)
g(is)i(more)f(interesting:)p Black Black 62 3041 a FL(Pair)43
b(b)g(c)g(\(t1::Term)i(b\))e(\(t2::Term)j(c\))146 3141
y(->)d(\(eval)h(b)f(t1,)h(eval)f(c)g(t2\))-150 3292 y
FT(The)23 b(pattern)g(binds)g(tw)o(o)h(ne)n(w)g(type)f(v)n(ariables)g
FL(b)i FT(and)e FL(c)p FT(,)i(and)e(gen-)-150 3391 y(erates)18
b(the)g(type)f(re\002nement)g FI([)p FL(a)g FQ(7)p FJ(!)f
FL(\(b,c\))r FI(])p FT(;)j(again,)e(the)h(right)g(hand)-150
3491 y(side)f(type-checks)e(once)h(this)h(substitution)f(is)i(applied)e
(to)h(the)g(result)-150 3591 y(type)f FL(a)p FT(.)25
b(W)-7 b(e)18 b(discuss)g(just)f(one)g(other)f(constructor)m(,)f
FL(Fst)p FT(,)k(which)d(has)-150 3690 y(the)h(interesting)f(property)f
(that)j(it)g(has)f(an)g(e)o(xistential)g(type)g(v)n(ariable)-150
3790 y(\(because)g(one)h(of)f(the)i(quanti\002ed)d(type)i(v)n(ariables)
f(does)h(not)g(appear)-150 3889 y(in)i(the)h(result)f(type)f(of)h(the)h
(constructor\):)p Black Black 104 4040 a FL(Fst)43 b(b)g(c)g(\(t:Term)i
(\(b,c\)\))231 4140 y(->)e(fst)g(\(b,c\))i(\(eval)f(\(b,c\))g(t\))-150
4290 y FT(As)29 b(with)f FL(Pair)p FT(,)j(the)d(pattern)f(binds)h(tw)o
(o)g(fresh)f(type)h(v)n(ariables)f FL(b)-150 4390 y FT(and)h
FL(c)p FT(.)52 b(The)29 b(result)g(type)f(of)h(the)g(constructor)e(is)j
(just)f FL(Term)44 b(b)29 b FT(\226)-150 4490 y(it)i(does)e(not)h
(mention)e FL(a)j FT(\226)f(so)g(rule)h FR(P)t(C)t(O)t(N)i
FT(forms)c FO(U)5 b FI(\()p FL(Term)44 b(b)1808 4442
y FK(:)1788 4490 y FI(=)-150 4589 y FL(Term)g(a)p FI(\))p
FT(,)22 b(yielding)d(either)i(the)g(substitution)f FI([)p
FL(a)f FQ(7)p FJ(!)g FL(b)p FI(])j FT(or)f FI([)p FL(b)e
FQ(7)p FJ(!)g FL(a)p FI(])p FT(.)-150 4689 y(The)k(reader)f(may)g(w)o
(ant)h(to)g(con\002rm)f(that)h(in)g(either)g(case)g(the)g(right)-150
4788 y(hand)c(side)i(is)g(well)f(typed.)-150 4932 y Fv(3.4)90
b(Nested)22 b(patter)o(ns)-150 5075 y FT(Consider)15
b(these)g(tw)o(o)h(functions)e(\(we)h(omit)g(big)g(lambdas)g(and)g
(some)-150 5166 y(type)20 b(annotations\):)p Black Black
-36 5309 a FM(f1)39 b(\(x::Term)g(a\))f(\(y::a\))79 5400
y(=)g(case\(a\))h(x)f(of)p Black Black 2468 83 a(Pair)h(p)f(q)g(->)g
(case\(a\))h(y)g(of)3040 174 y(\(r,s\))f(->)h(\(p,s\))2163
266 y(f2)g(\(x::Term)g(a\))f(\(y::a\))2278 357 y(=)g(case\(a\))h
(\(x,y\))f(of)2468 448 y(\(Pair)h(p)f(q,)g(\(r,s\)\))h(->)f(\(p,s\))
2049 607 y FT(It)22 b(should)f(be)h(clear)g(that)h FL(f1)g
FT(is)g(well-typed,)e(because)g(the)h(type)g(re-)2049
706 y(\002nement)f(induced)f(by)h(the)g(pattern)g(match)g(on)g
FL(x)i FT(is)f(\223seen\224)f(by)h(the)2049 806 y(inner)32
b FL(case)p FT(;)40 b(in)33 b(that)f(conte)o(xt,)i FL(y)f
FT(has)g(a)g(pair)f(type)g(so)h(the)f(case)2049 905 y(mak)o(es)d
(sense.)53 b(If)29 b(the)h(tw)o(o)g(cases)g(were)f(re)n(v)o(ersed,)h
(the)f(function)2049 1005 y(w)o(ould)21 b(be)h(ill-typed.)30
b(But)22 b(what)g(about)f FL(f2)p FT(?)32 b(Here,)22
b(the)h(tw)o(o)f(cases)2049 1105 y(are)c(mer)o(ged)f(into)h(one;)h(b)n
(ut)f(is)i(the)e(left-hand)f(match)h(\223seen\224)g(by)h(the)2049
1204 y(right-hand)f(one?)2049 1362 y(This)24 b(is)h(an)f(open)f(design)
g(choice,)h(and)g(other)f(things)g(being)g(equal)2049
1462 y(the)17 b(more)f(re\002nement)g(the)h(better)m(,)g(so)g(we)g(pro)
o(vide)e(for)i(left-to-right)2049 1562 y(re\002nement.)47
b(This)29 b(is)g(the)f(reason)f(that)h(we)h(\223thread\224)d(the)j
(substi-)2049 1661 y(tution)d(in)h(our)f(pattern)g(judgement.)43
b(A)27 b(consequence)e(is)j(that)f(the)2049 1761 y(compiler)i(must)h
(generate)g(code)f(that)i(matches)f(patterns)f(left-to-)2049
1861 y(right.)h(In)22 b(a)h(lazy)f(language)f(lik)o(e)h(Hask)o(ell,)h
(termination)e(consider)n(-)2049 1960 y(ations)j(force)g(this)g(order)f
(an)o(yho)n(w)-5 b(,)23 b(so)i(no)f(ne)n(w)g(compilation)e(con-)2049
2060 y(straints)e(are)g(added)f(by)g(our)g(decision.)24
b(In)c(a)g(strict)h(language,)c(ho)n(w-)2049 2160 y(e)n(v)o(er)m(,)25
b(one)g(might)f(ar)o(gue)g(for)g(greater)g(freedom)g(for)g(the)h
(compiler)m(,)2049 2259 y(and)e(hence)g(less)i(type)e(re\002nement,)g
(as)h(indeed)f(Simonet)g(and)g(Pot-)2049 2359 y(tier)d(do)g([SP03)o(])
2049 2516 y Fv(3.5)90 b(Meta-theory)2049 2675 y FT(W)-7
b(e)31 b(ha)n(v)o(e)d(pro)o(v)o(ed)f(that)j(the)f(type)g(system)h(of)f
(Figure)g(2)g(is)i(sound)2049 2775 y(with)i(respect)g(to)g(the)h(ob)o
(vious)d(small-step)i(dynamic)f(semantics)2049 2874 y(\(omitted)19
b(here)h(for)f(lack)h(of)g(space\).)p Black 2051 3032
a(T)t FR(H)t(E)t(O)t(R)t(E)t(M)25 b FT(3)t(.)t(1)86 b(\()t(T)t
FR(Y)t(P)t(E)24 b(S)t(O)t(U)t(N)t(D)t(N)t(E)t(S)t(S)h(F)t(O)t(R)g(C)t
(O)t(R)t(E)g(L)t(A)t(N)t(G)t(U)q(A)q(G)t(E)t FT(\))t(.)p
Black 2049 3132 a FS(If)20 b FK(\017)f FQ(`)f FK(t)g
FI(:)g FK(\033)j FS(then)f FK(e)h FS(either)g(e)o(valuates)e(to)h(a)g
(value)g(or)g(diver)m(g)o(es.)2049 3290 y FT(Our)d(dynamic)f(semantics)
h(does)g(not)g(depend)e(on)i(type)g(information)2049
3390 y(at)24 b(run)e(time)i(\226)f(one)g(may)g(erase)g(all)h(types)f
(without)g(af)n(fecting)f(e)o(x)o(e-)2049 3490 y(cution.)39
b(Our)24 b(de\002nition)g(of)h(v)n(alues)g(is)h(also)f(standard.)38
b(W)-7 b(e)26 b(pro)o(v)o(e)2049 3589 y(type)20 b(soundness)f(using)g
(the)h(standard)f(progress)g(and)h(preserv)n(ation)2049
3689 y(lemmas.)2049 3847 y(W)-7 b(e)28 b(ha)n(v)o(e)e(also)h(pro)o(v)o
(ed)d(that)j(type)f(checking)f(is)j(decidable.)43 b(That)2049
3947 y(is,)29 b(gi)n(v)o(en)c(a)i(well-formed)d(conte)o(xt)h
FK(\000)36 b FT(and)26 b(an)g(e)o(xpression)f FK(t)p
FT(,)j(it)f(is)2049 4046 y(decidable)f(whether)g(there)h(e)o(xists)h(a)
f FK(\033)h FT(such)f(that)h FK(\000)j FQ(`)22 b FK(t)g
FI(:)g FK(\033)p FT(.)47 b(Be-)2049 4146 y(cause)17 b(our)g(rules)g
(are)g(syntax-directed,)e(sho)n(wing)h(that)h(type)g(check-)2049
4246 y(ing)31 b(is)i(decidable)d(is)i(straightforw)o(ard,)g(gi)n(v)o
(en)e(that)i FO(U)37 b FT(is)c(decid-)2049 4345 y(able)h([Rob65)n(].)65
b(The)34 b(type)f(checking)f(algorithm)g(may)h(be)h(read)2049
4445 y(from)19 b(the)h(inference)f(rules.)2049 4603 y(W)-7
b(e)24 b(are)f(more)f(used)h(to)g(seeing)g(uni\002cation)e(in)j(type)e
FS(infer)m(ence)g FT(al-)2049 4703 y(gorithms,)17 b(and)f(it)j(is)f
(unusual)e(to)i(see)g(it)g(in)g(declarati)n(v)o(e)e(type)h(check-)2049
4802 y(ing)i(rules.)25 b(The)18 b(best)i(w)o(ay)f(to)h(think)e(about)h
(it)h(is)g(this.)25 b(A)20 b(successful)2049 4902 y(pattern)c(match)h
(implies)g(the)h(truth)e(of)h(certain)g(equality)f(constraints)2049
5001 y(among)i(types,)h(all)h(of)f(form)f FK(T)p 2952
4934 46 4 v 27 w(\030)3036 4954 y(:)3016 5001 y FI(=)f
FK(T)p 3164 4934 74 4 v 27 w(\030)3217 4978 y Fq(0)3238
5001 y FT(,)j(and)f(the)g(case)h(alternati)n(v)o(e)2049
5101 y(should)i(be)i(check)o(ed)e(under)g(these)h(constraints.)34
b(Ho)n(we)n(v)o(er)m(,)22 b(rather)2049 5201 y(than)h(add)g(a)h(set)g
(of)f(constraints)g(to)g(the)h(en)m(vironment,)c(and)j(reason)2049
5300 y(about)j(type)h(equality)f(modulo)g(those)h(constraints,)h(we)g
(solv)o(e)f(the)2049 5400 y(constraints)i(to)h(get)g(their)g(most)g
(general)f(uni\002er)m(,)i(and)f(apply)f(the)p Black
1929 5649 a(6)p Black eop end
%%Page: 7 7
TeXDict begin 7 6 bop Black Black -150 83 a FT(resulting)26
b(substitution.)43 b(W)-7 b(e)28 b(\002nd)f(that)g(it)g(is)h(much)d
(easier)i(to)g(e)o(x-)-150 183 y(plain)17 b(the)h(type)g(system)g(to)g
(programmers)d(in)j(terms)g(of)f(an)h(eagerly-)-150 282
y(applied)f(substitution)g(than)g(by)g(speaking)g(of)h(constraint)e
(sets)j(\226)f(and)-150 382 y(the)29 b(usual)f(question)g(of)g(whether)
g(or)g(not)h(one)f(can)g(abstract)h(o)o(v)o(er)-150 482
y(constraints)24 b(simply)h(does)g(not)g(arise.)40 b(In)25
b(ef)n(fect,)g(we)h(are)f(e)o(xploit-)-150 581 y(ing)30
b(the)h(special)g(case)g(of)f(equality)g(constraints)g(to)h(simplify)f
(the)-150 681 y(technology)-5 b(.)-150 864 y(This)32
b(use)f(of)h FO(U)37 b FT(is)32 b(not)f(ne)n(w)h(\226)f(it)i(w)o(as)f
(used)f(in)h(essentially)g(the)-150 964 y(same)f(w)o(ay)g(by)f(Coquand)
f([Coq92)n(])i(and)f(by)h(Jay)g([Jay03)n(])g(\(from)-150
1064 y(whom)17 b(we)i(learned)f(the)g(trick\).)24 b(It)18
b(is)i(essential)e(for)g(soundness)f(that)-150 1163 y(the)24
b FO(U)k FT(function)22 b(indeed)h(deli)n(v)o(ers)f(the)i
FS(most)g(g)o(ener)o(al)e FT(uni\002er)-5 b(.)35 b(\(In)-150
1263 y(contrast,)18 b(in)g(the)g(con)m(v)o(entional)e(use)i(of)g
(uni\002cation)f(for)h(type)f(infer)n(-)-150 1362 y(ence,)28
b(an)o(y)e(uni\002er)f(is)j(sound.\))43 b(Why?)h(Because)27
b(the)f(constraints)-150 1462 y(gathered)20 b(in)j(the)f(patterns)g
(are)g(treated)f(as)i FS(facts)g FT(in)g(the)f(case)g(alter)n(-)-150
1562 y(nati)n(v)o(e,)h(and)g(we)h(cannot)e(soundly)g(in)m(v)o(ent)g(ne)
n(w)h(f)o(acts)h(\226)f(for)g(e)o(xam-)-150 1661 y(ple,)d(we)h(cannot)e
(suddenly)f(assume)i(that)h FK(\013)f FT(is)h FL(Int)p
FT(.)-150 1845 y(T)-6 b(echnically)h(,)27 b(the)g(f)o(act)g(that)g
FO(U)32 b FT(must)27 b(be)g(a)g(most)g(general)f(uni\002er)-150
1944 y(sho)n(ws)f(up)f(in)g(the)h(type)f(substitution)f(lemma)h(of)h
(the)f(type)g(sound-)-150 2044 y(ness)33 b(proof.)61
b(In)32 b(this)h(case,)j(we)d(must)g(sho)n(w)f(that)h(e)n(v)o(en)e
(though)-150 2144 y(a)38 b(type)e(substitution)g FK(\022)i
FT(may)f(produce)e(a)i(dif)n(ferent)f(re\002nement)-150
2243 y(for)31 b(branches)g(of)h(a)g(case)h(alternati)n(v)o(e,)g(those)f
(branches)e(are)i(still)-150 2343 y(well)21 b(typed)e(after)h
(substitution)g(with)g FK(\022)h FT(and)f(this)h(ne)n(w)f
(re\002nement.)-150 2443 y(Ho)n(we)n(v)o(er)m(,)27 b(the)g(ne)n(w)g
(re\002nement)f(composed)g(with)h FK(\022)h FT(is)g(a)g(uni\002er)-150
2542 y(for)i(the)h(original)e(types,)k(and)d(the)h(original)f
(re\002nement)f(w)o(as)j(the)-150 2642 y(most)16 b(general)f(uni\002er)
-5 b(.)23 b(Therefore,)14 b(we)i(kno)n(w)f(that)h(the)g(ne)n(w)f
(re\002ne-)-150 2742 y(ment)20 b(and)f FK(\022)i FT(is)g(some)f
(substitution)f FK(\022)977 2711 y Fq(0)1019 2742 y FT(composed)f(with)
i(the)h(origi-)-150 2841 y(nal)d(re\002nement.)23 b(W)-7
b(e)19 b(kno)n(w)e(the)h(branch)e(w)o(as)j(well-typed)d(with)j(the)-150
2941 y(original)27 b(re\002nement,)i(so)f(by)g(induction,)g(it)h(must)g
(be)f(well-typed)-150 3040 y(after)20 b(substitution)f(by)h
FK(\022)588 3010 y Fq(0)609 3040 y FT(.)-150 3224 y(Since)j(the)f
(most-general)f(uni\002er)h(contains)g(e)o(xactly)f(the)i(same)g(in-)
-150 3324 y(formation)13 b(as)k(the)e(original)f(constraints,)i(the)f
(choice)g(of)g(whether)f(to)-150 3423 y(pass)19 b(constraints)g(around)
e(or)h(apply)g(a)h(uni\002er)g(is)h(a)f(matter)f(of)h(taste.)-150
3523 y(Both)35 b(choices)g(lead)g(to)h(languages)e(that)h(type)g(check)
f(the)h(same)-150 3622 y(terms.)73 b(Ho)n(we)n(v)o(er)m(,)38
b(the)e(tw)o(o)g(choices)g(require)f(dif)n(ferent)f(meta-)-150
3722 y(theory)28 b(\226)h(the)g(proofs)f(of)h(type)f(soundness)g(and)h
(the)g(decidability)-150 3822 y(of)c(type)g(checking)e(are)i(a)h(bit)f
(dif)n(ferent)f(for)g(the)h(tw)o(o)h(alternati)n(v)o(es,)-150
3921 y(although)16 b(the)h(proofs)f(for)h(both)g(alternati)n(v)o(es)f
(seem)i(to)f(be)h(of)f(equi)n(v-)-150 4021 y(alent)j(comple)o(xity)-5
b(.)-150 4204 y(Most)43 b(other)e(authors)h(ha)n(v)o(e)g(chosen)f(the)h
(alternati)n(v)o(e)g(path,)47 b(of)-150 4304 y(dealing)39
b(with)h(constraint)e(sets)j(e)o(xplicitly)-5 b(.)83
b(F)o(or)39 b(e)o(xample,)k(Xi)-150 4404 y(et)49 b(al.)f([XCC03])g(and)
g(Chene)o(y)f(and)h(Hinze)g([CH03)o(])g(design)-150 4503
y(e)o(xplicitly-typed)26 b(v)o(ersions)h(of)i(System)g(F)g(that)g
(include)f(equality)-150 4603 y(constraints)e(in)i(the)f(typing)f(en)m
(vironment.)42 b(These)27 b(equality)f(con-)-150 4703
y(straints)21 b(admit)f(a)h(straightforw)o(ard)d(type)i(soundness)f
(proof.)24 b(Ho)n(w-)-150 4802 y(e)n(v)o(er)m(,)g(sho)n(wing)g(that)g
(type)g(checking)f(is)j(decidable)d(\(done)g(by)h(Ch-)-150
4902 y(ene)o(y)g(and)g(Hinze,)i(b)n(ut)f(not)f(by)g(Xi)i(et)f(al.\))39
b(is)26 b(more)e(dif)n(\002cult.)38 b(Be-)-150 5001 y(cause)15
b(the)h(typing)e(rules)h(are)g(not)g(syntax)g(directed)f(\(one)g(rule)h
(allo)n(ws)-150 5101 y(an)o(y)20 b(e)o(xpression)g(to)h(be)g(typed)f
(with)h(an)o(y)f(equi)n(v)n(alent)f(type\),)i(decid-)-150
5201 y(able)j(type)f(checking)f(requires)g(putting)h(these)h(typing)e
(deri)n(v)n(ations)-150 5300 y(into)34 b(a)g(normal)e(form,)k(which)e
(requires)e(computing)g(their)i(most)-150 5400 y(general)19
b(uni\002er)-5 b(.)p Black Black 2049 83 a FU(4)99 b(The)26
b(sour)n(ce)g(language)2049 235 y FT(W)-7 b(e)24 b(no)n(w)e(mo)o(v)o(e)
g(on)g(to)h(consider)f(the)g(source)g(language.)31 b(The)23
b(lan-)2049 334 y(guage)c(is)i(implicitly)e(typed)g(in)h(the)g(style)g
(of)g(Hask)o(ell,)g(b)n(ut)g(the)g(type)2049 434 y(system)g(is)h(f)o
(ar)f(too)g(rich)f(to)i(permit)e(type)h(inference)e(in)i(the)g(absence)
2049 534 y(of)c(an)o(y)g(help)g(from)g(the)h(programmer)m(,)c(so)k
(type)f(inference)f(is)j(guided)2049 633 y(by)k(programmer)n(-supplied)
d(type)j(annotations.)31 b(The)23 b(type)f(system)2049
733 y(speci\002es)27 b(precisely)e(what)h(annotations)e(are)i(required)
e(to)j(mak)o(e)e(a)2049 833 y(program)18 b(well-typed.)2049
984 y(If)32 b(the)h(type)f(system)h(accepts)g(too)f(man)o(y)f
(programs,)j(it)f(may)g(be)2049 1083 y(ef)n(fecti)n(v)o(ely)20
b(un-implementable,)e(either)j(in)h(theory)e(\(by)h(being)f(un-)2049
1183 y(decidable\))j(or)i(in)g(practice)f(\(by)h(being)f(too)g
(complicated\).)38 b(Since)2049 1282 y(we)29 b(w)o(ant)f(to)h
(implement)e(it,)k(we)e(must)f(be)h(careful)e(to)i(write)f(typ-)2049
1382 y(ing)18 b(rules)h(that)g(reject)f(hard-to-infer)e(programs.)22
b(A)e(good)d(e)o(xample)2049 1482 y(of)30 b(this)g(principle)f(is)i
(the)f(treatment)f(of)g(polymorphic)e(recursion)2049
1581 y(in)g(Hask)o(ell)g(98.)45 b(A)27 b(program)e(that)i(uses)g
(polymorphic)d(recursion)2049 1681 y(might)31 b(in)g(principle)f(ha)n
(v)o(e)h(a)h(v)n(alid)e(typing)g(deri)n(v)n(ation,)i(b)n(ut)g(it)g(is)
2049 1781 y(hard)24 b(to)g(\002nd)h(it.)38 b(So)25 b(we)g(reject)g(the)
f(program)f(unless)h(the)h(of)n(fend-)2049 1880 y(ing)e(function)f(has)
h(a)h(type)f(signature.)34 b(It)24 b(follo)n(ws,)f(of)g(course,)g(that)
2049 1980 y(programmer)n(-supplied)15 b(type)20 b(annotations)e(play)i
(a)g(k)o(e)o(y)g(role)f(in)i(the)2049 2079 y(typing)e(judgements.)2049
2230 y(Since)i(our)e(goal)i(is)g(tractable)f(inference,)f(we)i(must)g
(speak,)f(at)h(least)2049 2330 y(informally)-5 b(,)26
b(about)g(inference)f(algorithms.)44 b(A)28 b(potent)e(source)g(of)2049
2430 y(confusion)f(is)j(that,)h(as)f(in)f(Section)g(3,)i(uni\002cation)
d(forms)g(part)h(of)2049 2529 y(the)22 b FS(speci\002cation)f
FT(of)h(the)h(type)f(system)g(\(when)g(pattern-matching)2049
2629 y(on)16 b(GADTs\),)h(and)f(also)h(forms)f(part)g(of)h(the)f
FS(implementation)f FT(of)i(the)2049 2729 y(type)23 b(inference)e
(algorithm.)32 b(W)-7 b(e)24 b(k)o(eep)f(the)g(tw)o(o)g(rigorously)e
(sepa-)2049 2828 y(rate.)36 b(Where)24 b(confusion)e(may)i(arise)g(we)h
(call)f(the)g(former)f FS(matc)o(h-)2049 2928 y(uni\002cation)g
FT(and)i(the)g(latter)h FS(infer)m(ence-uni\002cation)p
FT(.)36 b(W)-7 b(e)26 b(also)g(de-)2049 3027 y(scribe)33
b(the)g(substitution)f(arising)g(from)g(match-uni\002cation)e(as)k(a)
2049 3127 y FS(type)20 b(r)m(e\002nement)p FT(.)2049
3271 y Fv(4.1)90 b(Syntax)2049 3423 y FT(The)21 b(syntax)f(of)g(the)h
(source)f(language)g(is)i(in)f(Figure)f(4.)27 b(Unlik)o(e)21
b(the)2049 3522 y(core)f(language,)f(binders)h(ha)n(v)o(e)g(no)h
(compulsory)d(type)j(annotation,)2049 3622 y(nor)c(are)h(type)g
(abstractions)f(or)h(applications)f(present.)24 b(Instead,)18
b(the)2049 3722 y(programmer)26 b(may)j(optionally)f(supply)g(a)i(type)
f(annotation)e(on)i(a)2049 3821 y(term,)20 b(thus)h FI(\()p
FK(t)p FL(::)q FK(ty)p FI(\))p FT(.)27 b(F)o(or)21 b(e)o(xample,)e
(here)h(is)i(part)f(of)f FL(eval)j FT(again,)2049 3921
y(in)d(our)g(source)f(language:)p Black Black 2125 4081
a FM(eval)39 b(::)f(forall)h(a.)f(Term)h(a)f(->)g(a)2316
4172 y(=)g(\\x.)g(case)h(x)f(of)2659 4264 y(Lit)g(i)153
b(->)38 b(i)2659 4355 y(Pair)g(s)g(t)h(->)f(\(eval)h(s,)f(eval)g(t\))
2659 4446 y(Fst)g(t)153 b(->)38 b(fst)g(\(eval)h(t\))2659
4538 y(...etc...)2049 4706 y FT(Compared)18 b(to)h(the)g(core-language)
d(v)o(ersion)i(of)h(the)g(same)g(function)2049 4805 y(in)25
b(Section)g(3,)h(the)f(source)g(language)e(has)j(implicit)f(type)f
(abstrac-)2049 4905 y(tion)32 b(and)g(application,)i(and)e(v)n
(ariables)f(are)i(not)f(annotated)e(with)2049 5005 y(their)20
b(types)g(\(e)o(xcept)f(in)h FL(letrec)p FT(\).)2049
5149 y Fv(4.2)90 b(Sour)n(ce)22 b(types)f(and)h(inter)o(nal)g(types)
2049 5300 y FT(W)-7 b(e)21 b(distinguish)e(between)g
FS(sour)m(ce)g(types)p FT(,)h FK(ty)p FT(,)g(and)f FS(internal)h(types)
p FT(,)2049 5400 y FK(\033)p FT(,)e(and)e(similarly)h(between)f(source)
g(type)g(v)n(ariables)g FK(a)h FT(and)f(internal)p Black
1929 5649 a(7)p Black eop end
%%Page: 8 8
TeXDict begin 8 7 bop Black Black -178 3 2058 4 v -178
2311 4 2309 v Black -52 171 a FH(V)-8 b(ariables)446
b FG(x;)8 b(y;)g(z)-52 262 y FH(T)-6 b(ype)19 b(constructors)194
b FG(T)-52 354 y FH(Data)19 b(constructors)200 b FG(C)-52
445 y FH(Source)19 b(type)h(v)n(ariables)83 b FG(a;)8
b(b;)g(c)-52 536 y FH(T)-6 b(ar)o(get)18 b(type)i(v)n(ariables)103
b FG(\013;)8 b(\014)-52 719 y FH(Atoms)351 b FG(v)84
b FF(:)o(:=)e FG(x)25 b FB(j)e FG(C)-52 810 y FH(T)-5
b(erms)291 b FG(t;)8 b(u)85 b FF(:)o(:=)d FG(v)24 b FB(j)g
FG(\025p)p FM(.)p FG(t)f FB(j)h FG(t)16 b(u)24 b FB(j)g
FG(t)p FM(::)p FG(ty)694 902 y FB(j)82 b FM(let)39 b
FG(x)f FM(=)h FG(u)f FM(in)g FG(t)694 993 y FB(j)82 b
FM(letrec)39 b FG(x)p FM(::)q FG(ty)f FM(=)g FG(u)g FM(in)h
FG(t)694 1084 y FB(j)82 b FM(case)17 b FG(t)g FM(of)p
1104 1028 230 3 v 17 w FG(p)38 b FM(->)h FG(t)-52 1176
y FH(P)o(atterns)227 b FG(p;)8 b(q)84 b FF(:)o(:=)e FG(x)25
b FB(j)e FG(C)p 969 1132 46 3 v 16 w(p)-52 1267 y FH(Source)c(types)128
b FG(ty)83 b FF(:)o(:=)f FG(a)24 b FB(j)f FG(ty)982 1281
y FA(1)1023 1267 y FM(->)p FG(ty)1177 1281 y FA(2)1241
1267 y FB(j)g FG(T)p 1344 1211 78 3 v 25 w(ty)694 1358
y FB(j)82 b FM(forall)p 1039 1315 47 3 v 18 w FG(a)16
b(:)34 b(ty)-52 1541 y FH(Polytypes)239 b FG(\033;)8
b(\036)84 b FF(:)o(:=)f FE(8)p 913 1498 51 3 v FG(\013)15
b(:)i(\034)-52 1632 y FH(Monotypes)217 b FG(\034;)8 b(\035)84
b FF(:)o(:=)f FG(T)p 918 1589 40 3 v 9 w(\034)22 b FB(j)i
FG(\034)1061 1646 y FA(1)1117 1632 y FC(!)17 b FG(\034)1251
1646 y FA(2)1314 1632 y FB(j)24 b FG(\013)f FB(j)36 b
@beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)-52 1815
y FH(T)-6 b(ype)19 b(conte)o(xts)211 b FG(\000)92 b FF(:)o(:=)83
b FG(\017)24 b FB(j)f FG(\000)-6 b(;)8 b(\013)23 b FB(j)h
FG(\000)-6 b(;)8 b FF(\()p FG(v)16 b FF(:)h FG(\033)p
FF(\))23 b FB(j)g FG(\000)-6 b(;)8 b(a)16 b FF(=)h FG(\034)481
1906 y FH(Note:)24 b FG(a)16 b FF(=)h FG(\034)h FH(form)h(unused)h
(until)f(Section)g(4.7)-52 1998 y(Constraint)g(lists)159
b FG(\005)83 b FF(:)o(:=)p 871 1954 47 3 v 83 w FG(\031)-52
2089 y FH(Constraint)308 b FG(\031)83 b FF(:)o(:=)g FG(\034)911
2103 y FA(1)985 2046 y FG(:)967 2089 y FF(=)17 b FG(\034)1082
2103 y FA(2)-52 2180 y FH(Substitutions)233 b FG(\022)83
b FF(:)o(:=)879 2179 y FN(/)871 2180 y(0)24 b FB(j)f
FG(\022;)8 b(\013)16 b FE(7)p FC(!)h FG(\034)23 b FB(j)g
FE(?)p Black 1876 2311 4 2309 v -178 2314 2058 4 v 126
2388 a Fw(Figur)o(e)c(4:)25 b FT(Syntax)20 b(of)g(source)f(types)h(and)
g(terms)-150 2669 y(type)g(v)n(ariables)g FK(\013)p FT(.)26
b(The)20 b(former)f(constitute)h(part)h(of)f(a)h(source)f(pro-)-150
2769 y(gram,)28 b(while)f(the)g(latter)g(are)g(used)g(in)h(typing)d
(judgements)h FS(about)-150 2868 y FT(the)i(program.)46
b(The)27 b(syntax)g(of)h(both)f(is)i(gi)n(v)o(en)d(in)i(Figure)g(4.)48
b(An)-150 2976 y(auxiliary)35 b(judgement)f FK(\000)i
FQ(`)673 2931 y FA(t)736 2976 y FK(ty)27 b Fg( )g FK(\033)37
b FT(checks)f(that)g FK(ty)g FT(is)h(well-)-150 3076
y(kinded,)31 b(and)e(gi)n(v)o(es)h(the)g(internal)f(type)g
FK(\034)i FT(corresponding)26 b(to)k FK(ty)p FT(.)-150
3176 y(W)-7 b(e)21 b(omit)e(the)h(details)g(of)g(this)g(judgement)e
(which)h(is)h(standard.)k(F)o(or)-150 3275 y(the)e(present,)f(we)i
(assume)e(that)h FK(ty)h FT(is)g(a)f(closed)f(type,)h(a)g(restriction)
-150 3375 y(we)f(lift)f(in)h(Section)e(4.7.)-150 3541
y(The)32 b(syntax)g(of)f(internal)h(types)g(is)h(mostly)f(con)m(v)o
(entional.)58 b(It)33 b(is)-150 3640 y(strati\002ed)25
b(into)f FS(polytypes)g FT(\()p FK(\033;)9 b(\036)p FT(\),)27
b(and)d FS(monotypes)f FT(\()p FK(\034;)9 b(\035)p FT(\);)27
b(and)d(it)-150 3740 y(is)29 b FS(pr)m(edicative)p FT(:)41
b(type)27 b(v)n(ariables)h(range)f(o)o(v)o(er)g(monotypes)f(\(types)
-150 3839 y(with)20 b(no)f FQ(8)p FT(')-5 b(s)21 b(within)f(them\),)f
(and)g(the)h(ar)o(gument\(s\))d(of)j(a)g(type)f(con-)-150
3939 y(structor)i(are)g(al)o(w)o(ays)h(monotypes.)28
b(Predicati)n(vity)20 b(mak)o(es)i(type)f(in-)-150 4039
y(ference)f(considerably)f(easier)-5 b(.)30 b(In)21 b(our)f
(implementation)f(in)j(GHC,)-150 4138 y(types)27 b(can)g(also)h(ha)n(v)
o(e)f FS(higher)g(kinds)p FT(,)h(e)o(xactly)f(as)h(in)f(Hask)o(ell)h
(98,)-150 4238 y(and)d(can)h(be)f(of)h FS(higher)f(r)o(ank)i
FT([PS04)o(].)42 b(These)25 b(tw)o(o)h(features)f(turn)-150
4338 y(out)c(to)g(be)g(lar)o(gely)e(orthogonal)g(to)i(generalised)e
(data)i(types,)g(so)g(we)-150 4437 y(omit)16 b(them)g(here)g(to)h(k)o
(eep)f(the)g(base)h(system)f(as)i(simple)e(as)h(possible.)-150
4603 y(There)26 b(is)i(one)f(brand-ne)n(w)d(feature,)k(unique)e(to)h
(this)g(system:)40 b(the)-150 4703 y(\223w)o(obbly\224)14
b(monotypes,)27 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.63963 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FK(\034)12 b FT(.)24 b(The)15 b(intuition)f(is)j(this:)23
b FS(the)15 b(un-wobbly)-150 4802 y(parts)33 b(of)h(a)f(type)g(can)f
(all)i(be)f(tr)o(aced)g(to)g(pr)l(o)o(gr)o(ammer)n(-supplied)-150
4902 y(type)21 b(annotations,)d(wher)m(eas)j(the)g(wobbly)f(parts)i
(cannot)p FT(.)j(W)-7 b(obbly)-150 5001 y(types)15 b(address)g(the)h
(follo)n(wing)e(challenge.)22 b(When)15 b(we)h(w)o(ant)f(to)h(type)-150
5101 y(a)26 b FL(case)h FT(e)o(xpression)d(that)i(scrutinises)g(a)g
(GADT,)f(we)h(must)g(apply)-150 5201 y(a)e(dif)n(ferent)e(type)h
(re\002nement)f(to)i(each)f(alternati)n(v)o(e,)g(just)h(as)h(in)f(the)
-150 5300 y(e)o(xplicitly-typed)15 b(language)h(of)h(Section)g(3.)24
b(The)18 b(most)f(straightfor)n(-)-150 5400 y(w)o(ard)g(w)o(ay)h(to)f
(do)g(this)h(is)g(to)g(follo)n(w)e(the)i(type)f(rules)g(rather)g
(literally:)p Black Black 2021 3 V 2021 3695 4 3692 v
Black 2414 171 a FG(ftv)p FF(\()p FG(\033)p FF(\))95
b(::)p 2846 128 51 3 v 94 w FG(\013)256 b FH(Free)19
b(type)g(v)n(ars)g(of)g FG(\033)2421 262 y(ftv)p FF(\()p
FG(\034)p FF(\))95 b(::)p 2846 219 V 94 w FG(\013)256
b FH(Free)19 b(type)g(v)n(ars)g(of)g FG(\034)2419 354
y(ftv)p FF(\()p FG(\000)9 b FF(\))95 b(::)p 2846 310
V 94 w FG(\013)256 b FH(Free)19 b(type)g(v)n(ars)g(of)g
FG(\000)2419 445 y(ftv)p FF(\()p FG(\000)9 b FF(\))83
b(=)2846 393 y Fx(S)2921 445 y FB(f)p FG(ftv)p FF(\()p
FG(\033)p FF(\))16 b FB(j)g FF(\()p FG(x)h FF(:)f FG(\033)p
FF(\))g FE(2)g FG(\000)9 b FB(g)2477 628 y FD(S)f FF(\()p
FG(\034)p FF(\))94 b(::)g FG(\034)267 b FH(Strip)18 b(box)o(es)i(from)f
FG(\034)2466 719 y FD(S)8 b FF(\()p FG(\013)p FF(\))82
b(=)g FG(\013)2414 817 y FD(S)8 b FF(\()p FG(T)p 2553
774 40 3 v 24 w(\034)p FF(\))83 b(=)f FG(T)p 2910 752
146 3 v 26 w FD(S)8 b FF(\()p FG(\034)p FF(\))2246 909
y FD(S)g FF(\()p FG(\034)2363 923 y FA(1)2419 909 y FC(!)17
b FG(\034)2553 923 y FA(2)2593 909 y FF(\))83 b(=)f FD(S)8
b FF(\()p FG(\034)2963 923 y FA(1)3003 909 y FF(\))16
b FC(!)h FD(S)8 b FF(\()p FG(\034)3260 923 y FA(2)3299
909 y FF(\))2452 1000 y FD(S)g FF(\()k @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)g FF(\))83 b(=)f FD(S)8
b FF(\()p FG(\034)p FF(\))2475 1182 y FD(S)g FF(\()p
FG(\000)h FF(\))94 b(::)g FG(\000)274 b FH(Strip)18 b(box)o(es)i(from)f
FG(\000)2474 1274 y FD(S)8 b FF(\()p FG(\017)p FF(\))83
b(=)f FG(\017)2409 1365 y FD(S)8 b FF(\()p FG(\000)-6
b(;)8 b(\013)p FF(\))83 b(=)f FD(S)8 b FF(\()p FG(\000)h
FF(\))p FG(;)f(\013)2266 1456 y FD(S)g FF(\()p FG(\000)-6
b(;)8 b FF(\()p FG(v)17 b FF(:)f FG(\033)p FF(\)\))82
b(=)g FD(S)8 b FF(\()p FG(\000)h FF(\))p FG(;)f FF(\()p
FG(v)16 b FF(:)g FD(S)8 b FF(\()p FG(\033)p FF(\)\))2223
1548 y FD(S)g FF(\()p FG(\000)-6 b(;)8 b FF(\()p FG(a)16
b FF(=)h FG(\034)p FF(\)\))82 b(=)g FD(S)8 b FF(\()p
FG(\000)h FF(\))2346 1730 y FG(push)p FF(\()p FG(\034)p
FF(\))95 b(::)f FG(\034)267 b FH(Push)19 b(box)o(es)h(do)n(wn)g(one)g
(le)n(v)o(el)2258 1822 y FG(push)p FF(\()13 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 13.85757 7.71094 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(T)p 2541 1779 40 3 v 25 w(\034)f
FF(\))83 b(=)f FG(T)p 2910 1766 65 3 v 38 w @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial(\034)2091 1913 y(push)p FF(\()12
b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.19023
neg 34.03275 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)2350
1927 y FA(1)2407 1913 y FC(!)k FG(\034)2540 1927 y FA(2)2593
1913 y FF(\))83 b(=)95 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.19023
neg 11.1414 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FG(\034)2899 1927 y FA(1)2968 1913 y FC(!)29 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.19023
neg 11.1414 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)3114 1927 y FA(2)2296
2005 y FG(push)p FF(\()13 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.0
neg 9.26213 7.12444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial 12 w @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FG(\034)25 b FF(\))83 b(=)f FG(push)p FF(\()13 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)f FF(\))2481 2187 y
FG(\022)p FF(\()p FG(\034)p FF(\))94 b(::)g FG(\034)267
b FH(Apply)20 b(a)f(type)g(re\002nement)2470 2278 y FG(\022)p
FF(\()p FG(\013)p FF(\))82 b(=)g FG(\013)256 b FH(if)19
b FG(\013)d FE(62)g FG(dom)p FF(\()p FG(\022)p FF(\))2706
2370 y(=)82 b FG(\034)267 b FH(if)19 b FF([)p FG(\013)d
FE(7)p FC(!)h FG(\034)p FF(])f FE(2)g FG(\022)2418 2468
y(\022)p FF(\()p FG(T)p 2553 2425 40 3 v 24 w(\034)p
FF(\))83 b(=)f FG(T)p 2910 2403 142 3 v 26 w(\022)p FF(\()p
FG(\034)p FF(\))2250 2559 y FG(\022)p FF(\()p FG(\034)2363
2573 y FA(1)2419 2559 y FC(!)17 b FG(\034)2553 2573 y
FA(2)2593 2559 y FF(\))83 b(=)f FG(\022)p FF(\()p FG(\034)2959
2573 y FA(1)2999 2559 y FF(\))16 b FC(!)h FG(\022)p FF(\()p
FG(\034)3252 2573 y FA(2)3291 2559 y FF(\))2456 2651
y FG(\022)p FF(\()12 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FG(\034)g FF(\))83 b(=)95 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.26213 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FG(\034)2479 2833 y(\022)p FF(\()p FG(\000)9
b FF(\))94 b(::)g FG(\000)274 b FH(Apply)20 b(a)f(type)g(re\002nement)g
(to)g FG(\000)2478 2925 y(\022)p FF(\()p FG(\017)p FF(\))83
b(=)f FG(\017)2414 3016 y(\022)p FF(\()p FG(\000)-6 b(;)8
b(\013)p FF(\))82 b(=)g FG(\022)p FF(\()p FG(\000)9 b
FF(\))162 b FH(if)19 b FG(\013)d FE(2)g FG(dom)p FF(\()p
FG(\022)p FF(\))2706 3107 y(=)82 b FG(\022)p FF(\()p
FG(\000)9 b FF(\))p FG(;)f(\013)82 b FH(otherwise)2270
3199 y FG(\022)p FF(\()p FG(\000)-6 b(;)8 b FF(\()p FG(v)17
b FF(:)f FG(\033)p FF(\)\))82 b(=)g FG(\022)p FF(\()p
FG(\000)9 b FF(\))p FG(;)f FF(\()p FG(v)16 b FF(:)g FG(\022)p
FF(\()p FG(\033)p FF(\)\))2227 3290 y FG(\022)p FF(\()p
FG(\000)-6 b(;)8 b FF(\()p FG(a)16 b FF(=)h FG(\034)p
FF(\)\))82 b(=)g FG(\022)p FF(\()p FG(\000)9 b FF(\))p
FG(;)f FF(\()p FG(a)16 b FF(=)g FG(\022)p FF(\()p FG(\034)p
FF(\)\))2433 3473 y FG(\022)2476 3487 y Ff(*)2524 3473
y FF(\()p FG(\034)p FF(\))82 b(=)g FG(\034)2433 3564
y(\022)2476 3578 y Ff(+)2524 3564 y FF(\()p FG(\034)p
FF(\))g(=)g FG(\022)p FF(\()p FG(\034)p FF(\))p Black
4075 3695 4 3692 v 2021 3698 2058 4 v 2530 3772 a Fw(Figur)o(e)20
b(5:)25 b FT(Functions)19 b(o)o(v)o(er)g(types)2049 4092
y(type-check)f(the)i(pattern,)f(perform)f(the)i(match-uni\002cation,)e
(apply)2049 4191 y(the)26 b(substitution)f(to)h(the)g(en)m(vironment)d
(and)i(the)h(result)g(type,)h(and)2049 4291 y(then)i(type-check)d(the)j
(right)g(hand)f(side.)51 b(There)29 b(are)g(tw)o(o)g(poten-)2049
4391 y(tial)22 b(dif)n(\002culties)f(for)g(inference:)27
b(\(a\))21 b(the)h(types)f(to)h(be)f(uni\002ed)g(may)2049
4490 y(not)29 b(be)f(fully)h(kno)n(wn;)j(and)c(\(b\))g(the)h(types)g
(to)g(which)g(the)g(substi-)2049 4590 y(tution)h(is)h(applied)f(may)g
(not)g(be)h(fully)f(kno)n(wn.)54 b(T)-7 b(ype)30 b(inference)2049
4689 y(typically)d(proceeds)g(by)g(using)h(meta-v)n(ariables)e(to)i
(represent)f(as-)2049 4789 y(yet-unkno)n(wn)17 b(monotypes,)h(relying)i
(on)g(inference-uni\002cation)c(to)2049 4889 y(\002ll)27
b(them)f(out)g(as)i(type)d(inference)g(proceeds.)42 b(At)27
b(some)g(interme-)2049 4988 y(diate)21 b(point,)g(this)h(\002lling-out)
f(process)g(may)g(not)g(be)h(complete;)f(in-)2049 5088
y(deed,)e(just)h(ho)n(w)f(it)h(proceeds)e(depends)g(on)h(the)h(order)e
(in)i(which)f(the)2049 5188 y(inference)g(algorithm)f(tra)n(v)o(erses)i
(the)g(syntax)g(tree.)2049 5400 y(As)h(a)g(concrete)e(e)o(xample,)f
(consider)h(this:)p Black 1929 5649 a(8)p Black eop end
%%Page: 9 9
TeXDict begin 9 8 bop Black Black Black Black -65 83
a FL(f)42 b(x)h(y)g(=)f(\(case)i(x)f(of)g({)g(...)g(},)g(x==[y]\))-150
227 y FT(Initially)-5 b(,)24 b FL(x)g FT(and)g FL(y)g
FT(will)h(be)f(assigned)f(distinct)h(meta)g(v)n(ariables,)f
FK(\013)-150 326 y FT(and)g FK(\014)p FT(,)i(say)-5 b(.)35
b(If)23 b(the)h(algorithm)e(processes)h(the)h(syntax)f(tree)h(right-)
-150 426 y(to-left,)29 b(the)f(term)g FL(x==[y])j FT(will)e(force)e
FK(\013)h FT(to)g(be)g(uni\002ed)f(to)i FL([)p FK(\014)p
FL(])p FT(,)-150 525 y(and)22 b(that)h(information)d(might)i
(in\003uence)g(ho)n(w)g(match-uni\002cation)-150 625
y(tak)o(es)i(place)f(in)h(the)g FL(case)h FT(e)o(xpression)d(\(if)i(it)
g(in)m(v)n(olv)o(ed)e(a)i(GADT\).)-150 725 y(On)i(the)g(other)f(hand,)h
(if)g(the)f(algorithm)g(w)o(orks)g(left-to-right,)g(this)-150
824 y(information)14 b(might)i(not)f(be)i(a)n(v)n(ailable)f(when)f(e)o
(xamining)f(the)j FL(case)-150 924 y FT(e)o(xpression.)-150
1068 y FS(Our)26 b(goal)g(is)h(that)f(the)g(speci\002cation)e(of)i(the)
h(type)f(system)h(should)-150 1167 y(not)21 b(constr)o(ain)g(the)g
(infer)m(ence)g(algorithm)g(to)h(a)f(particular)g(tr)o(aver)n(-)-150
1267 y(sal)29 b(or)m(der)p FT(.)51 b(W)-7 b(obbly)29
b(types)f(are)h(our)f(mechanism)g(for)g(achie)n(ving)-150
1366 y(this)21 b(goal.)j(The)c(intuition)f(is)i(this:)p
Black -67 1510 a FQ(\017)p Black 41 w FT(In)h(the)h(places)f(where)g
(an)g(inference)f(algorithm)g(w)o(ould)g(ha)n(v)o(e)16
1610 y(to)f(\223guess\224)g(a)g(type,)f(we)h(use)g(a)g(w)o(obbly)f
(type)g(to)h(indicate)f(that)16 1709 y(f)o(act.)31 b(F)o(or)22
b(e)o(xample,)f(if)i(lambda)e(abstractions)g(bound)g(only)g(a)16
1809 y(simple)e(v)n(ariable,)f(the)h(rule)g(for)g(abstraction)f(w)o
(ould)g(look)g(lik)o(e)16 1909 y(this:)623 1980 y FK(\000)-7
b(;)9 b FI(\()p FK(x)18 b FI(:)31 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 2.99998
neg 11.5189 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FK(\034)870 1992 y FA(1)923 1980 y FI(\))18
b FQ(`)23 b FK(t)18 b FI(:)g FK(\034)1179 1992 y FA(2)p
524 2036 795 5 v 524 2129 a FK(\000)27 b FQ(`)22 b FI(\()p
FL(\\)q FK(x)p FL(.)p FK(t)p FI(\))c(:)h(\()12 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 2.99998
neg 11.5189 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\034)1030 2141 y FA(1)1101
2129 y FJ(!)19 b FK(\034)1246 2141 y FA(2)1286 2129 y
FI(\))16 2255 y FT(The)28 b(ar)o(gument)d(type)i FK(\034)728
2267 y FA(1)797 2255 y FT(is)i(\223presciently)d(guessed\224)h(by)h
(the)16 2354 y(rule;)18 b(an)f(inference)e(algorithm)h(w)o(ould)g(use)h
(a)h(meta)f(type)f(v)n(ari-)16 2454 y(able.)23 b(So)17
b(in)f(the)g(typing)f(rule)h(we)h(use)f(a)g(w)o(obbly)28
b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 2.99998
neg 11.5189 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\034)1493
2466 y FA(1)1562 2454 y FT(to)17 b(re\003ect)16 2553
y(the)h(f)o(act)g(that)g FK(x)p FT(')-5 b(s)19 b(type)f(may)f(be)h(de)n
(v)o(eloped)e(gradually)g(by)i(the)16 2653 y(inference)h(algorithm.)p
Black -67 2797 a FQ(\017)p Black 41 w FT(When)26 b(performing)d
(match-uni\002cation)g(in)j(the)g(alternati)n(v)o(es)16
2896 y(of)f FL(case)j FT(e)o(xpression)23 b(scrutinising)i(a)h(GADT,)f
(we)h(mak)o(e)f(no)16 2996 y(use)31 b(of)g(information)d(inside)j(w)o
(obbly)e(types.)57 b(W)-7 b(e)31 b(will)h(see)16 3095
y(ho)n(w)20 b(this)g(is)i(achie)n(v)o(ed)c(in)i(Section)g(4.5.)p
Black -67 3239 a FQ(\017)p Black 41 w FT(When)56 b(applying)e(the)j
(substitution)e(from)g(that)h(match-)16 3339 y(uni\002cation,)33
b(to)e(re\002ne)g(the)h(type)f(en)m(vironment)d(and)j(return)16
3438 y(type,)19 b(we)g(do)g(not)f(apply)g(the)h(substitution)g(to)g(a)g
(w)o(obbly)f(type:)16 3538 y FK(\022)p FI(\()12 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.63963 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\034)h FI(\))19 b(=)30 b
@beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.63963 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\034)j FT(\(Figure)19
b(5\).)-150 3682 y(W)-7 b(obbly)46 b(types)g(ensure)g(the)g(type)g
(re\002nements)g(arising)g(from)-150 3781 y(GADTs)16
b(are)g(deri)n(v)o(ed)e(only)g(from,)i(and)f(applied)g(only)f(to,)j
(types)e(that)-150 3881 y(are)25 b(directly)g(attrib)n(utable)f(to)i
(programmer)n(-supplied)20 b(type)25 b(anno-)-150 3980
y(tations.)g(W)-7 b(e)20 b(describe)f(a)h(type)f(with)h(no)f(w)o(obbly)
f(types)h(inside)h(it)g(as)-150 4080 y FS(rigid)p FT(.)-150
4215 y Fv(4.3)90 b(Dir)n(ectionality)-150 4360 y FT(W)-7
b(obbly)38 b(types)h(allo)n(w)g(us)g(to)g(record)e(where)h(the)h(type)f
(system)-150 4459 y(\223guesses\224)20 b(a)g(type)f(b)n(ut,)g(to)h
(complete)f(the)h(picture,)e(we)i(also)g(need)f(a)-150
4559 y(w)o(ay)k(to)g(e)o(xplain)e(when)i(the)f(type)h(system)g(must)g
(guess,)g(and)f(when)-150 4659 y(a)j(programmer)n(-supplied)c(type)j
(annotation)f(speci\002es)j(the)f(neces-)-150 4758 y(sary)i(type.)46
b(Our)27 b(intuition)g(is)h(this:)40 b(when)27 b(the)g(programmer)e
(can)-150 4858 y(point)18 b(to)h(a)g(simple)g(\223audit)f(trail\224)h
(that)g(links)g(the)g(type)f(of)g(a)i(v)n(ariable)-150
4958 y(to)c(a)g(programmer)n(-supplied)11 b(annotation,)j(then)h(the)h
(system)g(should)-150 5057 y(gi)n(v)o(e)g(the)g(v)n(ariable)g(a)h
(rigid)e(type,)i(so)g(that)f(it)i(will)f(participate)e(in)i(type)-150
5157 y(re\002nement.)24 b(F)o(or)19 b(e)o(xample,)g(if)h(the)h
(programmer)c(writes:)p Black Black -65 5300 a FL(foo)43
b(::)g(a)g(->)g(T)f(a)h(->)g(T)g(a)-65 5400 y(foo)g(x)g(xs)g(=)f(...)p
Black Black 2049 83 a FT(then)30 b(he)h(might)f(reasonably)f(e)o(xpect)
g(the)i(system)g(to)g(understand)2049 183 y(that)19 b(the)g(the)f(type)
h(of)f FL(x)i FT(is)f FL(a)p FT(,)h(and)e(the)h(type)f(of)g
FL(xs)i FT(is)g FL(T)43 b(a)p FT(.)25 b(T)-7 b(o)19 b(mak)o(e)2049
282 y(this)d(intuiti)n(v)o(e)f(idea)g(precise,)h(we)g(annotate)e(our)h
(typing)f(judgements)2049 382 y(with)33 b(a)f FS(dir)m(ectionality)g
(\003a)o(g)p FT(,)i FK(\016)p FT(.)61 b(F)o(or)32 b(e)o(xample,)i(the)e
(judgement)2049 482 y FK(\000)g FQ(`)2168 505 y Ff(*)2239
482 y FK(t)22 b FI(:)h FK(\034)29 b FT(means)f(\223in)g(en)m(vironment)
e FK(\000)38 b FT(the)28 b(term)g FK(t)h FT(has)g(type)f
FK(\034)p FT(,)2049 581 y(re)o(gardless)g(of)h(conte)o(xt\224,)g
(whereas)g FK(\000)j FQ(`)3266 605 y Ff(+)3338 581 y
FK(t)23 b FI(:)g FK(\034)30 b FT(means)e(\223in)i(en)m(vi-)2049
681 y(ronment)24 b FK(\000)9 b FT(,)28 b(the)e(term)g
FK(t)h FT(in)f(conte)o(xt)f FK(\034)h FT(is)h(well-typed\224.)42
b(The)25 b(up-)2049 780 y(arro)n(w)d FJ(*)h FT(suggests)g(pulling)e(a)i
(type)g(up)f(out)g(of)g(a)i(term)e(\(\223guessing)2049
880 y(mode\224\),)e(whereas)h(the)h(do)n(wn-arro)n(w)c
FJ(+)23 b FT(suggests)e(pushing)f(a)i(type)2049 980 y(do)n(wn)16
b(into)g(a)h(term)g(\(\223checking)d(mode\224\).)23 b(W)-7
b(e)18 b(use)f(checking)e(mode)2049 1079 y(when)29 b(we)h(kno)n(w)e
(the)i(e)o(xpected)e(type)h(for)f(a)i(term,)i(because)c(it)j(is)2049
1179 y(gi)n(v)o(en)19 b(by)h(a)g(programmer)n(-supplied)c(type)j
(annotation.)2049 1332 y(T)-7 b(o)20 b(see)g(ho)n(w)f(the)g
(directionality)f(w)o(orks,)h(here)g(is)i(ho)n(w)e(we)g(split)i(the)
2049 1432 y(rule)31 b(for)g(abstraction)f(gi)n(v)o(en)g(in)h(Section)g
(4.2)g(into)g(tw)o(o,)j(one)d(for)2049 1532 y(each)20
b(direction:)2215 1690 y FK(\000)-7 b(;)9 b FI(\()p FK(x)18
b FI(:)31 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 2.99998
neg 11.5189 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\034)2462
1702 y FA(1)2514 1690 y FI(\))19 b FQ(`)2616 1710 y Ff(*)2682
1690 y FK(t)f FI(:)h FK(\034)2815 1702 y FA(2)p 2116
1746 839 5 v 2116 1839 a FK(\000)27 b FQ(`)2230 1860
y Ff(*)2296 1839 y FI(\()p FL(\\)q FK(x)p FL(.)p FK(t)p
FI(\))18 b(:)g(\()12 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 2.99998
neg 11.5189 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FK(\034)2665 1851 y FA(1)2737 1839 y FJ(!)19 b FK(\034)2882
1851 y FA(2)2922 1839 y FI(\))3244 1690 y FK(\000)-7
b(;)9 b FI(\()p FK(x)18 b FI(:)h FK(\034)3479 1702 y
FA(1)3519 1690 y FI(\))g FQ(`)3621 1710 y Ff(+)3687 1690
y FK(t)f FI(:)g FK(\034)3819 1702 y FA(2)p 3145 1746
814 5 v 3145 1839 a FK(\000)27 b FQ(`)3259 1860 y Ff(+)3325
1839 y FI(\()p FL(\\)q FK(x)p FL(.)p FK(t)p FI(\))18
b(:)h(\()p FK(\034)3683 1851 y FA(1)3742 1839 y FJ(!)f
FK(\034)3886 1851 y FA(2)3926 1839 y FI(\))2049 2022
y FT(The)23 b(\002rst)h(rule,)f(used)g(when)g(we)g(do)g(not)g(kno)n(w)f
(the)h(w)o(ay)h(in)f(which)2049 2122 y(the)29 b(term)g(is)h(to)f(be)g
(used,)i(is)f(just)g(as)g(gi)n(v)o(en)e(in)h(Section)g(4.2.)51
b(On)2049 2221 y(the)32 b(other)f(hand,)j(if)e(the)h(type)e(is)i
(supplied)e(by)h(the)g(conte)o(xt,)i(the)2049 2321 y(second)18
b(rule)g(does)g(not)h(mak)o(e)f FK(\034)2985 2333 y FA(1)3044
2321 y FT(w)o(obbly)g(\226)g(if)h(there)f(is)i(an)o(y)e(uncer)n(-)2049
2421 y(tainty)23 b(about)f(it,)j(that)f(uncertainty)d(should)h(already)
h(be)g(e)o(xpressed)2049 2520 y(by)d(w)o(obbly)f(types)h(inside)g
FK(\034)2880 2532 y FA(1)2920 2520 y FT(.)2049 2674 y(The)f(idea)f(of)h
(adding)e(a)i(directionality)f(\003ag)h(to)g(typing)e(judgements)2049
2774 y(w)o(as)27 b(\002rst)h(published)d(by)h(Pierce)g(&)h(T)l(urner)m
(,)f(who)g(called)h(it)g FS(local)2049 2873 y(type)e(infer)m(ence)p
FT(.)39 b(W)-7 b(e)26 b(used)f(directionality)e(\003ags)i(to)g(support)
f(type)2049 2973 y(inference)g(for)h(higher)n(-rank)d(types)k(in)f
([PS04)o(],)i(and)e(it)h(is)h(a)f(bonus)2049 3072 y(that)20
b(e)o(xactly)g(the)g(same)g(technology)e(is)j(useful)f(here.)2049
3221 y Fv(4.4)90 b(The)23 b(typing)f(rules)2049 3375
y FT(The)e(type)f(rules)h(for)g(the)g(source)f(language)f(are)i(gi)n(v)
o(en)f(in)h(Figure)g(6.)2049 3475 y(The)o(y)j(gi)n(v)o(e)f(a)i
(type-directed)e(translation)g(into)i(the)f(core)g(language)2049
3575 y(of)29 b(Section)g(3.)53 b(F)o(or)29 b(e)o(xample,)h(the)f
(judgement)f FK(\000)k FQ(`)3651 3598 y FA(\016)3715
3575 y FK(t)23 b Fg( )h FK(t)3922 3545 y Fq(0)3966 3575
y FI(:)f FK(\034)2049 3674 y FT(says)e(that)f(term)g
FK(t)g FT(translates)h(into)f(the)g(core)f(term)h FK(t)3571
3644 y Fq(0)3592 3674 y FT(,)g(with)h(type)e FK(\034)p
FT(.)2049 3828 y(W)-7 b(e)32 b(be)o(gin)d(with)i(rule)i
FR(A)m(T)s(O)t(M)r FT(,)g(which)d(deals)h(with)g(a)g(v)n(ariable)f(or)
2049 3939 y(constructor)i(by)i(instantiating)f(its)i(type,)i
FK(\033)p FT(,)h(using)33 b FQ(`)3690 3894 y FA(inst)3709
3963 y(\016)3833 3939 y FT(.)67 b(The)2049 4039 y(latter)26
b(chooses)g(arbitrary)-5 b(,)26 b(well-kinded)e(w)o(obbly)h(types)p
3766 3978 74 4 v 38 w @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 7.37155 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FK(\035)39 b FT(to)27 b(in-)2049 4139 y(stantiate)h FK(\033)p
FT(,)i(the)e(w)o(obbliness)f(indicating)g(that)h(the)g(system)g(must)
2049 4238 y(\223guess\224)i(the)f(types)p 2675 4190 49
4 v 30 w FK(\035)p FT(.)54 b(Their)30 b(well-kindedness)e(is)i(check)o
(ed)f(by)2049 4350 y FQ(`)2081 4305 y FA(k)2125 4350
y FT(,)20 b(whose)e(details)h(we)g(omit)g(as)g(usual.)24
b(In)19 b(guessing)f(mode)g(we)h(are)2049 4449 y(no)n(w)k(done,)g(b)n
(ut)h(in)f(checking)f(mode)g(the)i(w)o(obbliness)f(may)g(get)g(in)2049
4549 y(the)i(w)o(ay)-5 b(.)41 b(F)o(or)25 b(e)o(xample,)g(it)h(is)g
(perfectly)e(acceptable)g(for)h(a)h(func-)2049 4649 y(tion)20
b(with)h(type)33 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 16.79993 7.0399 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FL(Int)f FJ(!)19 b FL(Bool)k FT(to)e(be)f(gi)n(v)o(en)g(an)g(ar)o
(gument)f(of)h(type)2049 4748 y FL(Int)p FT(,)g(and)e(vice)g(v)o(ersa.)
23 b(Hence,)18 b(the)g(auxiliary)f(judgement)f FQ(`)21
b FK(\034)16 b Fu(\030)g FK(\034)4029 4718 y Fq(0)2049
4848 y FT(checks)23 b(for)f(equality)h(modulo)e(w)o(obbliness.)34
b(The)22 b(function)g FO(S)9 b FI(\()p FK(\034)p FI(\))p
FT(,)2049 4948 y(de\002ned)32 b(in)g(Figure)g(5,)k(remo)o(v)o(es)30
b(w)o(obbliness)i(from)g(an)g(internal)2049 5047 y(type.)2049
5201 y(Rule)26 b FR(A)t(N)t(N)t(O)q(T)g FT(in)m(v)n(ok)o(es)c
FQ(`)2812 5156 y FA(gen)2831 5224 y Ff(+)2964 5201 y
FT(to)i(\223push\224)e(the)i(kno)n(wn)d(type)i(signa-)2049
5300 y(ture)i(into)f(the)h(term,)h(as)g(discussed)e(in)i(Section)e
(4.3.)39 b(Rule)27 b FR(L)t(E)t(T)g FT(is)2049 5400 y(quite)f(con)m(v)o
(entional,)f(and)h(uses)i FQ(`)3066 5355 y FA(gen)3085
5424 y Ff(*)3222 5400 y FT(in)f(guessing)e(mode,)j(while)p
Black 1929 5649 a(9)p Black eop end
%%Page: 10 10
TeXDict begin 10 9 bop Black Black -178 110 4257 4 v
-178 5198 4 5089 v Black 1403 217 1094 4 v 1403 398 4
182 v 1432 335 a Fp(T)-8 b(erms)46 b Fo(\000)40 b Fn(`)1940
373 y Fj(\016)2016 335 y Fo(t)27 b Fe( )f Fo(t)2299 291
y Fh(0)2355 335 y Fl(:)g Fo(\034)p 2493 398 V 1403 401
1094 4 v 150 581 a FF(\()p FG(v)17 b FF(:)f FG(\033)p
FF(\))g FE(2)g FG(\000)158 b(\000)25 b FE(`)705 537 y
FA(inst)722 603 y(\016)865 581 y FG(\033)16 b FE(\024)g
FG(\034)h Fd( )p 1152 538 46 3 v 16 w FG(\035)p 150 621
1047 3 v 425 693 a(\000)25 b FE(`)529 715 y FA(\016)586
693 y FG(v)16 b Fd( )h FG(v)p 788 650 46 3 v 16 w(\035)g
FF(:)f FG(\034)1226 638 y Fk(A)m(T)s(O)t(M)1728 576 y
FG(\000)25 b FE(`)1815 532 y FA(t)1867 576 y FG(ty)16
b Fd( )g FG(\033)149 b(\000)25 b FE(`)2337 532 y FA(gen)2354
597 y Ff(+)2482 576 y FG(t)17 b Fd( )f FG(t)2662 545
y Ft(0)2700 576 y FF(:)g FG(\033)149 b(\000)25 b FE(`)3016
532 y FA(inst)3033 597 y(\016)3175 576 y FG(\033)16 b
FE(\024)h FG(\034)f Fd( )p 3463 533 V 17 w FG(\035)p
1728 621 1780 3 v 2246 693 a(\000)26 b FE(`)2351 715
y FA(\016)2407 693 y FM(\()q FG(t)p FM(::)p FG(ty)p FM(\))16
b Fd( )h FG(t)2818 663 y Ft(0)p 2855 650 46 3 v 2855
693 a FG(\035)g FF(:)f FG(\034)3536 638 y Fk(A)t(N)t(N)t(O)r(T)22
891 y FG(\000)25 b FE(`)109 848 y FA(gen)126 913 y Ff(*)254
891 y FG(u)17 b Fd( )f FG(u)468 861 y Ft(0)506 891 y
FF(:)g FG(\033)149 b FF(\()p FG(\000)-6 b(;)8 b(x)17
b FF(:)f FG(\033)p FF(\))g FE(`)1050 913 y FA(\016)1107
891 y FG(t)h Fd( )f FG(t)1287 861 y Ft(0)1324 891 y FF(:)h
FG(\034)p -91 936 1602 3 v -91 1009 a(\000)25 b FE(`)13
1030 y FA(\016)70 1009 y FF(\()p FM(let)38 b FG(x)p FM(=)p
FG(u)h FM(in)f FG(t)p FF(\))17 b Fd( )f FF(\()p FM(let)38
b FG(x)926 1026 y Fr(S)6 b Fc(\()p FA(\033)p Fc(\))1066
1009 y FM(=)p FG(u)1159 978 y Ft(0)1218 1009 y FM(in)39
b FG(t)1371 978 y Ft(0)1391 1009 y FF(\))17 b(:)f FG(\034)1539
953 y Fk(L)t(E)t(T)1858 891 y FG(\000)25 b FE(`)1945
847 y FA(t)1996 891 y FG(ty)17 b Fd( )f FG(\033)149 b(\000)-6
b(;)8 b(x)18 b FF(:)e FG(\033)g FE(`)2619 848 y FA(gen)2636
913 y Ff(+)2764 891 y FG(u)h Fd( )f FG(u)2978 861 y Ft(0)3016
891 y FF(:)g FG(\033)149 b(\000)-6 b(;)8 b(x)17 b FF(:)f
FG(\033)h FE(`)3501 913 y FA(\016)3557 891 y FG(t)g Fd( )f
FG(t)3737 861 y Ft(0)3775 891 y FF(:)g FG(\034)p 1858
936 1990 3 v 1918 1009 a(\000)25 b FE(`)2022 1030 y FA(\016)2079
1009 y FF(\()p FM(letrec)38 b FG(x)p FM(::)q FG(ty)p
FM(=)p FG(u)g FM(in)g FG(t)p FF(\))17 b Fd( )f FF(\()p
FM(let)38 b FG(x)3203 1026 y Fr(S)6 b Fc(\()p FA(\033)p
Fc(\))3343 1009 y FM(=)q FG(u)3437 978 y Ft(0)3496 1009
y FM(in)38 b FG(t)3648 978 y Ft(0)3669 1009 y FF(\))16
b(:)g FG(\034)3876 953 y Fk(R)t(E)t(C)371 1215 y FG(\000)25
b FE(`)458 1171 y FA(k)519 1215 y FG(\034)559 1229 y
FA(1)748 1215 y FG(\000)g FE(`)835 1171 y FA(a)852 1237
y Ff(*)917 1215 y FG(p)p FM(->)p FG(t)17 b Fd( )f FG(p)1231
1184 y Ft(0)1252 1215 y FM(->)p FG(t)1366 1184 y Ft(0)1404
1215 y FF(:)28 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.19023
neg 11.1414 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FG(\034)1489 1229 y FA(1)1558 1215 y FC(!)17 b FG(\034)1692
1229 y FA(2)p 371 1260 1361 3 v 556 1333 a FG(\000)25
b FE(`)660 1354 y Ff(*)724 1333 y FG(\025p)p FM(.)p FG(t)17
b Fd( )g FG(\025p)1085 1302 y Ft(0)1105 1333 y FM(.)p
FG(t)1181 1302 y Ft(0)1218 1333 y FF(:)29 b @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.19023
neg 11.1414 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FG(\034)1304 1347 y FA(1)1373
1333 y FC(!)17 b FG(\034)1507 1347 y FA(2)1760 1277 y
Fk(A)t(B)t(S)r FC(*)2372 1215 y FG(\000)25 b FE(`)2459
1171 y FA(a)2476 1237 y Ff(+)2540 1215 y FG(p)p FM(->)q
FG(t)16 b Fd( )h FG(p)2855 1184 y Ft(0)2876 1215 y FM(->)p
FG(t)2990 1184 y Ft(0)3027 1215 y FF(:)f FG(\034)3100
1229 y FA(1)3157 1215 y FC(!)g FG(\034)3290 1229 y FA(2)p
2368 1260 966 3 v 2368 1333 a FG(\000)25 b FE(`)2472
1354 y Ff(+)2537 1333 y FG(\025p)p FM(.)p FG(t)16 b Fd( )h
FG(\025p)2897 1302 y Ft(0)2917 1333 y FM(.)p FG(t)2993
1302 y Ft(0)3031 1333 y FF(:)f FG(\034)3104 1347 y FA(1)3161
1333 y FC(!)g FG(\034)3294 1347 y FA(2)3363 1277 y Fk(A)t(B)t(S)r
FC(+)195 1611 y FG(\000)25 b FE(`)299 1633 y Ff(*)363
1611 y FG(u)17 b Fd( )f FG(u)577 1581 y Ft(0)615 1611
y FF(:)g FG(\034)688 1625 y FA(1)878 1611 y FG(\000)25
b FE(`)965 1568 y FA(a)982 1633 y(\016)p 1039 1549 791
3 v 1039 1611 a FG(p)p FM(->)p FG(t)17 b Fd( )f FG(p)1353
1590 y Ft(0)1374 1611 y FM(->)p FG(t)1488 1590 y Ft(0)1526
1611 y FF(:)g FG(\034)1599 1625 y FA(1)1655 1611 y FC(!)h
FG(\034)1789 1625 y FA(2)p 107 1656 1810 3 v 107 1733
a FG(\000)25 b FE(`)211 1755 y FA(\016)268 1733 y FF(\()p
FM(case)38 b FG(u)h FM(of)p 690 1677 154 3 v 38 w FG(p)p
FM(->)q FG(t)p FF(\))16 b Fd( )h FF(\()p FM(case)p FF(\()p
FG(\034)1236 1747 y FA(2)1275 1733 y FF(\))g FG(u)1377
1703 y Ft(0)1436 1733 y FM(of)p 1550 1671 207 3 v 38
w FG(p)1601 1712 y Ft(0)1622 1733 y FM(->)p FG(t)1736
1712 y Ft(0)1757 1733 y FF(\))f(:)g FG(\034)1876 1747
y FA(2)1945 1673 y Fk(C)t(A)t(S)t(E)2410 1519 y FG(\000)25
b FE(`)2514 1541 y Ff(*)2578 1519 y FG(t)17 b Fd( )g
FG(t)2759 1488 y Ft(0)2796 1519 y FF(:)f FG(\034)149
b(push)p FF(\()p FG(\034)p FF(\))16 b(=)h FG(\034)3426
1533 y FA(1)3482 1519 y FC(!)g FG(\034)3616 1533 y FA(2)2522
1616 y FG(\000)25 b FE(`)2626 1637 y Ff(+)2690 1616 y
FG(u)17 b Fd( )g FG(u)2905 1585 y Ft(0)2942 1616 y FF(:)f
FG(\034)3015 1630 y FA(1)3205 1616 y FE(`)3251 1637 y
FA(\016)3308 1616 y FG(\034)3348 1630 y FA(2)3404 1616
y FB(\030)h FG(\034)3510 1585 y Ft(0)3504 1637 y FA(2)p
2410 1660 1246 3 v 2708 1733 a FG(\000)25 b FE(`)2812
1755 y FA(\016)2869 1733 y FG(t)16 b(u)h Fd( )g FG(t)3115
1703 y Ft(0)3152 1733 y FG(u)3207 1703 y Ft(0)3245 1733
y FF(:)f FG(\034)3324 1703 y Ft(0)3318 1755 y FA(2)3684
1678 y Fk(A)t(P)t(P)p 159 2005 845 4 v 159 2200 4 196
v 187 2137 a Fo(\000)40 b Fn(`)324 2072 y Fj(gen)351
2175 y(\016)513 2137 y Fo(t)26 b Fe( )g Fo(t)795 2093
y Fh(0)851 2137 y Fl(:)g Fo(\033)p 1001 2200 V 159 2203
845 4 v -18 2359 a FG(\000)-6 b(;)p 38 2315 51 3 v 8
w(\013)17 b FE(`)152 2380 y FA(\016)209 2359 y FG(t)f
Fd( )h FG(t)389 2328 y Ft(0)426 2359 y FF(:)f FG(\034)p
648 2315 V 149 w(\013)g FH(#)h FG(dom)p FF(\()p FG(\000)9
b FF(\))p -18 2398 1049 3 v 98 2478 a FG(\000)25 b FE(`)185
2434 y FA(gen)202 2499 y(\016)330 2478 y FG(t)17 b Fd( )f
FG(\003)p 531 2435 51 3 v(\013)h(:)g(t)675 2447 y Ft(0)712
2478 y FF(:)f FE(8)p 787 2435 V FG(\013)o FM(.)p FG(\034)1059
2415 y Fk(G)t(E)t(N)p 1400 1977 920 4 v 1400 2194 4 217
v 1428 2130 a Fo(\000)40 b Fn(`)1565 2065 y Fj(inst)1592
2169 y(\016)1769 2130 y Fo(\033)27 b Fn(\024)f Fo(\034)h
Fe( )p 2221 2061 71 5 v 26 w Fo(\035)p 2316 2194 4 217
v 1400 2197 920 4 v 1284 2373 a FG(\000)e FE(`)1371 2328
y FA(k)p 1432 2330 46 3 v 1432 2373 a FG(\035)149 b FE(`)1672
2394 y FA(\016)1729 2373 y FF([)p 1767 2317 231 3 v 17
w FG(\013)16 b FE(7)p FC(!)29 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 6.9403 5.62444 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FG(\035)g FF(])p FG(\034)2075 2387 y FA(1)2132
2373 y FB(\030)17 b FG(\034)2232 2387 y FA(2)p 1284 2412
988 3 v 1316 2506 a FG(\000)25 b FE(`)1403 2462 y FA(inst)1420
2527 y(\016)1563 2506 y FE(8)p 1605 2462 51 3 v FG(\013)o
FM(.)p FG(\034)1733 2520 y FA(1)1806 2506 y FE(\024)34
b FG(\034)1938 2520 y FA(2)1994 2506 y Fd( )p 2088 2441
152 3 v 17 w FD(S)8 b FF(\()p FG(\035)p FF(\))2300 2429
y Fk(I)t(N)t(S)t(T)p 2955 2017 547 4 v 2955 2190 4 173
v 2983 2126 a Fn(`)3056 2165 y Fj(\016)3132 2126 y Fo(\034)3193
2147 y Fj(1)3270 2126 y Fb(\030)26 b Fo(\034)3423 2147
y Fj(2)p 3498 2190 V 2955 2193 547 4 v 2539 2388 299
3 v 2539 2460 a FE(`)2585 2482 y Ff(*)2649 2460 y FG(\034)33
b FB(\030)g FG(\034)2866 2405 y Fk(I)t(N)t(S)t(T)r FC(*)3239
2348 y FD(S)8 b FF(\()p FG(\034)3356 2362 y FA(1)3395
2348 y FF(\))17 b(=)f FD(S)8 b FF(\()p FG(\034)3633 2362
y FA(2)3673 2348 y FF(\))p 3239 2388 464 3 v 3281 2460
a FE(`)3327 2482 y Ff(+)3391 2460 y FG(\034)3431 2474
y FA(1)3504 2460 y FB(\030)33 b FG(\034)3620 2474 y FA(2)3731
2405 y Fk(I)t(N)t(S)t(T)r FC(+)p 742 2694 2417 4 v 742
2889 4 196 v 770 2826 a Fp(Case)c(alternati)m(v)n(es)48
b Fo(\000)40 b Fn(`)1763 2761 y Fj(a)1790 2864 y(\016)1866
2826 y Fo(p)p Fa(->)q Fo(u)26 b Fe( )g Fo(p)2388 2782
y Fh(0)2418 2826 y Fa(->)p Fo(u)2627 2782 y Fh(0)2683
2826 y Fl(:)g Fo(\034)2796 2847 y Fj(1)2873 2826 y Fi(!)g
Fo(\034)3080 2847 y Fj(2)p 3155 2889 V 742 2892 2417
4 v 555 3053 a FG(\000)18 b FF(;)10 b FG(\017)g FF(;)721
3052 y FN(/)713 3053 y(0)17 b FE(`)796 3009 y FA(p)859
3053 y FG(p)g Fd( )f FG(p)1065 3022 y Ft(0)1103 3053
y FF(:)g FG(\034)1176 3067 y FA(1)1226 3053 y FF(;)27
b FG(\001)10 b FF(;)27 b FG(\022)149 b(dom)p FF(\()p
FG(\001)p FF(\))17 b FH(#)g FF(\()p FG(ftv)p FF(\()p
FG(\034)2118 3067 y FA(2)2158 3053 y FF(\)\))149 b FG(\022)p
FF(\()p FG(\000)-6 b(;)8 b(\001)p FF(\))15 b FE(`)2642
3074 y FA(\016)2699 3053 y FG(u)i Fd( )g FG(u)2914 3022
y Ft(0)2951 3053 y FF(:)f FG(\022)3027 3067 y FA(\016)3068
3053 y FF(\()p FG(\034)3138 3067 y FA(2)3177 3053 y FF(\))p
555 3092 2653 3 v 1388 3172 a FG(\000)25 b FE(`)1475
3129 y FA(a)1492 3194 y(\016)1549 3172 y FG(p)p FM(->)p
FG(u)17 b Fd( )g FG(p)1881 3142 y Ft(0)1902 3172 y FM(->)p
FG(u)2033 3142 y Ft(0)2071 3172 y FF(:)f FG(\034)2144
3186 y FA(1)2200 3172 y FC(!)h FG(\034)2334 3186 y FA(2)3236
3110 y Fk(A)t(L)o(T)p 183 3417 1820 4 v 183 3596 4 180
v 211 3548 a Fp(P)n(atterns)47 b Fo(\000)31 b Fl(;)16
b Fo(\001)h Fl(;)f Fo(\022)27 b Fn(`)1048 3483 y Fj(p)1133
3548 y Fo(p)g Fe( )f Fo(p)1456 3505 y Fh(0)1512 3548
y Fl(:)g Fo(\034)17 b Fl(;)g Fo(\001)1780 3505 y Fh(0)1826
3548 y Fl(;)f Fo(\022)1944 3505 y Fh(0)p 1999 3596 V
183 3599 1820 4 v 808 3754 a FG(x)h FH(#)g FG(dom)p FF(\()p
FG(\001)p FF(\))p 421 3794 1160 3 v 421 3874 a FG(\000)i
FF(;)10 b FG(\001)g FF(;)g FG(\022)16 b FE(`)680 3829
y FA(p)743 3874 y FG(x)h Fd( )g FG(x)934 3891 y Fr(S)6
b Fc(\()p FA(\034)p Fc(\))1084 3874 y FF(:)16 b FG(\034)10
b FF(;)27 b FG(\001;)8 b FF(\()p FG(x)17 b FF(:)f FG(\034)p
FF(\))10 b(;)26 b FG(\022)1610 3811 y Fk(P)t(V)l(A)t(R)312
4089 y FF(\()p FG(C)17 b FF(:)f FE(8)p 489 4046 51 3
v FG(\013)g(:)p 593 4046 40 3 v 16 w(\034)633 4058 y
FA(c)689 4089 y FC(!)h FG(T)p 846 4046 46 3 v 25 w(\035)891
4058 y FA(t)926 4089 y FF(\))f FE(2)h FG(\000)p 1230
4046 51 3 v 158 w(\013)f FH(#)h FG(dom)p FF(\()p FG(\000)-6
b(;)8 b(\001)p FF(\))201 4199 y FG(push)p FF(\()p FG(\022)p
FF(\()p FG(\035)532 4168 y Ft(0)553 4199 y FF(\)\))16
b(=)g FG(T)p 766 4137 88 3 v 25 w(\035)817 4177 y Ft(00)854
4153 y FA(t)1039 4199 y FE(`)1068 4155 y FA(u)1134 4199
y FF(\()p FG(T)p 1227 4156 46 3 v 25 w(\035)1272 4168
y FA(t)1342 4157 y FG(:)1323 4199 y FF(=)h FG(T)p 1461
4137 88 3 v 25 w(\035)1512 4177 y Ft(00)1549 4153 y FA(t)1584
4199 y FF(\))f Fd( )g FG(\022)1772 4168 y Ft(0)359 4299
y FG(\000)j FF(;)10 b FG(\001;)p 522 4256 51 3 v 8 w(\013)g
FF(;)g(\()p FG(\022)689 4268 y Ft(0)720 4299 y FE(\016)g
FG(\022)p FF(\))16 b FE(`)885 4255 y FA(ps)p 982 4255
135 3 v 982 4299 a FG(p)h FF(:)f FG(\034)1116 4268 y
FA(c)1173 4299 y Fd( )p 1266 4237 72 3 v 16 w FG(p)1317
4277 y Ft(0)1338 4253 y FA(c)1388 4299 y FF(;)10 b FG(\001)1476
4268 y Ft(00)1523 4299 y FF(;)g FG(\022)1599 4268 y Ft(00)p
201 4338 1592 3 v 388 4420 a FG(\000)19 b FF(;)10 b FG(\001)g
FF(;)g FG(\022)16 b FE(`)647 4376 y FA(p)710 4420 y FG(C)p
782 4377 46 3 v 17 w(p)827 4389 y FA(c)883 4420 y Fd( )h
FG(C)p 1048 4377 51 3 v 16 w(\013)p 1116 4358 72 3 v
17 w(p)1167 4398 y Ft(0)1188 4374 y FA(c)1244 4420 y
FF(:)f FG(\035)1328 4389 y Ft(0)1359 4420 y FF(;)10 b
FG(\001)1447 4389 y Ft(00)1494 4420 y FF(;)g FG(\022)1570
4389 y Ft(00)1821 4356 y Fk(P)t(C)t(O)t(N)p 2337 3417
1129 4 v 2337 3575 4 159 v 2365 3548 a Fp(Uni\002cation)75
b Fn(`)3023 3483 y Fj(u)3112 3548 y Fo(\005)27 b Fe( )f
Fo(\022)p 3462 3575 V 2337 3578 1129 4 v 2301 3825 a
FG(\022)p FF(\()p FG(\005)2436 3794 y Ft(0)2455 3825
y FF(\))16 b(=)h FG(\005)149 b(dom)p FF(\()p FG(\022)p
FF(\))17 b FH(#)g FG(ftv)p FF(\()p FG(\005)p FF(\))2095
3916 y FG(\005)2157 3885 y Ft(0)2194 3916 y FH(is)i(rigid)149
b FG(\022)2602 3885 y Ft(0)2639 3916 y FH(is)18 b(a)h(most)g(general)h
(uni\002er)f(of)d FG(\005)3516 3885 y Ft(0)p 2095 3955
1442 3 v 2450 4035 a FE(`)2479 3991 y FA(u)2545 4035
y FG(\005)g Fd( )h FF(\()p FG(\022)10 b FE(\016)g FG(\022)2890
4004 y Ft(0)2910 4035 y FF(\))17 b FB(j)2974 4053 y FA(ftv)p
Fc(\()p FA(\005)p Fc(\))3565 3972 y Fk(U)t(N)t(I)t(F)p
785 4608 2330 4 v 785 4792 4 184 v 814 4741 a Fp(P)n(attern)30
b(sequences)46 b Fo(\000)30 b Fl(;)17 b Fo(\001)g Fl(;)f
Fo(\022)27 b Fn(`)2119 4677 y Fj(ps)p 2245 4670 211 5
v 2245 4741 a Fo(p)g Fl(:)f Fo(\034)h Fe( )p 2629 4643
110 5 v 27 w Fo(p)2709 4707 y Fh(0)2755 4741 y Fl(;)16
b Fo(\001)2892 4698 y Fh(0)2938 4741 y Fl(;)h Fo(\022)3057
4698 y Fh(0)p 3111 4792 4 184 v 785 4795 2330 4 v 105
4996 723 3 v 105 5076 a FG(\000)i FF(;)10 b FG(\001)g
FF(;)g FG(\022)16 b FE(`)364 5031 y FA(ps)461 5076 y
FG(\017)g Fd( )h FG(\017)10 b FF(;)g FG(\001)g FF(;)h
FG(\022)856 5013 y Fk(P)t(E)t(M)t(P)t(T)t(Y)1410 4956
y FG(\000)19 b FF(;)10 b FG(\001)g FF(;)g FG(\022)16
b FE(`)1669 4912 y FA(p)1732 4956 y FG(p)1777 4970 y
FA(1)1835 4956 y FF(:)g FG(\034)1908 4970 y FA(1)1965
4956 y Fd( )g FG(p)2109 4925 y Ft(0)2103 4978 y FA(1)2154
4956 y FF(;)27 b FG(\001)2259 4925 y Ft(0)2289 4956 y
FF(;)g FG(\022)2382 4925 y Ft(0)2552 4956 y FG(\000)19
b FF(;)9 b FG(\001)2691 4925 y Ft(0)2722 4956 y FF(;)h
FG(\022)2798 4925 y Ft(0)2835 4956 y FE(`)2864 4912 y
FA(ps)p 2960 4912 135 3 v 2960 4956 a FG(p)17 b FF(:)f
FG(\034)h Fd( )p 3205 4894 72 3 v 16 w FG(p)3256 4935
y Ft(0)3287 4956 y FF(;)27 b FG(\001)3392 4925 y Ft(00)3439
4956 y FF(;)f FG(\022)3531 4925 y Ft(00)p 1410 4996 2158
3 v 1827 5076 a FG(\000)19 b FF(;)10 b FG(\001)g FF(;)g
FG(\022)16 b FE(`)2086 5031 y FA(ps)2183 5076 y FG(p)2228
5090 y FA(1)2285 5076 y FF(:)g FG(\034)2358 5090 y FA(1)2398
5076 y FG(;)p 2427 5031 135 3 v 8 w(p)i FF(:)e FG(\034)g
Fd( )h FG(p)2724 5045 y Ft(0)2718 5097 y FA(1)2758 5076
y FG(;)p 2787 5013 72 3 v 8 w(p)2838 5054 y Ft(0)2870
5076 y FF(;)27 b FG(\001)2975 5045 y Ft(00)3022 5076
y FF(;)f FG(\022)3114 5045 y Ft(00)3596 5013 y Fk(P)t(C)t(O)t(N)t(S)p
Black 4075 5198 4 5089 v -178 5201 4257 4 v 1169 5276
a Fw(Figur)o(e)19 b(6:)25 b FT(T)-7 b(yping)19 b(rules)h(for)g(the)g
(source)f(language)p Black 1908 5649 a(10)p Black eop
end
%%Page: 11 11
TeXDict begin 11 10 bop Black Black -150 83 a FT(rule)22
b FR(R)t(E)t(C)i FT(uses)d(checking)e(mode)g(to)i(support)e
(polymorphic)e(recur)n(-)-150 183 y(sion..)24 b(The)18
b(rule)g(for)f(application)g(\()r FR(A)t(P)t(P)r FT(\),)h(is)i(a)e
(little)h(unusual,)e(ho)n(w-)-150 282 y(e)n(v)o(er)-5
b(.)24 b(What)d(one)f(normally)e(sees)j(is)g(something)e(lik)o(e)i
(this:)335 452 y FK(\000)27 b FQ(`)22 b FK(t)d FI(:)f
FK(\034)604 464 y FA(1)663 452 y FJ(!)g FK(\034)807 464
y FA(2)1013 452 y FK(\000)27 b FQ(`)c FK(u)c FI(:)f FK(\034)1301
464 y FA(1)p 335 508 1007 5 v 648 601 a FK(\000)27 b
FQ(`)22 b FK(t)c(u)h FI(:)f FK(\034)988 613 y FA(2)-150
763 y FT(Ho)n(we)n(v)o(er)m(,)f(in)j(our)e(system,)h(it)h(is)h
(possible)d(that)i(the)f(function)e FK(t)j FT(will)-150
863 y(turn)h(out)g(to)h(ha)n(v)o(e)f(a)i(w)o(obbly)d(type,)h(or)h
(perhaps)e(a)i(doubly-w)o(obbly)-150 962 y(type,)28 b(or)f(more.)46
b(What)27 b(we)h(need)e(is)j(that)e(it)h(can)f(be)g(cajoled)g(into)-150
1062 y(the)21 b(form)f FK(\034)199 1074 y FA(1)258 1062
y FJ(!)f FK(\034)403 1074 y FA(2)443 1062 y FT(,)j(for)e(some)h(types)g
FK(\034)1041 1074 y FA(1)1103 1062 y FT(and)f FK(\034)1287
1074 y FA(2)1327 1062 y FT(,)i(a)f(predicate)f(we)-150
1162 y(capture)h(in)i(the)f(partial)g(function)e FK(push)p
FI(\()p FK(\034)p FI(\))j FT(\(see)g(Figure)e(5\).)31
b(This)-150 1261 y(function)19 b(tak)o(es)i(a)g(possibly-w)o(obbly)d
(type,)i(and)g(guarantees)f(to)i(re-)-150 1361 y(turn)c(a)i(type)e
(with)i(a)f(type)g(constructor)e(\(such)h(as)i(a)f(function)f(arro)n
(w\))-150 1460 y(at)23 b(the)f(outermost)f(le)n(v)o(el.)31
b(The)22 b(function)f FK(push)h FT(is)h(partial;)h(for)d(e)o(x-)-150
1560 y(ample,)d FK(push)p FI(\()p FK(\013)p FI(\))h FT(gi)n(v)o(es)g
(no)f(result,)h(and)f(the)j FR(A)t(P)t(P)g FT(rule)e(f)o(ails.)25
b(No)n(w)-150 1660 y(we)f(can)g(check)f(that)i FK(u)f
FT(has)h(the)f(desired)f(type,)h(with)h FQ(`)1495 1683
y Ff(+)1542 1660 y FT(.)37 b(Finally)-5 b(,)-150 1759
y(we)20 b(must)h(check)e(that)h(the)g(function')-5 b(s)19
b(result)h(type)g FK(\034)1396 1771 y FA(2)1457 1759
y FT(matches)g(the)-150 1859 y(e)o(xpected)f(result)h
FK(\034)420 1829 y Fq(0)413 1882 y FA(2)453 1859 y FT(,)g(just)h(as)g
(we)g(did)f(in)g(rule)i FR(A)m(T)s(O)t(M)r FT(.)-150
2010 y(Rule)35 b FR(C)t(A)t(S)t(E)g FT(handles)c FL(case)j
FT(e)o(xpressions.)60 b(First)33 b(it)g(deri)n(v)o(es)f(the)-150
2110 y(type)h FK(\034)70 2122 y FA(1)145 2110 y FT(of)h(the)f
(scrutinee)g FK(u)p FT(,)38 b(and)c(then)f(it)i(uses)f(the)g(auxiliary)
-150 2210 y(judgement)19 b FQ(`)254 2165 y FA(a)322 2210
y FT(to)i(type-check)e(the)h(alternati)n(v)o(es.)25 b(Since)c(a)g
(lambda)-150 2309 y(abstraction)e(binds)h(a)h(pattern,)e(it)j(beha)n(v)
o(es)d(v)o(ery)g(lik)o(e)i(a)g(single)f(case)-150 2409
y(alternati)n(v)o(e,)d(so)h(rules)i FR(A)t(B)t(S)r FJ(*)f
FT(and)g FR(A)t(B)t(S)r FJ(+)g FT(simply)f(in)m(v)n(ok)o(e)f(the)g
(same)-150 2509 y(auxiliary)e(judgement)g(as)i(for)f
FL(case)j FT(e)o(xpressions,)d(the)g(former)f(with)-150
2608 y(a)21 b(w)o(obbly)e(type)g(as)i(discussed)f(in)h(Section)e(4.3.)
-150 2760 y(The)j(judgements)f FQ(`)440 2715 y FA(a)488
2760 y FT(,)i(for)f(alternati)n(v)o(es,)g(and)g(its)i(auxiliary)d
(judge-)-150 2859 y(ment)31 b FQ(`)80 2814 y FA(p)158
2859 y FT(for)g(patterns,)j(tak)o(e)d(a)h(v)o(ery)e(similar)i(form)e
(to)i(those)f(of)-150 2959 y(the)h(e)o(xplicitly-typed)d(language)i
(\(Section)g(3\).)60 b(One)32 b(signi\002cant)-150 3059
y(dif)n(ference)25 b(is)i(the)g(use)g(of)f FK(push)h
FT(in)g(rule)h FR(P)t(C)t(O)t(N)r FT(,)h(which)d(appears)-150
3158 y(for)e(e)o(xactly)f(the)i(same)f(reason)g(as)h(in)f(rule)j
FR(A)t(P)t(P)r FT(.)38 b(Another)23 b(impor)n(-)-150
3258 y(tant)g(dif)n(ference,)f(also)h(in)i FR(P)t(C)t(O)t(N)r
FT(,)g(is)f(that)f(we)h(in)m(v)n(ok)o(e)e(an)h(auxiliary)-150
3357 y(judgement)e FQ(`)256 3312 y FA(u)326 3357 y FK(\005)f
Fg( )g FK(\022)j FT(to)h(unify)d FK(\005)p FT(;)k(we)f(discuss)f(this)g
(judgement)-150 3457 y(in)e(Section)f(4.5.)26 b(The)20
b(third)g(major)g(dif)n(ference)f(is)j(that)e(in)h(rule)i
FR(A)t(L)n(T)-150 3557 y FT(we)h(apply)e FK(\022)225
3569 y FA(\016)289 3557 y FT(to)h FK(\034)420 3569 y
FA(2)461 3557 y FT(,)h(rather)e(than)h FK(\022)h FT(\(Figure)e(4)h
(de\002nes)g FK(\022)1598 3569 y FA(\016)1639 3557 y
FT(\).)34 b(The)-150 3656 y(idea)27 b(is)g(that)g(in)g(guessing)f
(mode,)i(we)f(cannot)e(e)o(xpect)h(to)h(guess)g(a)-150
3756 y(single)j(type)g(that)g(can)g(be)g(re\002ned)f(for)h(each)g
(alternati)n(v)o(e)f(by)g(that)-150 3856 y(alternati)n(v)o(e')-5
b(s)19 b(substitution.)-150 4000 y Fv(4.5)90 b(T)-7 b(ype)22
b(r)n(e\002nement)g(with)h(w)o(ob)o(bly)f(types)-150
4153 y FT(Rule)28 b FR(P)t(C)t(O)t(N)h FT(uses)d(an)f(auxiliary)f
(judgement)g FQ(`)1256 4108 y FA(u)1327 4153 y FK(\005)e
Fg( )f FK(\022)26 b FT(to)g(unify)-150 4252 y(the)h(constraints)f
FK(\005)p FT(.)45 b(The)26 b(k)o(e)o(y)h(idea)f(is)i(that)f(this)g
(judgement)e(per)n(-)-150 4352 y(forms)20 b(a)g(kind)g(of)g(partial)g
(uni\002cation)f(of)h FK(\005)p FT(,)g FS(based)g(only)g(on)g(infor)n
(-)-150 4452 y(mation)26 b(in)i FK(\005)g FS(outside)e(wobbly)h(types)p
FT(.)46 b(This)27 b(simple)g(intuition)g(is)-150 4551
y(surprisingly)18 b(trick)o(y)i(to)g(formalise.)-150
4703 y(Rule)26 b FR(U)t(N)t(I)t(F)g FT(in)e(Figure)f(6)g(gi)n(v)o(es)g
(the)h(details.)35 b(It)24 b(splits)g FK(\005)g FT(into)f(tw)o(o)-150
4802 y(parts:)h(a)17 b(rigid)g FK(\005)355 4772 y Fq(0)376
4802 y FT(,)h(in)f(which)g(arbitrary)f(types)h(within)g
FK(\005)h FT(ha)n(v)o(e)e(been)-150 4902 y(replaced)g(with)h(fresh)g
(type)f(v)n(ariables)p 973 4854 51 4 v 16 w FK(\015)p
FT(;)j(and)d(a)i(substitution)e FK(\022)h FT(that)-150
5001 y(maps)28 b(the)p 184 4953 V 28 w FK(\015)g FT(onto)g(the)g(e)o
(xcised)f(types.)49 b(These)27 b(tw)o(o)i(parts)f(\002t)h(to-)-150
5101 y(gether)m(,)23 b(so)g(that)h FK(\022)p FI(\()p
FK(\005)491 5071 y Fq(0)512 5101 y FI(\))g FT(is)h(the)e(original)f
FK(\005)p FT(.)35 b(No)n(w)24 b(we)g(\002nd)f(a)h(most)-150
5201 y(general)k(uni\002er)h(of)g FK(\005)537 5171 y
Fq(0)558 5201 y FT(,)j(namely)c FK(\022)938 5171 y Fq(0)959
5201 y FT(.)53 b(Finally)-5 b(,)31 b(we)f(re-insert)f(the)-150
5300 y(e)o(xcised)c(types)h(into)g FK(\022)535 5270 y
Fq(0)556 5300 y FT(,)h(by)f(composing)e(it)j(with)f FK(\022)p
FT(,)h(and)f(restrict-)-150 5400 y(ing)f(the)g(domain)f(of)h(the)g
(resulting)f(substitution)h(to)g(the)g(free)g(type)p
Black Black 2049 83 a(v)n(ariables)i(of)h FK(\005)g FT(\227)h(or)m(,)g
(equi)n(v)n(alently)-5 b(,)27 b(discarding)g(an)o(y)g(substitu-)2049
183 y(tions)i(for)f(the)g(intermediate)p 2940 135 V 27
w FK(\015)p FT(.)50 b(\(The)28 b(notation)g FK(\022)14
b Fu(j)p 3628 161 51 3 v 12 x FA(\013)3707 183 y FT(means)29
b(the)2049 282 y(substitution)19 b FK(\022)i FT(with)f(domain)f
(restricted)h(to)p 3377 234 55 4 v 20 w FK(\013)p FT(.\))2049
441 y(The)30 b(judgement)f(lea)n(v)o(es)i(a)g(lot)g(of)g(freedom)e
(about)h(ho)n(w)g(to)h(split)2049 540 y FK(\005)22 b
FT(into)g(pieces,)g(b)n(ut)g(a)g(complete)f(type)g(inference)f
(algorithm)h(must)2049 640 y(\002nd)28 b(a)g(solution)f(if)h(one)g(e)o
(xists.)48 b(The)28 b(w)o(ay)g(to)g(do)g(this)g(is)h(to)f(split)2049
740 y FK(\005)e FT(by)f(replacing)f(the)i(outermost)e(w)o(obbly)h
(types)g(with)h(fresh)f(type)2049 839 y(v)n(ariables,)17
b(so)h(that)f(as)h(much)f(rigid)g(information)e(as)j(possible)f(is)h(e)
o(x-)2049 939 y(posed)d(in)g FK(\005)2406 909 y Fq(0)2427
939 y FT(.)24 b(This)16 b(algorithm)e(is)i(quite)f(discerning.)22
b(F)o(or)15 b(e)o(xample,)2049 1039 y(the)20 b(reader)f(is)i(in)m
(vited)f(to)g(v)o(erify)f(that,)h(using)f(this)i(algorithm,)2337
1229 y FQ(`)2369 1180 y FA(u)2479 1229 y FI(\()p FK(\013)2604
1182 y(:)2584 1229 y FI(=)d(\()12 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 16.79993 7.0399 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FL(Int)j FK(;)9 b FL(Bool)q FI(\))p FK(;)g(\013)3209
1182 y(:)3189 1229 y FI(=)18 b(\()p FL(Int)q FK(;)k @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 21.8999 7.67493 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FL(Bool)14 b FI(\)\))2479 1329
y Fg( )k FI([)p FK(\013)g FQ(7)p FJ(!)h FI(\()p FL(Int)q
FK(;)9 b FL(Bool)r FI(\)])2049 1514 y FT(where)15 b(the)h(result)g(has)
f(gathered)f(together)g(the)i(least-w)o(obbly)f(result)2049
1614 y(that)20 b(is)h(justi\002ed)g(by)f(the)g(e)n(vidence.)2049
1772 y(Notice)28 b(that)g(the)g(substitution)f(returned)f(by)h
FQ(`)3446 1727 y FA(u)3524 1772 y FT(is)i(not)f(necessar)n(-)2049
1872 y(ily)d(a)g(uni\002er)f(of)h(the)g(constraints.)38
b(F)o(or)24 b(e)o(xample,)h(here)f(is)i(a)f(v)n(alid)2049
1971 y(judgement:)2524 2162 y FQ(`)2556 2112 y FA(u)2625
2162 y FI(\(\()p FK(\013;)9 b(\014)p FI(\))2902 2114
y FK(:)2882 2162 y FI(=)30 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.99825
neg 48.86026 8.99474 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial(\()p FL(Int)r FK(;)9 b FL(Bool)q FI(\))k(\))19
b Fg( )3542 2160 y FP(/)3533 2162 y(0)2049 2352 y FT(where)33
b(the)h(empty)f(substitution)3095 2350 y FP(/)3086 2352
y(0)h FT(plainly)g(is)h(not)e(a)i(uni\002er)e(of)2049
2452 y(the)25 b(input)f(constraints.)37 b(This)25 b(amounts)f(to)h
(saying)f(that)h(the)f(algo-)2049 2551 y(rithm)c(may)g(do)h(less)g
(type)g(re\002nement)e(than)h(w)o(ould)g(be)h(justi\002ed)f(in)2049
2651 y(an)25 b(e)o(xplicitly-typed)e(program.)38 b(Furthermore,)24
b FQ(`)3542 2606 y FA(u)3618 2651 y FT(may)h(succeed)2049
2750 y(e)n(v)o(en)19 b(when)h(there)g FS(is)h FT(no)f(uni\002er)g(of)g
(the)g(stripped)f(constraints.)25 b(F)o(or)2049 2850
y(e)o(xample,)2335 3040 y FQ(`)2367 2991 y FA(u)2435
3040 y FI(\(\()p FK(\013;)9 b FL(Int)r FI(\))2785 2993
y FK(:)2765 3040 y FI(=)18 b(\()p FL(Int)q FK(;)k @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 21.8999 7.67493 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FL(Bool)14 b FI(\)\))19 b Fg( )f
FI([)p FK(\013)g FQ(7)p FJ(!)h FL(Int)q FI(])2049 3231
y FT(This)32 b(means)f(that)h(the)g(algorithm)e(may)h(not)g(detect)h
(all)g(inacces-)2049 3330 y(sible)40 b(branches)d(of)i(a)h
FL(case)p FT(;)51 b(which)38 b(is)j(perfectly)c(sound,)43
b(be-)2049 3430 y(cause)27 b(such)g(branches)f(are)h(admitted)f(in)h
(the)g(core)g(language)e(and)2049 3529 y(need)f(not)g(be)g(well-typed.)
36 b(Another)23 b(v)n(ariant)g(of)h(the)h(same)f(sort)h(is)2049
3629 y FQ(`)2081 3584 y FA(u)2151 3629 y FI(\()p FK(\013)2278
3582 y(:)2258 3629 y FI(=)33 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 37.82884 7.0399 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FK(\013)18 b FJ(!)g FL(Int)c FI(\))20 b
Fg( )g FI([)p FK(\013)2941 3582 y(:)2921 3629 y FI(=)33
b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 37.82884 7.0399 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\013)18 b
FJ(!)g FL(Int)c FI(])p FT(.)34 b(Again,)23 b(the)h(stripped)2049
3729 y(v)o(ersion)35 b(w)o(ould)g(be)h(rejected)f(\(by)h(the)g(occurs)f
(check\),)k(b)n(ut)d(the)2049 3828 y(source-language)26
b(type)i(system)h(may)g(not)g(detect)g(the)g(inaccessi-)2049
3928 y(ble)20 b(branch.)2049 4087 y(A)e(delicate)f(point)g(of)g(rule)i
FR(U)t(N)t(I)t(F)i FT(is)d(that)f(we)h(are)g(careful)e(to)i(say)f(that)
2049 4186 y(\223)p FK(\022)2139 4156 y Fq(0)2176 4186
y FT(is)f(a)g(most)f(general)g(uni\002er)f(of)h FK(\005)3122
4156 y Fq(0)3143 4186 y FT(\224)h(rather)f(than)g(\223)p
FK(\022)3655 4156 y Fq(0)3689 4186 y FI(=)f FO(U)5 b
FI(\()p FK(\005)3939 4156 y Fq(0)3960 4186 y FI(\))p
FT(\224,)2049 4286 y(because)22 b(it)h(sometimes)f(mak)o(es)g(a)h(dif)n
(ference)d(which)i(w)o(ay)g(around)2049 4385 y(the)c(uni\002er)g
(chooses)f(to)i(solv)o(e)e(tri)n(vial)h(constraints)g(of)g(form)f
FK(\013)3915 4338 y(:)3895 4385 y FI(=)f FK(\014)p FT(.)2049
4485 y(F)o(or)k(e)o(xample,)e(consider)h(this)i(simple)f(Hask)o(ell)h
(98)f(program:)p Black Black 2134 4644 a FL(f)42 b(=)h(\\x.)g(case)h(x)
f(of)g({)g(Just)g(y)g(->)g(y)g(})2049 4802 y FT(One)55
b(v)n(alid)g(typing)f(deri)n(v)n(ation)g(gi)n(v)o(es)g
FL(x)j FT(the)e(w)o(obbly)f(type)2061 4902 y @beginspecial
@setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 3.03992
neg 35.80661 7.67493 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FL(Maybe)21 b FK(\013)12 b FT(.)25
b(No)n(w)20 b(we)h(apply)e(rule)j FR(P)t(C)t(O)t(N)h
FT(to)d(the)g FL(case)i FT(pattern:)j(the)2049 5001 y
FL(Maybe)d FT(constructor)17 b(will)k(bind)d(a)i(fresh)f(type)g(v)n
(ariable,)f(say)i FK(\014)p FT(,)g(and)2049 5101 y(we)25
b(try)f(to)g(\002nd)h FK(\022)2585 5071 y Fq(00)2647
5101 y FT(such)f(that)h FQ(`)20 b FI(\()p FL(Maybe)j
FK(\014)3406 5054 y(:)3386 5101 y FI(=)e FL(Maybe)34
b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 8.08456 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\013)13 b
FI(\))21 b Fg( )f FK(\022)3991 5071 y Fq(00)4029 5101
y FT(.)2049 5201 y(T)-7 b(o)33 b(do)g(this)g(we)g(split)h(the)f
(constraints)f(into)h FK(\005)3503 5171 y Fq(0)3549 5201
y FI(=)25 b(\()p FL(Maybe)j FK(\014)4007 5154 y(:)3987
5201 y FI(=)2049 5300 y FL(Maybe)h FK(\015)p FI(\))p
FT(,)40 b(and)35 b FK(\022)28 b FI(=)f([)p FK(\015)f
FQ(7)p FJ(!)40 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 8.08456 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial
FK(\013)12 b FI(])p FT(.)73 b(No)n(w)36 b(here)f(is)i(the)f(subtlety:)
2049 5400 y(there)41 b(are)h(tw)o(o)g(possible)f(most)h(general)f
(uni\002ers)g FK(\022)3716 5370 y Fq(0)3737 5400 y FT(,)48
b(namely)p Black 1908 5649 a(11)p Black eop end
%%Page: 12 12
TeXDict begin 12 11 bop Black Black -150 83 a FI([)p
FK(\014)21 b FQ(7)p FJ(!)g FK(\015)p FI(])k FT(and)g
FI([)p FK(\015)20 b FQ(7)p FJ(!)i FK(\014)p FI(])p FT(.)39
b(The)25 b(former)e(produces)h(the)h(desired)f(re-)-150
183 y(sult)k FK(\022)51 153 y Fq(00)112 183 y FI(=)22
b(\()p FK(\022)14 b FQ(\016)g FK(\022)398 153 y Fq(0)419
183 y FI(\))f Fu(j)482 195 y FA(\013;\014)612 183 y FI(=)22
b([)p FK(\014)h FQ(7)p FJ(!)35 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 8.08456 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FK(\013)12 b FI(])p FT(.)48 b(But)28 b(the)f(latter)h
(produces)-150 282 y FK(\022)-97 252 y Fq(00)-41 282
y FI(=)18 b([)p FK(\015)g FQ(7)p FJ(!)h FK(\014)p FI(])9
b Fu(j)339 294 y FA(\013;\014)459 282 y FI(=)549 280
y FP(/)540 282 y(0)20 b FT(which)g(f)o(ails)h(to)f(type)g(the)g
(program.)-150 474 y(Although)f(this)i(is)g(trick)o(y)f(stuf)n(f,)g(an)
g(inference)f(algorithm)g(can)h(eas-)-150 574 y(ily)30
b(\002nd)f(a)g(\223best\224)h(most)f(general)f(uni\002er:)43
b FS(whene)o(ver)29 b(ther)m(e)g(is)h(a)-150 674 y(c)o(hoice)o(,)36
b(the)e(uni\002cation)d(algorithm)i(should)g(substitute)g(for)i(the)
-150 773 y(type)17 b(variables)h(bound)d(by)j(the)f(pattern)p
FT(.)24 b(Speci\002cally)-5 b(,)17 b(when)g(solv-)-150
873 y(ing)e(a)h(tri)n(vial)f(constraint)g FK(\013)669
826 y(:)649 873 y FI(=)f FK(\014)p FT(,)j(where)e FK(\014)h
FT(is)g(bound)e(by)h(the)g(pattern)-150 973 y(and)21
b FK(\013)i FT(is)g(not,)f(the)g(uni\002er)f(should)g(substitute)h
FI([)p FK(\014)d FQ(7)p FJ(!)h FK(\013)p FI(])p FT(;)j(and)f(vice)-150
1072 y(v)o(ersa.)h(The)15 b(intuition)g(is)i(that)f(these)g
(pattern-bound)c(type)j(v)n(ariables)-150 1172 y(only)k(scope)g(o)o(v)o
(er)f(a)h(single)h(case)g(branch,)d(so)j(we)g(should)e(do)h(all)h(we)
-150 1271 y(can)g(to)g(re\002ne)g(them)g(into)g(more)f(globally-v)n
(alid)f(types.)-150 1464 y(A)g(minor)e(dif)n(ference)f(from)h(Section)h
(3)g(is)h(that)f(we)h(treat)f(uni\002cation)-150 1563
y(f)o(ailure)25 b(as)h(a)g(type)f(error)m(,)g(because)g(rule)i
FR(U)t(N)t(I)t(F)h FT(simply)d(f)o(ails)h(if)g FK(\005)1830
1533 y Fq(0)-150 1663 y FT(has)e(no)g(uni\002er)-5 b(.)37
b(This)25 b(sa)n(v)o(es)f(tw)o(o)h(rules,)g(and)f(mak)o(es)g(more)f
(sense)-150 1763 y(from)g(a)h(programming)c(point)j(of)g(vie)n(w)-5
b(,)24 b(b)n(ut)f(loses)i(subject)e(reduc-)-150 1862
y(tion.)33 b(W)-7 b(e)24 b(do)e(not)g(mind)h(the)f(latter)m(,)h
(because)g(we)g(treat)g(soundness)-150 1962 y(by)e(gi)n(ving)g(a)h
(type-directed)e(translation)h(into)g(our)g(core)h(language,)-150
2061 y(rather)16 b(than)h(by)g(gi)n(ving)f(a)h(dynamic)f(semantics)h
(for)f(the)i(source)e(lan-)-150 2161 y(guage)j(directly)-5
b(.)-150 2381 y Fv(4.6)90 b(Smart)23 b(function)f(application)-150
2565 y FT(The)k(rules)h(we)g(ha)n(v)o(e)f(presented)g(will)h(type)g
(man)o(y)e(programs,)i(b)n(ut)-150 2657 y(there)22 b(are)g(still)h
(some)f(une)o(xpected)d(f)o(ailures.)31 b(Here)22 b(is)h(an)f(e)o
(xample)-150 2748 y(\(c.f.)i([BS02]\):)p Black Black
-74 2932 a FM(data)39 b(Equal)f(a)h(b)f(where)2 3023
y(Eq)h(::)f(Equal)h(a)f(a)-74 3114 y(data)h(Rep)f(a)g(where)2
3206 y(RI)h(::)f(Rep)g(Int)2 3297 y(RP)h(::)f(Rep)g(a)h(->)f(Rep)g(b)h
(->)f(Rep)g(\(a,b\))-74 3480 y(test)h(::)f(Rep)g(a)h(->)f(Rep)g(b)h(->)
f(Maybe)h(\(Equal)f(a)h(b\))-74 3571 y(test)g(RI)f(RI)g(=)h(Just)f(Eq)
-74 3662 y(test)h(\(RP)f(a1)g(b1\))h(\(RP)f(a2)h(b2\))2
3754 y(=)g(case)f(test)h(a1)f(a2)g(of)155 3845 y(Nothing)h(->)f
(Nothing)155 3936 y(Just)g(Eq)h(->)f(case)h(test)f(b1)g(b2)h(of)650
4028 y(Nothing)g(->)f(Nothing)650 4119 y(Just)h(Eq)f(->)g(Eq)-150
4311 y FT(A)30 b(non-bottom)d(v)n(alue)i FL(Eq)i FT(of)e(type)g
FL(Equal)44 b(t1)f(t2)31 b FT(is)g(a)f(witness)-150 4411
y(that)c(the)f(types)h FL(t1)g FT(and)g FL(t2)g FT(are)g(the)f(same;)k
(that)d(is)g(why)f(the)g(con-)-150 4510 y(structor)c(has)g(type)g
FQ(8)p FK(\013)e(:)g FL(Equal)i FK(\013)d(\013)p FT(.)29
b(The)21 b(dif)n(\002culty)f(with)i(typing)-150 4610
y(this)h(comes)e(from)g(the)h(guessing)g(in)m(v)n(olv)o(ed)d(in)k
(function)d(instantia-)-150 4710 y(tion)h(\(rule)i FR(I)t(N)t(S)t(T)r
FT(\).)29 b(Ev)o(en)21 b(if)h(we)f(kno)n(w)g(that)h FK(x)c
FI(:)i FL(Int)q FT(,)i(say)-5 b(,)21 b(the)h(term)-150
4809 y FI(\()p FL(id)17 b FK(x)p FI(\))p FT(,)g(where)g
FL(id)h FT(is)g(the)f(identity)g(function,)e(will)j(ha)n(v)o(e)f(type)
29 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 16.79993 7.0399 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FL(Int)13
b FT(.)-150 4909 y(In)22 b FL(test)p FT(,)j(therefore,)c(no)i(useful)f
(information)e(is)j(e)o(xposed)e(to)i(type)-150 5009
y(re\002nement)g(in)h(the)h FL(case)h FT(e)o(xpressions,)e(because)f
(both)h(scrutinise)-150 5108 y(the)j(result)g(of)g(a)g(call)g(to)h(a)f
(polymorphic)d(function)h(\()p FL(test)k FT(itself\),)-150
5208 y(which)20 b(will)h(be)f(instantiated)f(with)i(w)o(obbly)e(types.)
-150 5400 y(This)27 b(is)h(readily)f(\002x)o(ed)f(by)h(treating)f(a)i
(function)e(application)f(as)j(a)p Black Black 2049 83
a(whole,)19 b(thus:)2372 245 y FI(\()p FK(f)f FI(:)h
FQ(8)p 2540 197 55 4 v FK(\013)f(:)p 2654 197 43 4 v
18 w(\034)g FJ(!)h FK(\035)p FI(\))f FQ(2)h FK(\000)175
b(\000)27 b FQ(`)3315 266 y Ff(*)p 3381 178 160 4 v 3381
245 a FK(t)18 b FI(:)h FK(\034)3521 221 y Fq(0)2294 358
y FK(\000)28 b FQ(`)2390 309 y FA(m)p 2476 310 55 4 v
2476 358 a FK(\013)11 b FI(;)21 b(\()p 2613 284 213 4
v FK(\034)2694 311 y(:)2674 358 y FI(=)d FK(\034)2805
334 y Fq(0)2826 358 y FI(\))h Fg( )f FK(\022)166 b FQ(`)3241
379 y FA(\016)3300 358 y FK(\022)p FI(\()p FK(\035)p
FI(\))19 b Fu(\030)f FK(\035)3598 324 y Fq(0)p 2294 401
1325 4 v 2760 481 a FK(\000)28 b FQ(`)2875 502 y FA(\016)2933
481 y FK(f)p 2987 419 35 4 v 19 w(t)18 b FI(:)g FK(\035)3132
447 y Fq(0)3649 421 y Fk(A)t(P)t(P)t(N)2049 649 y FT(The)j(idea)g(is)i
(that)e(we)h(guess)g(\(rather)e(than)h(check\))f(the)i(ar)o(guments,)
2049 749 y(obtaining)j(types)p 2593 681 71 4 v 27 w FK(\034)2643
725 y Fq(0)2691 749 y FT(that)i(e)o(xpress)g(our)f(certainty)g(\(or)h
(otherwise\))2049 848 y(about)33 b(these)i(types.)68
b(Then)33 b(we)i(use)g(a)g(ne)n(w)f(judgement)f FQ(`)3883
803 y FA(m)3985 848 y FT(to)2049 948 y(match)24 b(the)h(function')-5
b(s)24 b(e)o(xpected)g(ar)o(gument)e(types)p 3620 900
43 4 v 25 w FK(\034)j FT(against)g(the)2049 1047 y(actual)j(types.)47
b(Finally)-5 b(,)29 b(we)f(check)f(that)h(the)g(result)g(types)f(match)
2049 1147 y(up.)2049 1293 y(The)d(judgement)f FK(\000)29
b FQ(`)2676 1248 y FA(m)p 2765 1245 55 4 v 2765 1293
a FK(\013)13 b FI(;)22 b FK(\005)f Fg( )g FK(\022)k FT(\002nds)f(an)h
(instantiation)e(of)i(the)2049 1393 y(type)f(v)n(ariables)p
2540 1344 V 24 w FK(\013)h FT(that)g(satis\002es)h FK(\005)p
FT(.)39 b(T)-7 b(o)25 b(maximise)f(information,)2049
1492 y(we)30 b(w)o(ould)e(lik)o(e)i(it)g(to)g(\002nd)f(the)g(least-w)o
(obbly)f(instantiation)g(that)2049 1592 y(can,)35 b(something)c(that)i
(our)e(e)o(xisting)h(uni\002cation)f(judgement)g FQ(`)4000
1547 y FA(u)2049 1691 y FT(also)21 b(does:)2147 1858
y FQ(`)2179 1809 y FA(u)2248 1858 y FK(\005)d Fg( )h
FK(\022)166 b(\000)27 b FQ(`)2735 1809 y FA(k)p 2798
1810 49 4 v 2798 1858 a FK(\035)165 b(\022)3065 1824
y Fq(0)3105 1858 y FI(=)18 b([)p 3227 1798 249 4 v 18
w FK(\013)h FQ(7)p FJ(!)30 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 7.37155 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FK(\035)h FI(])12 b FQ(\016)g FK(\022)d
Fu(j)p 3656 1837 51 3 v 13 x FA(\013)2403 1958 y FQ(8)p
FK(\034)2530 1911 y(:)2510 1958 y FI(=)19 b FK(\034)2642
1924 y Fq(0)2681 1958 y FQ(2)f FK(\005;)28 b FO(S)9 b
FI(\()p FK(\022)3002 1924 y Fq(0)3023 1958 y FI(\()p
FK(\034)p FI(\)\))19 b(=)f FO(S)9 b FI(\()p FK(\034)3396
1924 y Fq(0)3417 1958 y FI(\))p 2147 2001 1559 4 v 2573
2087 a FK(\000)28 b FQ(`)2669 2038 y FA(m)p 2755 2039
55 4 v 2755 2087 a FK(\013)11 b FI(;)21 b FK(\005)d Fg( )h
FK(\022)3093 2053 y Fq(0)3736 2020 y Fk(M)t(A)m(T)t(C)t(H)2049
2265 y FT(W)-7 b(e)24 b(use)f FQ(`)2347 2220 y FA(u)2420
2265 y FT(to)g(solv)o(e)f FK(\005)p FT(,)i(then)e(restrict)h(the)g
(domain)f(of)g(the)h(result,)2049 2365 y FK(\022)p FT(,)c(because)f(we)
h(w)o(ant)g(a)g(one-w)o(ay)e(match)h(only:)24 b(the)18
b(function)f(type)2049 2464 y(must)k(not)f(in\003uence)g(the)h(en)m
(vironment.)j(So)d FK(\022)10 b Fu(j)p 3456 2443 51 3
v 13 x FA(\013)3527 2464 y FT(is)22 b(a)f(substitution)2049
2564 y(that)28 b(binds)f(some,)i(b)n(ut)f(perhaps)e(not)i(all,)i(of)d
(the)p 3551 2516 55 4 v 28 w FK(\013)p FT(.)48 b(W)-7
b(e)28 b(e)o(xpand)2049 2664 y(this)23 b(substitution)f(to)g
(instantiate)h(the)f(remaining)p 3539 2616 V 21 w FK(\013)g
FT(with)h(guessed)2049 2763 y(types)p 2255 2703 74 4
v 42 w @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 7.37155 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FK(\035)12
b FT(,)33 b(yielding)c FK(\022)2738 2733 y Fq(0)2759
2763 y FT(.)54 b(Then)29 b(we)i(check)e(that)h FK(\022)3595
2733 y Fq(0)3646 2763 y FT(does)g(indeed)2049 2863 y(satisfy)21
b(the)f(constraints,)f(modulo)f(w)o(obbliness.)2049 3009
y(There)23 b(is)i(a)f(strong)f(duality)g(between)g(rules)i
FR(P)t(C)t(O)t(N)i FT(and)e FR(A)t(P)t(P)t(N)r FT(:)33
b(in)2049 3108 y(patterns,)22 b(the)g(type)g(re\002nement)f(is)i(deri)n
(v)o(ed)e(from)g(the)h(result)g(type,)2049 3208 y(and)d(is)i(applied)e
(to)h(the)f(ar)o(guments;)f(in)i(function)e(applications,)h(the)2049
3308 y(type)27 b(re\002nement)f(is)j(deri)n(v)o(ed)d(from)h(the)g(ar)o
(gument)e(types,)30 b(and)d(is)2049 3407 y(applied)19
b(to)i(the)f(result.)2049 3545 y Fv(4.7)90 b(Lexically-scoped)21
b(type)h(v)o(ariables)2049 3692 y FT(Thus)33 b(f)o(ar)m(,)k(all)d(our)f
(type)g(annotations)f(ha)n(v)o(e)h(been)g(closed.)65
b(But)2049 3791 y(in)29 b(practice,)i(as)f(programs)d(scale)j(up,)h(it)
e(is)i(essential)e(to)h(be)f(able)2049 3891 y(to)k(write)f(open)g(type)
f(annotations;)37 b(that)c(is,)j(ones)c(that)h(mention)2049
3990 y(type)26 b(v)n(ariables)g(that)g(are)h(already)e(in)i(scope.)43
b(In)26 b(the)h(olden)e(days,)2049 4090 y(when)k(type)h(annotations)f
(were)g(optional)g(documentation,)h(open)2049 4190 y(type)18
b(signatures)g(were)h(desirable)f(b)n(ut)g(not)g(essential,)i(b)n(ut)e
(no)n(w)g(that)2049 4289 y(type)h(annotations)g(are)h(sometimes)f
(mandatory)-5 b(,)17 b(it)k(must)f(be)g(possi-)2049 4389
y(ble)g(to)h(write)f(them.)2049 4535 y(W)-7 b(e)31 b(therefore)d(add)i
(le)o(xically)f(scoped)g(type)g(v)n(ariables)g(as)i(an)f(or)n(-)2049
4634 y(thogonal)22 b(addition)h(to)h(the)h(language)d(we)j(ha)n(v)o(e)e
(presented)g(so)h(f)o(ar)-5 b(.)2049 4734 y(The)33 b(e)o(xtensions)g
(are)h(these.)65 b(First,)38 b(in)c(a)g(type-annotated)d(term)2049
4834 y FI(\()p FK(t)p FL(::)q FK(ty)p FI(\))p FT(,)d(the)f(source)e
(type)h FK(ty)h FT(may)f(be)h(open.)43 b(Second,)26 b(the)h(en-)2049
4933 y(vironment)22 b FK(\000)33 b FT(is)24 b(e)o(xtended)e(with)i(a)g
(binding)e(form,)h FK(a)d FI(=)h FK(\034)p FT(,)j(which)2049
5033 y(binds)16 b(a)h(source)f(type)h(v)n(ariable)e FK(a)i
FT(to)g(a)g(type)g FK(\034)p FT(.)24 b(These)16 b(bindings)g(are)2049
5133 y(used)i(in)h(the)g(ob)o(vious)e(w)o(ay)h(when)g(kind-checking)d
(an)k(open)e(source)2049 5232 y(type)j FK(ty)p FT(.)25
b(Third,)19 b(patterns)h(are)g(e)o(xtended)e(with)i(a)h(ne)n(w)f(form)
2618 5399 y FK(p)83 b FI(::=)g FK(:)9 b(:)g(:)26 b Fu(j)f
FI(\()p FK(p)p FL(::)p 3254 5351 51 4 v 1 w FK(a)18 b(:)h(ty)p
FI(\))p Black 1908 5649 a FT(12)p Black eop end
%%Page: 13 13
TeXDict begin 13 12 bop Black Black -150 83 a FT(This)17
b(type-annotated)e(pattern)h(brings)g(into)h(scope)g(the)h(source)e
(type)-150 183 y(v)n(ariables)p 167 135 51 4 v 18 w FK(a)p
FT(,)j(with)g(the)g(same)g(scope)g(as)h(the)f(term)f(v)n(ariables)g
(bound)-150 282 y(by)24 b FK(p)p FT(,)h(and)f(ensures)g(that)g
FK(p)h FT(has)f(type)g FK(ty)p FT(.)37 b(Here)24 b(is)h(the)f(e)o(xtra)
g(rule)-150 382 y(for)c(the)g(pattern)f(judgement:)206
575 y FK(\000)-7 b(;)9 b(\001)18 b FQ(`)376 525 y FA(t)430
575 y FL(forall)p 702 527 V 20 w FK(a)g(:)h(ty)f Fg( )h
FQ(8)p 1063 527 55 4 v FK(\013)f(:)g(\034)260 680 y(\000)28
b FQ(`)356 631 y FA(m)p 442 632 V 442 680 a FK(\013)11
b FI(;)h FK(\022)p FI(\()p FK(\034)p FI(\))729 633 y
FK(:)709 680 y FI(=)19 b FK(\022)p FI(\()p FK(\034)919
646 y Fq(0)939 680 y FI(\))g Fg( )g FK(\022)1145 646
y Fq(0)402 789 y FK(\001)468 755 y Fq(0)508 789 y FI(=)f
FK(\001;)p 680 717 344 4 v 9 w(a)g FI(=)h FK(\022)884
765 y Fq(0)905 789 y FI(\()p FK(\013)p FI(\))91 895 y
FK(\000)h FI(;)12 b FK(\001)243 861 y Fq(0)275 895 y
FI(;)g FK(\022)18 b FQ(`)401 846 y FA(p)466 895 y FK(p)h
Fg( )f FK(p)691 861 y Fq(0)730 895 y FI(:)h FK(\022)820
861 y Fq(0)841 895 y FI(\()p FK(\022)p FI(\()p FK(\034)p
FI(\)\))12 b(;)f FK(\001)1165 861 y Fq(00)1215 895 y
FI(;)g FK(\022)1297 861 y Fq(00)p 44 938 1339 4 v 44
1024 a FK(\000)20 b FI(;)11 b FK(\001)h FI(;)g FK(\022)18
b FQ(`)326 975 y FA(p)391 1024 y FI(\()p FK(p)p FL(::)p
557 976 51 4 v 1 w FK(a)g(:)g(ty)p FI(\))h Fg( )f FK(p)959
990 y Fq(0)999 1024 y FI(:)g FK(\034)1085 990 y Fq(0)1117
1024 y FI(;)12 b FK(\001)1213 990 y Fq(00)1262 1024 y
FI(;)g FK(\022)1345 990 y Fq(00)1413 957 y Fk(P)o(A)t(N)t(N)t(O)r(T)
-150 1204 y FT(W)-7 b(e)23 b(be)o(gin)d(by)h(kind-checking)d(the)k
(source)e(type,)i FK(ty)p FT(,)g(temporarily)-150 1312
y(b)n(uilding)28 b(a)i FL(forall)p FT(')l(d)g(source)f(type)g(so)g
(that)g FQ(`)1279 1267 y FA(t)1344 1312 y FT(will)h(generate)e(a)-150
1412 y(polymorphic)20 b(type)k FQ(8)p 512 1364 55 4 v
FK(\013)c(:)g(\034)p FT(.)36 b(Then)22 b(we)i(use)g(the)g(same)f
(judgement)-150 1512 y FQ(`)-118 1466 y FA(m)-26 1512
y FT(that)g(we)h(introduced)d(in)i(Section)g(4.6)g(to)g(instantiate)g
(this)h(type)-150 1611 y(to)17 b(match)f(the)g(incoming)f(type)h
FK(\034)811 1581 y Fq(0)832 1611 y FT(,)i(being)d(careful)h(to)h
(\002rst)g(apply)f(the)-150 1711 y(current)j(type)i(re\002nement.)k
(Finally)c(we)g(check)f(the)h(nested)f(pattern)-150 1810
y FK(p)p FT(,)d(in)f(the)g(e)o(xtended)e(type)i(en)m(vironment.)k(A)d
(le)o(xically-scoped)c(type)-150 1910 y(v)n(ariable)21
b(scopes)h(o)o(v)o(er)f(all)i(patterns)e(to)i(the)f(right,)g(so)g(that)
h(the)f(pat-)-150 2010 y(tern)k FL(\(x::a.Term)46 b(a,)d(y::a\))29
b FT(mak)o(es)e(sense.)44 b(That)27 b(is)g(why)f(we)-150
2109 y(\223thread\224)c(the)i(en)m(vironment)d FK(\001)j
FT(through)e(the)h(pattern)g(judgements)-150 2209 y(\(c.f.)h(Section)c
(3.2\).)-150 2358 y(Notice)e(that)g(a)h(le)o(xically-scoped)d(type)h(v)
n(ariable)h(is)h(simply)f(a)g(name)-150 2457 y(for)29
b(an)h(\(internal\))e(type,)j(not)e(necessarily)g(a)i(type)e(v)n
(ariable.)52 b(F)o(or)-150 2557 y(e)o(xample,)32 b(the)e(term)h
FL(\(\\\(x::a.a\).)46 b(x)d(&&)g(x\))32 b FT(is)f(perfectly)f(ac-)-150
2657 y(ceptable:)51 b(the)34 b(source)f(type)g(v)n(ariable)g
FL(a)h FT(is)h(bound)d(to)h(the)h(type)-150 2756 y FL(Bool)p
FT(.)29 b(More)20 b(precisely)-5 b(,)19 b(it)j(is)g(bound)d(to)i(the)f
(type)33 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.62494
neg 21.8999 7.67493 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end
 
@endspecial FL(Bool)14
b FT(,)21 b(because)-150 2856 y(a)30 b(scoped)f(type)h(v)n(ariable)f
(maybe)f(be)i(bound)e(to)i(a)h(w)o(obbly)d(type,)-150
2956 y(and)19 b(the)g(type)h(system)f(indeed)g(says)h(that)f
FL(x)p FT(')-5 b(s)21 b(type)e(will)h(be)g(w)o(obbly)-150
3055 y(in)g(this)h(case.)-150 3204 y(This)32 b(means)f(that)h(pattern)f
(type)g(signatures)g(cannot)f(be)i(used)f(to)-150 3304
y(specify)38 b(a)h(completely)f(rigid)g FS(polymorphic)f
FT(type,)43 b(which)38 b(is)i(a)-150 3403 y(slight)20
b(pity)-5 b(.)25 b(F)o(or)19 b(e)o(xample,)g(if)h(we)h(write)p
Black Black -74 3560 a FM(eval)39 b(=)f(\\\(x::a.Term)h(a\).)g
(\(...body...)g(::)f(a\))-150 3717 y FT(the)19 b(type)g(of)g
FL(x)h FT(will)g(be)g FL(Term)31 b @beginspecial @setspecial
 tx@Dict begin STP newpath 0.5 SLW 0  setgray  0. true 1.5 neg 1.5
neg 8.08456 6.09137 .5 Frame  gsave 0.5 SLW 0  setgray 0 setlinecap
stroke  grestore end


@endspecial FK(\013)12 b FT(,)20 b(to)f(re\003ect)h(the)f(uncertainty)
f(about)-150 3808 y(what)25 b(type)f FL(a)h FT(will)g(ultimately)f(be)h
(bound)e(to,)i(and)f(hence)g(no)g(type)-150 3899 y(re\002nement)17
b(will)j(tak)o(e)e(place,)h(and)f(the)h(de\002nition)e(will)j(be)e
(rejected)-150 3991 y(\(at)31 b(least)h(if)g FL(..body..)i
FT(requires)c(type)h(re\002nement\).)57 b(The)30 b(only)-150
4082 y(w)o(ay)25 b(to)h(gi)n(v)o(e)e(a)h(completely)f(rigid)h
(polymorphic)d(type)i(is)j(using)d(a)-150 4173 y(type)c(signature)f(on)
h(a)g(term,)g(or)g(on)g(a)g FL(letrec)j FT(binding:)p
Black Black -74 4314 a FM(eval)39 b(::)f(forall)h(a.)f(Term)h(a)f(->)g
(a)g(=)h(\\x.)f(...body...)-150 4454 y Fv(4.8)90 b(Scope)22
b(and)g(implicit)i(quanti\002cation)-150 4604 y FT(A)e(notationally)d
(a)o(wkw)o(ard)h(feature)g(of)h(the)g(design)g(we)g(describe)g(is)-150
4704 y(the)f(\223)p 9 4656 51 4 v FK(a)e(:)p FT(\224)j(pre\002x)f(on)g
(a)h(pattern)e(type)h(signature,)f(which)h(brings)g(the)-150
4803 y(type)h(v)n(ariables)p 335 4755 V 21 w FK(a)h FT(into)g(scope.)29
b(In)22 b(our)f(real)h(source)f(language,)f(we)-150 4903
y(use)f(an)g(implicit-quanti\002cation)d(rule)i(that)h(allo)n(ws)g(us)g
(to)g(write,)g(for)-150 5003 y(e)o(xample)p Black Black
-65 5152 a FL(eval)43 b(=)g(\\\(x::Term)i(a\).)f(...etc...)-150
5300 y FT(with)24 b(no)g(\223)p FL(a.)p FT(\224)h(pre\002x.)36
b(The)23 b(rule)h(we)h(use)f(is)h(this:)33 b(an)o(y)24
b(type)f(v)n(ari-)-150 5400 y(able)h(that)g(is)h(mentioned)d(in)i(the)g
(pattern)f(type)g(annotation,)g(and)h(is)p Black Black
2049 83 a(not)30 b(already)f(in)h(scope,)i(is)f(brought)d(into)h(scope)
h(by)g(the)g(pattern.)2049 183 y(This)20 b(is)i(the)e(same)h(rule)f
(that)g(we)h(use)f(for)g(adding)f(implicit)h FL(forall)2049
282 y FT(quanti\002ers)25 b(to)h(type)f(signatures)g(on)h(terms.)42
b(One)26 b(could)f(imagine)2049 382 y(other)19 b(choices,)h(b)n(ut)g
(it)h(is)g(an)f(orthogonal)e(concern)g(to)j(this)f(paper)-5
b(.)2049 521 y(Hask)o(ell)21 b(allo)n(ws)f(separate,)f(declaration)g
(type)h(signatures,)f(thus:)p Black Black 2125 659 a
FM(eval)39 b(::)f(Term)h(a)f(->)g(a)2125 751 y(eval)h(=)f(...)2049
898 y FT(It)24 b(is)h(\(ar)o(guably\))c(attracti)n(v)o(e)i(to)h(allo)n
(w)g(the)g(uni)n(v)o(ersally-quanti\002ed)2049 997 y(type)17
b(v)n(ariables)f(of)g(such)h(a)h(signature)e(to)h(scope,)g(le)o
(xically)-5 b(,)16 b(o)o(v)o(er)g(the)2049 1097 y(body)21
b(of)h FL(eval)j FT([MC97)o(,)e(SSW04)o(].)33 b(Again)21
b(this)i(is)h(an)e(orthogonal)2049 1197 y(concern,)c(b)n(ut)i(one)g
(that)g(readily)g(w)o(orks)g(with)g(our)f(main)h(design.)2049
1335 y Fv(4.9)90 b(Pr)n(operties)21 b(of)i(the)g(type)f(system)2049
1483 y FT(Our)27 b(system)h(is)h(sound,)f(in)g(the)g(sense)g(that)f(an)
o(y)g(well-typed)g(pro-)2049 1583 y(gram)19 b(translates)i(to)f(a)h
(well-typed)d(core-language)f(program:)p Black 2051 1730
a(T)t FR(H)t(E)t(O)t(R)t(E)t(M)45 b FT(4)t(.)t(1)t(.)p
Black 43 w FS(If)39 b FK(\000)27 b FQ(`)2837 1753 y FA(\016)2896
1730 y FK(t)18 b Fg( )h FK(t)3093 1700 y Fq(0)3131 1730
y FI(:)g FK(\034)h FS(then)g FO(S)9 b FI(\()p FK(\000)g
FI(\))19 b FQ(`)f FK(t)3686 1700 y Fq(0)3725 1730 y FI(:)g
FO(S)9 b FI(\()p FK(\034)p FI(\))2049 1877 y FT(W)-7
b(e)18 b(ha)n(v)o(e)f(pro)o(v)o(ed)d(this)k(theorem)d(for)i(the)g
(system)g(of)g(Figure)f(6,)h(aug-)2049 1977 y(mented)d(with)i(the)g
(smart)f(function-application)d(rule)j(\(Section)g(4.6\))2049
2076 y(and)22 b(le)o(xically-scoped)e(type)j(v)n(ariables)f(\(Section)g
(4.7\).)32 b(The)22 b(main)2049 2176 y(trick)o(y)17 b(point)h(in)g(the)
g(proof)e(is)k(to)e(sho)n(w)g(that)g(the)g(partial)g(re\002nement)2049
2275 y(generated)h(by)g FQ(`)2528 2230 y FA(u)2578 2275
y FT(,)i(if)g(it)g(succeeds,)e(yields)h(a)h(well-typed)e(core)h(pro-)
2049 2375 y(gram.)k(The)c(k)o(e)o(y)g(property)e(is)j(this:)p
Black 2051 2522 a(L)t FR(E)t(M)t(M)t(A)45 b FT(4)t(.)t(2)t(.)p
Black 43 w FS(If)25 b FQ(`)2660 2477 y FA(u)2730 2522
y FK(\005)c Fg( )f FK(\022)25 b FS(then)f(either)h FO(S)9
b FI(\()p FK(\005)p FI(\))25 b FS(has)g(no)f(uni\002er)-9
b(,)2049 2622 y(or)21 b FO(S)9 b FI(\()p FK(\005)p FI(\))21
b FS(has)f(a)g(most)h(g)o(ener)o(al)e(uni\002er)h FK(\022)3280
2592 y Fq(0)3321 2622 y FS(suc)o(h)g(that)2049 2721 y
FK(\022)2102 2691 y Fq(0)2141 2721 y FI(=)f FK(\022)2276
2691 y Fq(0)2308 2721 y FQ(\016)12 b FO(S)d FI(\()p FK(\022)p
FI(\))p FS(.)2049 2868 y FT(W)-7 b(e)17 b(say)f(that)g
FO(S)9 b FI(\()p FK(\022)p FI(\))17 b FT(is)f(a)h FS(pr)m(e-uni\002er)f
FT(of)f FO(S)9 b FI(\()p FK(\005)p FI(\))p FT(:)25 b(it)16
b(is)h(not)e(necessarily)2049 2968 y(a)21 b(uni\002er)m(,)e(b)n(ut)h
(it)h(is)g(\223on)e(the)i(w)o(ay\224)f(to)g(one)g(\(if)g(one)g(e)o
(xists)g(at)h(all\).)2049 3115 y(Furthermore,)50 b(our)45
b(system)h(is)h(a)f(conserv)n(ati)n(v)o(e)d(e)o(xtension)i(of)2049
3215 y(v)n(anilla)19 b(Hask)o(ell/ML)g(data)g(types.)24
b(The)19 b(latter)g(ha)n(v)o(e)g(types)g(of)g(form)2049
3314 y FQ(8)p 2095 3266 55 4 v FK(\013)h(:)p 2214 3266
43 4 v 21 w(\034)g FJ(!)g FK(T)p 2450 3266 55 4 v 29
w(\013)p FT(,)25 b(where)e(the)p 2904 3266 V 24 w FK(\013)h
FT(are)f(distinct.)35 b(Hence)24 b(rule)h FR(U)t(N)t(I)t(F)i
FT(is)2049 3414 y(guaranteed)14 b(to)j(succeed,)g(and)f(one)g(possible)
g(solution)g(is)i(al)o(w)o(ays)f(of)2049 3513 y(form)22
b FI([)p 2277 3465 218 4 v 20 w FK(\013)c FQ(7)p FJ(!)h
FK(\034)g FI(])p FT(,)25 b(where)d(the)h(pattern)f(has)i(type)e
FK(T)p 3559 3465 43 4 v 29 w(\034)p FT(.)34 b(This)24
b(substi-)2049 3613 y(tution)d(binds)h(only)f(the)i(pattern-bound)18
b(type)k(v)n(ariables)f(\(i.e.)31 b(does)2049 3713 y(not)c(re\002ne)f
(the)h(rest)h(of)e(the)h(en)m(vironment\))d(and)i(ensures)h(that)g(the)
2049 3812 y(sub-patterns)i(ha)n(v)o(e)h(e)o(xactly)g(the)h(e)o(xpected)
e(types.)56 b(It)31 b(w)o(ould)f(be)2049 3912 y(straightforw)o(ard,)18
b(albeit)i(tedious,)f(to)h(formalise)g(this)g(ar)o(gument.)2049
4109 y FU(5)99 b(Implementation)2049 4257 y FT(W)-7 b(e)41
b(ha)n(v)o(e)e(b)n(uilt)h(a)g(prototype)d(type)i(inference)f(engine)h
(for)g(the)2049 4356 y(source-language)29 b(type)i(system,)k(starting)d
(from)e(the)i(e)o(x)o(ecutable)2049 4456 y(prototype)27
b(described)h(by)h([PS04)o(].)52 b(This)30 b(baseline)f(algorithm)f(is)
2049 4556 y(quite)18 b(con)m(v)o(entional;)e(most)i(of)g(the)g(w)o(ork)
g(is)h(done)e(by)h(a)h(uni\002er)e(that)2049 4655 y(implements)24
b(an)h(e)n(v)o(er)n(-gro)n(wing)d(substitution)i(using)h(side)g(ef)n
(fects.)2049 4755 y(\223Guessed\224)30 b(types)g(are)g(implemented)e
(by)i(\223\003e)o(xible\224)f(meta)h(v)n(ari-)2049 4854
y(ables,)d(which)f(are)g(\003eshed)g(out)f(by)h(in-place)f(updates)g
(performed)2049 4954 y(by)31 b(the)g(uni\002er)-5 b(.)57
b(There)30 b(is)i(no)e(constraint)g(gathering;)k(in)d(ef)n(fect,)2049
5054 y(the)21 b(equality)f(constraints)g(are)h(solv)o(ed)f
(incrementally)-5 b(,)18 b(as)k(the)o(y)e(are)2049 5153
y(encountered.)2049 5300 y(By)27 b(design,)g(it)g(is)g(quite)f(easy)g
(to)g(support)f(our)h(ne)n(w)g(type)g(system.)2049 5400
y(Some)32 b(straightforw)o(ard)f(e)o(xtensions)g(are)i(required)d(to)j
(parse)g(the)p Black 1908 5649 a(13)p Black eop end
%%Page: 14 14
TeXDict begin 14 13 bop Black Black -150 83 a FT(ne)n(w)31
b(data)f(type)g(declarations,)i(and)e(to)h(e)o(xtend)f
FK(\000)40 b FT(with)31 b(the)f(con-)-150 183 y(structors)17
b(the)o(y)f(de\002ne.)23 b(W)-7 b(obbly)17 b(types)g(are)g(simple)g(to)
g(implement:)-150 282 y(the)o(y)i(simply)g FS(ar)m(e)h
FT(the)g(\003e)o(xible)f(meta)h(v)n(ariables)f(that)g(the)h(inference)
-150 382 y(engine)d(already)f(uses,)j(and)e(introduction)e(of)i(a)h(w)o
(obbly)f(type)g(in)h(the)-150 493 y(rules)24 b(\(e.g.)36
b(in)24 b FQ(`)342 448 y FA(inst)485 493 y FT(\))g(corresponds)e(to)i
(the)g(allocation)f(of)h(a)g(fresh)-150 593 y(\003e)o(xible)d(meta)g(v)
n(ariable.)27 b(In)m(v)n(ocations)19 b(of)i FK(push)g
FT(in)h(the)f(rules)g(cor)n(-)-150 693 y(respond)i(to)h(places)g(where)
g(the)g(inference)f(algorithm)f(must)i(force)-150 792
y(a)31 b(type)e(to)h(ha)n(v)o(e)g(a)h(certain)e(outermost)g(shape)h
(\(e.g.)54 b(be)30 b(of)g(form)-150 892 y FK(\034)-107
904 y FA(1)-43 892 y FJ(!)23 b FK(\034)106 904 y FA(2)146
892 y FT(\),)32 b(which)c(sometimes)h(requires)f(the)h(allocation)f(of)
h(fur)n(-)-150 992 y(ther)e(\003e)o(xible)f(meta)i(v)n(ariables.)45
b(One)27 b(also)g(has)h(to)f(tak)o(e)g(care)g(that)-150
1091 y(the)18 b(commonly-implemented)c(path-compression)h
(optimisation,)-150 1191 y(which)25 b(elminates)h(chains)f(of)h(\003e)o
(xible)f(meta)h(v)n(ariables,)g(does)g(not)-150 1290
y(thereby)19 b(elide)h(the)g(w)o(obbliness)g(altogether)-5
b(.)-150 1444 y(Match-uni\002cation)23 b(implements)h(the)i(w)o
(obbly-type-a)o(w)o(are)21 b(algo-)-150 1543 y(rithm)g(of)h(Section)f
(4.5,)h(and)f(is)i(implemented)c(entirely)i(separately)-150
1643 y(from)31 b(inference-uni\002cation.)55 b(Dif)n(ferent)30
b(type)h(re\002nements)g(ap-)-150 1742 y(ply)20 b(in)h(dif)n(ferent)d
(case)j(branches,)e(so)i(in-place)e(update)g(is)j(inappro-)-150
1842 y(priate,)c(and)f(the)i(match-uni\002cation)c(algorithm)i(instead)
h(generates)-150 1942 y(a)28 b(data)g(structure)e(representing)g(the)i
(type)f(re\002nement)f(e)o(xplicitly)-5 b(.)-150 2041
y(Rather)18 b(than)g(applying)e(the)i(type)g(re\002nement)f(eagerly)g
(to)h(the)h(en)m(vi-)-150 2141 y(ronment,)g(as)j(the)g(rules)f(do,)f
(we)i(perform)d(this)j(substitution)e(lazily)-5 b(,)-150
2241 y(by)22 b(carrying)e(do)n(wn)i(a)g(pair)g(of)g(the)g(type)g(en)m
(vironemt)e(and)i(the)g(cur)n(-)-150 2340 y(rent)e(re\002nement.)k(The)
c(inference-uni\002er)d(consults)j(\(b)n(ut)g(does)g(not)-150
2440 y(e)o(xtend\))h(the)h(type)g(re\002nement)f(during)f
(uni\002cation.)30 b(One)22 b(wrinkle)-150 2539 y(that)c(we)h(missed)f
(at)h(\002rst)g(is)g(that)f(the)h(uni\002er)e(must)h(also)h(consult)f
(the)-150 2639 y(type)28 b(re\002nement)f(when)h(performing)d(the)j
(occurs)g(check.)48 b(There)-150 2739 y(are)30 b(also)h(some)f
(occasions)f(where)h(we)g(must)g(eagerly)f(apply)h(the)-150
2838 y(type)c(re\002nement)f(to)h(an)g(entire)g(type,)h(such)f(as)h
(when)e(\002nding)h(the)-150 2938 y(free)20 b(v)n(ariables)f(of)h(a)h
(type)e(at)i(a)g(generalisation)d(point.)-150 3091 y(On)32
b(the)h(basis)g(of)f(this)h(e)o(xperiment,)g(the)f(changes)f(to)i(the)f
(infer)n(-)-150 3191 y(ence)c(algorithm)f(do)h(indeed)f(appear)g(to)i
(be)f(e)o(xtremely)f(localised)-150 3290 y(and)d(non-in)m(v)n(asi)n(v)o
(e,)e(as)j(we)f(hoped.)36 b(The)24 b(only)f(apparently-global)-150
3390 y(change)17 b(is)h(the)g(requirement)e(to)i(pair)f(up)h(the)g
(type)f(re\002nement)f(with)-150 3489 y(the)23 b(en)m(vironment,)e(b)n
(ut)i(the)g(monadic)f(frame)n(w)o(ork)f(we)i(use)h(mak)o(es)-150
3589 y(this)d(change)e(local)h(as)h(well.)-150 3798 y
FU(6)99 b(Related)26 b(w)o(ork)-150 3952 y FT(In)k(the)f(dependent)f
(types)i(community)-5 b(,)29 b(GADTs)h(ha)n(v)o(e)f(played)g(a)-150
4051 y(central)36 b(role)h(for)f(o)o(v)o(er)g(a)h(decade,)j(under)35
b(the)i(name)g FS(inductive)-150 4151 y(families)d(of)g(data)f(types)g
FT([Dyb91)n(].)65 b(Coquand)32 b(in)i(his)g(w)o(ork)f(on)-150
4251 y(dependently)k(typed)i(pattern)f(matching)g([Coq92)n(])i(also)g
(uses)g(a)-150 4350 y(uni\002cation)32 b(based)h(mechanism)f(for)g
(implementing)f(the)i(re\002ne-)-150 4450 y(ment)22 b(of)f(kno)n
(wledge)f(gained)g(through)g(pattern)h(matching.)29 b(These)-150
4550 y(ideas)k(were)g(incoporated)e(in)i(the)g(ALF)h(proof)d(editor)i
([Mag94)n(],)-150 4649 y(and)22 b(ha)n(v)o(e)h(e)n(v)n(olv)o(ed)e(into)
i(dependently-typed)18 b(programming)i(lan-)-150 4749
y(guages)i(such)g(as)i(Cayenne)d([Aug98)n(])i(and)f(Epigram)f([MM04)n
(].)33 b(In)-150 4848 y(the)17 b(form)f(presented)f(here,)i(GADTs)g
(can)g(be)g(re)o(garded)d(as)j(a)g(special)-150 4948
y(case)29 b(of)e(dependent)f(typing,)j(in)f(which)g(the)g(separation)f
(of)h(types)-150 5048 y(from)d(v)n(alues)h(is)h(maintained,)f(with)g
(all)g(the)h(adv)n(antages)d(and)h(dis-)-150 5147 y(adv)n(antages)19
b(that)h(this)h(phase)e(separation)g(brings.)-150 5300
y(Xi,)h(et)h(al.)-6 b(')h(s)21 b(w)o(ork)e(on)g(guarded)f(recursi)n(v)o
(e)h(data)h(types)f(closely)h(cor)n(-)-150 5400 y(responds)27
b(to)h(our)f(w)o(ork.)48 b(The)o(y)27 b(present)g(a)h(language)e(v)o
(ery)h(simi-)p Black Black 2049 83 a(lar)j(to)f(our)g(core)g(language)f
([XCC03)o(],)k(though)c(with)i(a)g(b)n(ug)e(that)2049
183 y(pre)n(v)o(ents)g(them)h(from)f(checking)g(some)h(f)o(airly)g
(useful)f(classes)j(of)2049 282 y(nested)20 b(patterns)h([SP03)o(,)g
(Remark)f(4.27].)25 b(Instead)20 b(of)h(using)f(uni\002-)2049
382 y(cation)f(in)g(the)g(speci\002cation)g(of)g(their)g(type)g
(system,)g(type-equality)2049 482 y(constraints)c(are)h(propagated)c
(around)i(the)i(typing)f(rules)g(and)g(solv)o(ed)2049
581 y(as)j(needed.)23 b(Their)16 b(type)h(inference)f(algorithm,)g(lik)
o(e)i(ours,)f(is)h(based)2049 681 y(upon)k(Pierce)i(and)f(T)l(urner')-5
b(s)22 b(local)i(type)f(inference)f([PT98)n(].)35 b(Also)2049
780 y(closely)21 b(related)f(is)h(Zenger')-5 b(s)20 b(system)h(of)g
(inde)o(x)o(ed)d(types)j([Zen97)n(],)2049 880 y(and)f(Xi')-5
b(s)22 b(language)d(Dependent)f(ML)j([XP99)o(];)g(in)g(both)f(cases,)h
(in-)2049 980 y(stead)26 b(of)h(constraints)e(o)o(v)o(er)g(type)h
(equalities,)h(the)g(constraint)e(lan-)2049 1079 y(guage)e(is)i
(enriched)d(to)i(include,)g(for)f(e)o(xample,)g(Presb)n(ur)o(ger)f
(arith-)2049 1179 y(metic)32 b(.)62 b(Finally)-5 b(,)35
b(Xi)e(generalises)e(both)h(these)g(languages)f(with)2049
1279 y(what)20 b(he)g(calls)h(an)f FS(applied)f(type)h(system)h
FT([Xi04)o(].)2049 1433 y(Chene)o(y)e(and)h(Hinze)g(e)o(xamine)f
(numerous)f(uses)j(of)f(what)h(the)o(y)e(call)2049 1533
y FS(\002r)o(st)25 b(class)f(phantom)e(types)i FT([CH03)o(,)g(Hin03)o
(].)36 b(Their)23 b(language)g(is)2049 1633 y(essentially)e(equi)n(v)n
(alent)d(to)j(ours)f(in)h(terms)g(of)f(e)o(xpressi)n(v)o(eness,)f(b)n
(ut)2049 1732 y(the)o(y)i(achie)n(v)o(e)f(type)h(re\002nement)f(via)i
(equality)e(constraint)g(clauses.)2049 1832 y(Sheard)28
b(and)g(P)o(asalic)i(use)f(a)g(similar)g(design)f(the)o(y)h(call)g
FS(equality-)2049 1932 y(quali\002ed)18 b(types)j FT(in)f(the)g
(language)f FK(\012)p FT(me)o(ga)f([SP04)o(].)2049 2086
y(Most)27 b(of)g(this)g(w)o(ork)f(concerns)g(type)g(checking)g(for)g
(GADTs,)j(b)n(ut)2049 2186 y(Simonet)23 b(and)g(Pottier)h(e)o
(xplicitly)e(tackle)i(type)f(inference)f([SP03)o(].)2049
2286 y(Their)g(w)o(ork)g(is)i(much)e(more)g(general)g(than)g(ours:)30
b(the)o(y)22 b(start)i(from)2049 2385 y(the)e(HM\(X\))h(constraint)e
(frame)n(w)o(ork,)g(and)h(generalise)f(it)i(to)g(a)g(lan-)2049
2485 y(guage)31 b(in)g(which)h(arbitrary)e(constraints)h(can)g(be)h
(used)f(to)h(guard)2049 2584 y(quanti\002cation.)70 b(Our)36
b(language)e(corresponds)f(to)j(instantiating)2049 2684
y(theirs)20 b(with)g(type)g(equality)f(constraints,)g(and)g(e)o
(xploiting)f(this)j(spe-)2049 2784 y(cial)g(case)h(seems)f(to)h(mak)o
(e)e(the)h(system)g(considerably)e(simpler)-5 b(.)28
b(In)2049 2883 y(their)j(search)g(for)g(tractable)f(inference,)j(the)o
(y)d(are)h(forced)f(to)i(im-)2049 2983 y(pose)24 b(tw)o(o)h
(undesirable)e(restrictions:)33 b(type)24 b(annotations)f(must)i(be)
2049 3083 y(closed,)17 b(and)g(their)g(system)h(embodies)e(tw)o(o)h
(independent)e(rule)i(sets,)2049 3182 y(one)29 b(dealing)f(with)h
(GADTs)g(and)g(the)g(other)f(with)i(ordinary)d(data)2049
3282 y(types.)50 b(Our)28 b(system)h(manages)e(to)i(a)n(v)n(oid)f(both)
g(these)g(shortcom-)2049 3381 y(ings;)33 b(it)c(w)o(ould)f(be)g
(interesting)g(to)h(get)f(a)h(more)f(detailed)g(insight)2049
3481 y(into)f(these)g(trade-of)n(fs,)f(perhaps)g(by)h(e)o(xpressing)e
(our)h(solution)g(in)2049 3581 y(their)20 b(frame)n(w)o(ork.)2049
3736 y(Our)g(w)o(obbly)f(types)i(correspond)c(v)o(ery)j(closely)g(to)g
(meta-v)n(ariables)2049 3835 y(in)25 b(an)g(implementation)d(of)j(type)
f(inference.)37 b(Nane)n(vski,)25 b(Pientka,)2049 3935
y(and)30 b(Pfenning)e(ha)n(v)o(e)i(de)n(v)o(eloped)e(an)i(e)o(xplicit)g
(account)f(of)h(meta-)2049 4034 y(v)n(ariables)18 b(in)h(terms)f(of)h
(a)g(modal)f(type)g(system)h([NPP03)o(].)24 b(It)19 b(w)o(ould)2049
4134 y(be)27 b(w)o(orthwhile)f(to)i(e)o(xamine)e(whether)g(their)h
(language)f(can)h(sub-)2049 4234 y(sume)i(our)f(w)o(obbly)f(types.)51
b(Our)29 b(w)o(obbly)e(types)i(also)g(propagate)2049
4333 y(uncertainty)37 b(in)i(a)g(f)o(ashion)f(that)h(has)g(the)g(\003a)
n(v)n(our)f(of)h(coloured)2049 4433 y(types)d(in)g(Odersk)o(y)f(and)g
(Zenger')-5 b(s)35 b(coloured)g(local)h(type)f(infer)n(-)2049
4533 y(ence)20 b([OZZ01)n(].)2049 4746 y FU(7)99 b(Conclusion)25
b(and)h(further)h(w)o(ork)2049 4902 y FT(W)-7 b(e)22
b(ha)n(v)o(e)e(much)f(left)i(to)g(do.)k(In)20 b(this)i(paper)d(we)i(ha)
n(v)o(e)f(not)g(formally)2049 5001 y(presented)14 b(an)h(inference)f
(algorithm)g(and)g(pro)o(v)o(ed)f(it)j(complete)e(with)2049
5101 y(respect)19 b(to)h(our)f(speci\002cation.)24 b(Our)19
b(claim)h(that)g(w)o(obbly)e(types)i(ac-)2049 5201 y(curately)27
b(re\003ect)i(the)f(uncertainty)e(of)i(real)g(algorithms)f(is,)k
(there-)2049 5300 y(fore,)k(not)d(formally)f(established.)61
b(W)-7 b(e)33 b(ha)n(v)o(e)f(b)n(uilt)h(a)g(prototype)2049
5400 y(implementation,)d(ho)n(we)n(v)o(er)m(,)g(and)g(we)g(are)g
(con\002dent)f(that)h(a)g(for)n(-)p Black 1908 5649 a(14)p
Black eop end
%%Page: 15 15
TeXDict begin 15 14 bop Black Black -150 83 a FT(mal)24
b(proof)f(is)i(within)f(reach.)36 b(Similarly)-5 b(,)24
b(our)f(claim)i(that)f(w)o(obbly)-150 183 y(types)k(can)f(co-e)o(xist)h
(smoothly)e(with)i(the)g(other)f(comple)o(xities)g(of)-150
282 y(Hask)o(ell')-5 b(s)32 b(type)f(system)g(is)h(rooted)e(in)i(the)f
(authors')f(\(rather)g(de-)-150 382 y(tailed\))i(e)o(xperience)f(of)h
(implementing)f(the)i(latter)-5 b(.)63 b(W)-7 b(e)33
b(are)g(en-)-150 482 y(gaged)g(in)h(a)h(full-scale)f(implementation)e
(in)i(GHC,)h(which)f(will)-150 581 y(pro)o(vide)18 b(concrete)h(e)n
(vidence.)-150 729 y(Ne)n(v)o(ertheless,)30 b(we)g(belie)n(v)o(e)e
(that)h(this)h(paper)e(tak)o(es)h(a)h(signi\002cant)-150
828 y(step)24 b(forw)o(ard.)32 b(The)23 b(literature)f(on)h(technical)g
(aspects)g(of)g(GADTs)-150 928 y(is)31 b(not)e(easy)h(going,)g(and)g
(the)f(system)h(of)g(Section)f(3)h(is)h(the)e(sim-)-150
1028 y(plest)j(we)g(ha)n(v)o(e)g(seen.)60 b(There)30
b(is)j(v)o(ery)e(little)i(literature)e(on)g(type)-150
1127 y(inference)22 b(for)h(GADTs,)h(and)f(ours)g(is)i(uniquely)c(po)n
(werful.)33 b(More)-150 1227 y(generally)-5 b(,)16 b(we)j(belie)n(v)o
(e)e(that)h(type)f(systems)i(will)g(increasingly)d(em-)-150
1326 y(body)34 b(a)j(blend)e(of)g(type)h(inference)e(and)h(programmer)n
(-supplied)-150 1426 y(type)21 b(annotations:)26 b(polymorphic)18
b(recursion,)i(higher)n(-rank)f(types,)-150 1526 y(and)32
b(GADTs,)j(are)d(all)h(e)o(xamples)e(of)h(this)g(trend,)i(and)e(there)g
(are)-150 1625 y(plenty)f(of)g(others)g(\(e.g.)58 b(sub-typing\).)f(Gi)
n(ving)31 b(a)g(precise,)j(pre-)-150 1725 y(dictable,)d(and)e
(implementable)e(speci\002cation)i(of)g(these)g(blended)-150
1825 y(type)g(systems)i(is)g(a)f(ne)n(w)g(challenge.)53
b(Bidirectional)29 b(type)g(infer)n(-)-150 1924 y(ence)20
b(is)g(one)g(po)n(werful)e(tool,)h(and)g(we)i(belie)n(v)o(e)d(that)i(w)
o(obbly)f(types,)-150 2024 y(our)g(main)h(contrib)n(ution,)e(are)i
(another)-5 b(.)-150 2171 y FS(Ac)n(knowle)m(g)o(ements.)92
b FT(W)-7 b(e)44 b(gratefully)d(ackno)n(wledge)f(generous)-150
2271 y(feedback)29 b(from)g(James)i(Chene)o(y)-5 b(,)32
b(Matthe)n(w)e(Fluet,)j(Ralf)e(Hinze,)-150 2371 y(Barry)24
b(Jay)-5 b(,)24 b(Simon)g(Marlo)n(w)-5 b(,)23 b(Conor)g(McBride,)i(Gre)
o(g)e(Morrisett,)-150 2470 y(T)m(im)g(Sheard,)f(Martin)g(Sulzmann,)g
(and)g(Don)g(Syme.)32 b(W)-7 b(e)24 b(are)f(par)n(-)-150
2570 y(ticularly)c(grateful)f(to)h(Franc)-32 b(\270)s(ois)20
b(Pottier)f(for)g(his)g(detailed)g(insights.)-150 2767
y FU(8)99 b(Refer)n(ences)p Black -150 2907 a FH([Aug98])p
Black 68 w(Lennart)15 b(Augustsson.)k(Cayenne)d(\227)f(a)g(language)h
(with)f(depen-)170 2998 y(dent)k(types.)29 b(In)19 b
Fz(A)n(CM)g(SIGPLAN)f(International)i(Confer)m(ence)170
3089 y(on)29 b(Functional)h(Pr)m(o)o(gr)o(amming)f(\(ICFP'98\))p
FH(,)i(v)o(olume)e(34\(1\))170 3180 y(of)c Fz(A)n(CM)g(SIGPLAN)f
(Notices)p FH(,)i(pages)g(239\226250,)j(Baltimore,)170
3272 y(1998.)19 b(A)m(CM.)p Black -150 3393 a([BS02])p
Black 104 w(AL)28 b(Baars)h(and)g(SD)f(Swierstra.)58
b(T)-6 b(yping)29 b(dynamic)h(typing.)170 3485 y(In)f
Fz(A)n(CM)g(SIGPLAN)f(International)j(Confer)m(ence)g(on)f(Func-)170
3576 y(tional)f(Pr)m(o)o(gr)o(amming)h(\(ICFP'02\))p
FH(,)h(pages)f(157\226166,)k(Pitts-)170 3667 y(b)o(ur)o(gh,)18
b(September)i(2002.)g(A)m(CM.)p Black -150 3789 a([CH03])p
Black 92 w(James)37 b(Chene)o(y)h(and)g(Ralf)e(Hinze.)85
b(First-class)36 b(phantom)170 3880 y(types.)27 b(CUCIS)18
b(TR2003-1901,)i(Cornell)f(Uni)n(v)o(ersity)-5 b(,)19
b(2003.)p Black -150 4001 a([Coq92])p Black 72 w(T)i(Coquand.)37
b(P)o(attern)22 b(matching)g(with)g(dependent)h(types.)37
b(In)170 4093 y Fz(Pr)m(oc)20 b(workshop)i(on)f(Lo)o(gical)g(F)l(r)o
(ame)o(works,)g(Bastaad)p FH(,)g(pages)170 4184 y(66\22679,)f(1992.)p
Black -150 4305 a([Dyb91])p Black 68 w(Peter)30 b(Dybjer)l(.)66
b(Inducti)n(v)o(e)32 b(Sets)f(and)h(F)o(amilies)e(in)h(Martin-)170
4397 y(L)6 b(\250)-31 b(of)t(')l(s)17 b(Type)i(Theory)-5
b(.)26 b(In)18 b(G)t(\264)-29 b(erard)18 b(Huet)g(and)h(Gordon)g
(Plotkin,)170 4488 y(editors,)f Fz(Lo)o(gical)i(F)l(r)o(ame)o(works)p
FH(.)e(CUP)-8 b(,)18 b(1991.)p Black -150 4609 a([Hin03])p
Black 84 w(Ralf)k(Hinze.)42 b(Fun)23 b(with)g(phantom)i(types.)42
b(In)23 b(Jereme)o(y)h(Gib-)170 4701 y(bons)29 b(and)f(Oe)o(ge)h(de)f
(Moor)m(,)j(editors,)f Fz(The)e(fun)g(of)g(pr)m(o)o(gr)o(am-)170
4792 y(ming)p FH(,)18 b(pages)i(245\226262.)h(P)o(algra)o(v)o(e,)d
(2003.)p Black -150 4913 a([Jay03])p Black 97 w(Barry)23
b(Jay)-5 b(.)41 b(The)23 b(pattern)g(calculus.)41 b Fz(A)n(CM)22
b(T)l(r)o(ansactions)i(on)170 5005 y(Pr)m(o)o(gr)o(amming)19
b(Langua)o(g)o(es)i(and)f(Systems)p FH(,)f(T)-6 b(o)19
b(appear)m(,)g(2003.)p Black -150 5126 a([Mag94])p Black
60 w(L)e(Magnusson.)27 b Fz(The)18 b(implementation)h(of)f(ALF)f(-)g(a)
h(pr)m(oof)h(edi-)170 5217 y(tor)h(based)h(on)g(Martin-L)6
b(\250)-31 b(of')m(s)20 b(monomorhic)i(type)e(theory)h(with)170
5309 y(e)o(xplicit)26 b(substitution)p FH(.)53 b(PhD)26
b(thesis,)j(Chalmers)e(Uni)n(v)o(ersity)-5 b(,)170 5400
y(1994.)p Black Black Black 2049 83 a([MC97])p Black
80 w(E)21 b(Meijer)i(and)g(K)f(Claessen.)39 b(The)22
b(design)h(and)g(implementa-)2369 174 y(tion)16 b(of)g(Mondrian.)22
b(In)16 b(J)g(Launchb)o(ury)-5 b(,)18 b(editor)m(,)e
Fz(Hask)o(ell)h(work-)2369 266 y(shop)p FH(,)i(Amsterdam,)g(1997.)p
Black 2049 390 a([MM04])p Black 64 w(C)14 b(McBride)i(and)f(J)g
(McKinna.)20 b(The)14 b(vie)n(w)i(from)f(the)g(left.)j
Fz(J)n(our)o(-)2369 482 y(nal)h(of)g(Functional)g(Pr)m(o)o(gr)o(amming)
p FH(,)h(14\(1\):69\226111,)h(2004.)p Black 2049 606
a([NPP03])p Black 58 w(Aleksandar)h(Nane)n(vski,)g(Brigitte)f(Pientka,)
g(and)h(Frank)f(Pfen-)2369 697 y(ning.)49 b(A)26 b(modal)g(foundation)h
(for)f(meta-v)n(ariables.)50 b(In)25 b Fz(Pr)m(o-)2369
789 y(ceedings)e(of)f(MERLIN'03,)g(Uppsala,)i(Sweden)p
FH(,)g(pages)g(159\226)2369 880 y(170,)19 b(2003.)p Black
2049 1005 a([OZZ01])p Black 50 w(Martin)d(Odersk)o(y)-5
b(,)17 b(Matthias)f(Zenger)m(,)g(and)h(Christoph)f(Zenger)l(.)2369
1096 y(Colored)23 b(local)h(type)f(inference.)42 b(In)23
b Fz(28th)h(A)n(CM)f(Symposium)2369 1187 y(on)30 b(Principles)g(of)g
(Pr)m(o)o(gr)o(amming)h(Langua)o(g)o(es)h(\(POPL)m('01\))p
FH(,)2369 1279 y(London,)19 b(January)h(2001.)g(A)m(CM.)p
Black 2049 1403 a([PS04])p Black 112 w(Simon)c(Pe)o(yton)g(Jones)h(and)
g(Mark)f(Shields.)21 b(Practical)15 b(type)i(in-)2369
1494 y(ference)k(for)h(higher)o(-rank)g(types.)34 b(Unpublished)23
b(manuscript,)2369 1586 y(2004.)p Black 2049 1710 a([PT98])p
Black 108 w(Benjamin)c(C.)f(Pierce)h(and)g(Da)o(vid)g(N.)g(T)m(urner)l
(.)27 b(Local)19 b(type)g(in-)2369 1802 y(ference.)34
b(In)20 b Fz(25th)i(A)n(CM)e(Symposium)i(on)g(Principles)f(of)f(Pr)m
(o-)2369 1893 y(gr)o(amming)27 b(Langua)o(g)o(es)h(\(POPL)m('98\))p
FH(,)f(pages)h(252\226265,)i(San)2369 1984 y(Die)o(go,)18
b(January)j(1998.)e(A)m(CM.)p Black 2049 2109 a([Rob65])p
Black 72 w(J)l(A)28 b(Robinson.)62 b(A)29 b(machine-oriented)i(logic)f
(based)g(on)g(the)2369 2200 y(resolution)19 b(principle.)27
b Fz(J)m(A)n(CM)p FH(,)18 b(12\(1\):23\22641,)j(January)f(1965.)p
Black 2049 2325 a([She04])p Black 84 w(T)m(im)i(Sheard.)38
b(Languages)24 b(of)f(the)f(future.)39 b(In)22 b Fz(A)n(CM)g(Confer)o
(-)2369 2416 y(ence)h(on)g(Object)g(Orientated)g(Pr)m(o)o(gr)o(amming)h
(Systems,)g(Lan-)2369 2507 y(gua)o(g)o(es)c(and)g(Applicatioons)g
(\(OOPSLA)m('04\))p FH(,)e(2004.)p Black 2049 2632 a([SP03])p
Black 112 w(V)l(incent)i(Simonet)h(and)g(Franc)-29 b(\270)t(ois)21
b(Pottier)l(.)32 b(Constraint-based)2369 2723 y(type)21
b(inference)h(with)e(guarded)j(algebraic)e(data)g(types.)34
b(T)-5 b(ech-)2369 2814 y(nical)19 b(report,)f(Inria,)h(July)g(2003.)p
Black 2049 2939 a([SP04])p Black 112 w(T)m(im)43 b(Sheard)h(and)g(Emir)
f(P)o(asalic.)106 b(Meta-programming)2369 3030 y(with)31
b(b)o(uilt-in)g(type)h(equality)-5 b(.)69 b(In)31 b Fz(Pr)m(oc)h(4th)g
(international)2369 3122 y(workshop)k(on)f(lo)o(gical)g(fr)o(ame)o
(works)g(and)h(meta-languae)m(gs)2369 3213 y(\(LFM'04\),)18
b(Cork)p FH(,)h(July)g(2004.)p Black 2049 3337 a([SSW04])p
Black 41 w(Peter)33 b(Stuck)o(e)o(y)-5 b(,)39 b(Martin)34
b(Sulzmann,)39 b(and)c(Jeremy)g(W)-6 b(azn)o(y)h(.)2369
3429 y(T)f(ype)21 b(annotations)i(in)e(Hask)o(ell.)35
b(T)-5 b(echnical)22 b(report,)g(National)2369 3520 y(Uni)n(v)o(ersity)
d(of)g(Singapore,)g(204.)p Black 2049 3645 a([XCC03])p
Black 42 w(Hongwei)e(Xi,)f(Chiyan)h(Chen,)g(and)g(Gang)g(Chen.)22
b(Guarded)17 b(re-)2369 3736 y(cursi)n(v)o(e)f(datatype)i
(constructors.)j(In)c Fz(Pr)m(oceedings)g(of)f(the)g(30th)2369
3827 y(A)n(CM)33 b(SIGPLAN-SIGA)n(CT)f(Symposium)k(on)f(Principles)f
(of)2369 3919 y(Pr)m(o)o(gr)o(amming)26 b(Langua)o(g)o(es)p
FH(,)j(pages)e(224\226235.)g(A)m(CM)f(Press,)2369 4010
y(2003.)p Black 2049 4134 a([Xi04])p Black 121 w(Hongwei)g(Xi.)49
b(Applied)27 b(type)f(system.)50 b(In)26 b Fz(Pr)m(oceedings)h(of)2369
4226 y(TYPES)i(2003)p FH(,)35 b(v)o(olume)c(3085)h(of)f
Fz(Lectur)m(e)g(Notes)f(in)h(Com-)2369 4317 y(puter)19
b(Science)p FH(,)h(pages)f(394\226408.)i(Springer)e(V)-8
b(erlag,)19 b(2004.)p Black 2049 4442 a([XP99])p Black
100 w(Hongwei)39 b(Xi)f(and)h(Frank)f(Pfenning.)90 b(Dependent)40
b(types)2369 4533 y(in)34 b(practical)h(programming.)79
b(In)34 b Fz(26th)i(A)n(CM)e(Symposium)2369 4624 y(on)c(Principles)g
(of)g(Pr)m(o)o(gr)o(amming)h(Langua)o(g)o(es)h(\(POPL)m('99\))p
FH(,)2369 4716 y(pages)19 b(214\226227,)i(San)e(Antonio,)g(January)h
(1999.)g(A)m(CM.)p Black 2049 4840 a([Zen97])p Black
80 w(C)15 b(Zenger)l(.)21 b(Inde)o(x)o(ed)c(types.)j
Fz(Theor)m(etical)d(Computer)f(Science)p FH(,)2369 4932
y(pages)j(147\226165,)i(1997.)p Black 1908 5649 a FT(15)p
Black eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
